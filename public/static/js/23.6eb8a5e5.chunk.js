(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[23],{1570:function(e,a,t){"use strict";var r=t(1),n=t(4),l=t(0),c=(t(3),t(2)),o=t(542),i=t(211),s=Object(i.a)(l.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=Object(i.a)(l.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),u=t(25),d=Object(i.a)(l.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=t(13),b=t(8),E=l.createElement(m,null),v=l.createElement(s,null),f=l.createElement(d,null),h=l.forwardRef((function(e,a){var t=e.checkedIcon,i=void 0===t?E:t,s=e.classes,m=e.color,u=void 0===m?"secondary":m,d=e.icon,b=void 0===d?v:d,h=e.indeterminate,y=void 0!==h&&h,g=e.indeterminateIcon,x=void 0===g?f:g,j=e.inputProps,O=e.size,w=void 0===O?"medium":O,S=Object(n.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),k=y?x:b,C=y?x:i;return l.createElement(o.a,Object(r.a)({type:"checkbox",classes:{root:Object(c.a)(s.root,s["color".concat(Object(p.a)(u))],y&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:u,inputProps:Object(r.a)({"data-indeterminate":y},j),icon:l.cloneElement(k,{fontSize:void 0===k.props.fontSize&&"small"===w?w:k.props.fontSize}),checkedIcon:l.cloneElement(C,{fontSize:void 0===C.props.fontSize&&"small"===w?w:C.props.fontSize}),ref:a},S))}));a.a=Object(b.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(h)},1571:function(e,a,t){"use strict";var r=t(1),n=t(4),l=t(0),c=(t(3),t(2)),o=t(8),i=l.forwardRef((function(e,a){var t=e.disableSpacing,o=void 0!==t&&t,i=e.classes,s=e.className,m=Object(n.a)(e,["disableSpacing","classes","className"]);return l.createElement("div",Object(r.a)({className:Object(c.a)(i.root,s,!o&&i.spacing),ref:a},m))}));a.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(i)},2180:function(e,a,t){"use strict";t.r(a);var r=t(11),n=t(0),l=t.n(n),c=t(59),o=t(1398),i=t(412),s=t(1587),m=t(1578),u=t(1368),d=t(31),p=t.n(d),b=t(121),E=t(131),v=t(7),f=t(16),h=t(2),y=t(1567),g=t(1367),x=t(64),j=t(1668),O=t.n(j),w=Object(c.a)((function(){return{root:{}}}));var S=function(e){var a=e.className,t=e.user,r=Object(v.a)(e,["className","user"]),n=w();return l.a.createElement("div",Object.assign({className:Object(h.a)(n.root,a)},r),l.a.createElement(y.a,{separator:l.a.createElement(O.a,{fontSize:"small"}),"aria-label":"breadcrumb"},l.a.createElement(g.a,{color:"inherit",to:"/app",component:f.a},"Dashboard"),l.a.createElement(g.a,{color:"inherit",to:"/app/employees",component:f.a},"Employees"),l.a.createElement(x.a,{color:"textPrimary"},t.first_name+" "+t.last_name)),l.a.createElement(x.a,{variant:"h3",color:"textPrimary"},"Settings"))},k=t(105),C=t(268),_=t(1384),N=t(1385),P=t(414),B=t(1571),q=t(210),z=t(270),T=Object(c.a)((function(e){return{root:{},name:{marginTop:e.spacing(1)},avatar:{height:100,width:100}}}));var I=function(e){var a=e.user,t=e.className,r=Object(v.a)(e,["user","className"]),n=T();return l.a.createElement(_.a,Object.assign({className:Object(h.a)(n.root,t)},r),l.a.createElement(N.a,null,l.a.createElement(i.a,{display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"},l.a.createElement(P.a,{className:n.avatar}),l.a.createElement(x.a,{className:n.name,gutterBottom:!0,variant:"h3",color:"textPrimary"},a.first_name+" "+a.last_name),l.a.createElement(x.a,{color:"textPrimary",variant:"body1"},a.email),l.a.createElement(x.a,{color:"textSecondary",variant:"body2"},a.role," ",function(e){var a={true:{text:"Active",color:"success"},false:{text:"Not Active",color:"error"}}[e],t=a.text,r=a.color;return l.a.createElement(z.a,{color:r},t)}(a.active)))),l.a.createElement(B.a,null,l.a.createElement(q.a,{fullWidth:!0,variant:"text"},"Remove picture")))},A=t(55),W=t.n(A),M=t(97),L=t(87),R=t(213),U=t(132),H=t(1396),D=t(533),F=t(1379),V=t(863),J=(t(206),["Manager","Helper","Driver","Foreman"]),$=Object(c.a)((function(){return{root:{}}}));var Y=function(e){var a=e.user,t=e.className,r=e.handleUpdate,n=Object(v.a)(e,["user","className","handleUpdate"]),c=$(),o=(Object(k.b)(),Object(U.b)().enqueueSnackbar);return l.a.createElement(R.b,{enableReinitialize:!0,initialValues:{active:a.active,email:a.email,first_name:a.first_name,last_name:a.last_name,role:a.role,admin:a.admin},validationSchema:L.c().shape({email:L.e().email("Must be a valid email").max(255).required("Email is required"),first_name:L.e().max(255).required("First name is required"),last_name:L.e().max(255).required("Last name is required")}),onSubmit:function(){var e=Object(M.a)(W.a.mark((function e(t,n){var l,c,i,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.resetForm,c=n.setErrors,i=n.setStatus,s=n.setSubmitting,e.prev=1,e.next=4,r(t,a.id);case 4:l(),i({success:!0}),o("Profile updated",{variant:"success"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),i({success:!1}),c({submit:e.t0.message});case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var a=e.errors,r=e.handleBlur,o=e.handleChange,s=e.handleSubmit,m=e.isSubmitting,d=e.touched,p=e.values;return l.a.createElement("form",{onSubmit:s},l.a.createElement(_.a,Object.assign({className:Object(h.a)(c.root,t)},n),l.a.createElement(H.a,{title:"Profile"}),l.a.createElement(u.a,null),l.a.createElement(N.a,null,l.a.createElement(C.a,{container:!0,spacing:4},l.a.createElement(C.a,{item:!0,md:6,xs:12},l.a.createElement(D.a,{error:Boolean(d.first_name&&a.first_name),fullWidth:!0,helperText:d.first_name&&a.first_name,label:"First Name",name:"first_name",onBlur:r,onChange:o,required:!0,type:"first_name",value:p.first_name,variant:"outlined"})),l.a.createElement(C.a,{item:!0,md:6,xs:12},l.a.createElement(D.a,{error:Boolean(d.last_name&&a.last_name),fullWidth:!0,helperText:d.last_name&&a.last_name,label:"Last Name",name:"last_name",onBlur:r,onChange:o,required:!0,type:"last_name",value:p.last_name,variant:"outlined"})),l.a.createElement(C.a,{item:!0,md:6,xs:12},l.a.createElement(D.a,{error:Boolean(d.email&&a.email),fullWidth:!0,helperText:d.email&&a.email?a.email:"We will use this email to contact you",label:"Email Address",name:"email",onBlur:r,onChange:o,required:!0,type:"email",value:p.email,variant:"outlined"})),l.a.createElement(C.a,{item:!0,md:6,xs:12},l.a.createElement(D.a,{fullWidth:!0,label:"Select Role",name:"role",onChange:o,select:!0,SelectProps:{native:!0},value:p.role||" ",variant:"outlined"},J.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})))),l.a.createElement(C.a,{item:!0,md:6,xs:12},l.a.createElement(x.a,{variant:"h6",color:"textPrimary"},"Employee Status"),l.a.createElement(x.a,{variant:"body2",color:"textSecondary"},"Toggling this will make this Employees Active"),l.a.createElement(F.a,{checked:p.active,edge:"start",name:"active",onChange:o})),l.a.createElement(C.a,{item:!0,md:6,xs:12},l.a.createElement(x.a,{variant:"h6",color:"textPrimary"},"Add admin power"),l.a.createElement(x.a,{variant:"body2",color:"textSecondary"},"Toggling this will make this Employee Admin"),l.a.createElement(F.a,{checked:p.admin,edge:"start",name:"admin",onChange:o}))),a.submit&&l.a.createElement(i.a,{mt:3},l.a.createElement(V.a,{error:!0},a.submit))),l.a.createElement(u.a,null),l.a.createElement(i.a,{p:2,display:"flex",justifyContent:"flex-end"},l.a.createElement(q.a,{color:"secondary",disabled:m,type:"submit",variant:"contained"},"Save Changes"))))}))},G=Object(c.a)((function(){return{root:{}}}));var K=function(e){var a=e.className,t=e.user,r=e.handleUpdate,n=Object(v.a)(e,["className","user","handleUpdate"]),c=G();return l.a.createElement(C.a,Object.assign({className:Object(h.a)(c.root,a),container:!0,spacing:3},n),l.a.createElement(C.a,{item:!0,lg:4,md:6,xl:3,xs:12},l.a.createElement(I,{user:t})),l.a.createElement(C.a,{item:!0,lg:8,md:6,xl:9,xs:12},l.a.createElement(Y,{user:t,handleUpdate:r})))},Q=t(10),X=t(209),Z=t(27),ee=Object(c.a)((function(e){return{root:{},overview:Object(Q.a)({padding:e.spacing(3),display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},e.breakpoints.down("md"),{flexDirection:"column-reverse",alignItems:"flex-start"}),productImage:{marginRight:e.spacing(1),height:48,width:48},details:Object(Q.a)({padding:e.spacing(3),display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},e.breakpoints.down("md"),{flexDirection:"column",alignItems:"flex-start"})}}));var ae=function(e){var a=e.className,t=Object(v.a)(e,["className"]),c=ee(),o=Object(b.a)(),s=Object(n.useState)(null),m=Object(r.a)(s,2),d=m[0],p=m[1],E=Object(n.useCallback)((function(){Z.a.get("/api/account/subscription").then((function(e){o.current&&p(e.data.subscription)}))}),[o]);return Object(n.useEffect)((function(){E()}),[E]),d?l.a.createElement(_.a,Object.assign({className:Object(h.a)(c.root,a)},t),l.a.createElement(H.a,{title:"Manage your subscription"}),l.a.createElement(u.a,null),l.a.createElement(N.a,null,l.a.createElement(X.a,{variant:"outlined"},l.a.createElement(i.a,{className:c.overview},l.a.createElement("div",null,l.a.createElement(x.a,{display:"inline",variant:"h4",color:"textPrimary"},d.currency,d.price),l.a.createElement(x.a,{display:"inline",variant:"subtitle1"},"/mo")),l.a.createElement(i.a,{display:"flex",alignItems:"center"},l.a.createElement("img",{alt:"Product",className:c.productImage,src:"/static/images/products/product_freelancer.svg"}),l.a.createElement(x.a,{variant:"overline",color:"textSecondary"},d.name))),l.a.createElement(u.a,null),l.a.createElement(i.a,{className:c.details},l.a.createElement("div",null,l.a.createElement(x.a,{variant:"body2",color:"textPrimary"},"".concat(d.proposalsLeft," proposals left")),l.a.createElement(x.a,{variant:"body2",color:"textPrimary"},"".concat(d.templatesLeft," templates"))),l.a.createElement("div",null,l.a.createElement(x.a,{variant:"body2",color:"textPrimary"},"".concat(d.invitesLeft," invites left")),l.a.createElement(x.a,{variant:"body2",color:"textPrimary"},"".concat(d.adsLeft," ads left"))),l.a.createElement("div",null,d.hasAnalytics&&l.a.createElement(x.a,{variant:"body2",color:"textPrimary"},"Analytics dashboard"),d.hasEmailAlerts&&l.a.createElement(x.a,{variant:"body2",color:"textPrimary"},"Email alerts")))),l.a.createElement(i.a,{mt:2,display:"flex",justifyContent:"flex-end"},l.a.createElement(q.a,{size:"small",color:"secondary",variant:"contained"},"Upgrade plan")),l.a.createElement(i.a,{mt:2},l.a.createElement(x.a,{variant:"body2",color:"textSecondary"},"The refunds don't work once you have the subscription, but you can always"," ",l.a.createElement(g.a,{color:"secondary",component:f.a,to:"#"},"Cancel your subscription"),".")))):null},te=t(1378),re=t(1570),ne=t(539),le=Object(c.a)((function(){return{root:{}}}));var ce=function(e){var a=e.className,t=Object(v.a)(e,["className"]),r=le(),n=function(){var e=Object(M.a)(W.a.mark((function e(a){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Object(ne.a)(500);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("form",{onSubmit:n},l.a.createElement(_.a,Object.assign({className:Object(h.a)(r.root,a)},t),l.a.createElement(H.a,{title:"Notifications"}),l.a.createElement(u.a,null),l.a.createElement(N.a,null,l.a.createElement(C.a,{container:!0,spacing:6,wrap:"wrap"},l.a.createElement(C.a,{item:!0,md:4,sm:6,xs:12},l.a.createElement(x.a,{gutterBottom:!0,variant:"h6",color:"textPrimary"},"System"),l.a.createElement(x.a,{gutterBottom:!0,variant:"body2",color:"textSecondary"},"You will recieve emails in your business email address"),l.a.createElement("div",null,l.a.createElement(te.a,{control:l.a.createElement(re.a,{defaultChecked:!0}),label:"Email alerts"})),l.a.createElement("div",null,l.a.createElement(te.a,{control:l.a.createElement(re.a,null),label:"Push Notifications"})),l.a.createElement("div",null,l.a.createElement(te.a,{control:l.a.createElement(re.a,{defaultChecked:!0}),label:"Text message"})),l.a.createElement("div",null,l.a.createElement(te.a,{control:l.a.createElement(re.a,{defaultChecked:!0}),label:l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{variant:"body1",color:"textPrimary"},"Phone calls"),l.a.createElement(x.a,{variant:"caption"},"Short voice phone updating you"))}))),l.a.createElement(C.a,{item:!0,md:4,sm:6,xs:12},l.a.createElement(x.a,{gutterBottom:!0,variant:"h6",color:"textPrimary"},"Chat App"),l.a.createElement(x.a,{gutterBottom:!0,variant:"body2",color:"textSecondary"},"You will recieve emails in your business email address"),l.a.createElement("div",null,l.a.createElement(te.a,{control:l.a.createElement(re.a,{defaultChecked:!0}),label:"Email"})),l.a.createElement("div",null,l.a.createElement(te.a,{control:l.a.createElement(re.a,{defaultChecked:!0}),label:"Push notifications"}))))),l.a.createElement(u.a,null),l.a.createElement(i.a,{p:2,display:"flex",justifyContent:"flex-end"},l.a.createElement(q.a,{color:"secondary",type:"submit",variant:"contained"},"Save Settings"))))},oe=Object(c.a)((function(){return{root:{}}}));var ie=function(e){var a=e.className,t=e.user,r=e.handlePasswordChange,n=Object(v.a)(e,["className","user","handlePasswordChange"]),c=oe(),o=Object(U.b)().enqueueSnackbar;return l.a.createElement(R.b,{initialValues:{password:"",password_confirmation:"",current_password:""},validationSchema:L.c().shape({current_password:L.e().min(6,"Must be at least 6 characters").max(255).required("Required"),password:L.e().min(6,"Must be at least 6 characters").max(255).required("Required"),password_confirmation:L.e().oneOf([L.d("password"),null],"Passwords must match").required("Required")}),onSubmit:function(){var e=Object(M.a)(W.a.mark((function e(a,n){var l,c,i,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.resetForm,c=n.setErrors,i=n.setStatus,s=n.setSubmitting,e.prev=1,e.next=4,Object(ne.a)(500);case 4:r(a,t.id),l(),i({success:!0}),s(!1),o("Password updated",{variant:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),i({success:!1}),c({submit:e.t0.message}),s(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var t=e.errors,r=e.handleBlur,o=e.handleChange,s=e.handleSubmit,m=e.isSubmitting,d=e.touched,p=e.values;return l.a.createElement("form",{onSubmit:s},l.a.createElement(_.a,Object.assign({className:Object(h.a)(c.root,a)},n),l.a.createElement(H.a,{title:"Change Password"}),l.a.createElement(u.a,null),l.a.createElement(N.a,null,l.a.createElement(C.a,{container:!0,spacing:3},l.a.createElement(C.a,{item:!0,md:4,sm:6,xs:12},l.a.createElement(D.a,{error:Boolean(d.current_password&&t.current_password),fullWidth:!0,helperText:d.current_password&&t.current_password,label:"Current Password",name:"current_password",onBlur:r,onChange:o,type:"password",value:p.current_password,variant:"outlined"})),l.a.createElement(C.a,{item:!0,md:4,sm:6,xs:12},l.a.createElement(D.a,{error:Boolean(d.password&&t.password),fullWidth:!0,helperText:d.password&&t.password,label:"New Password",name:"password",onBlur:r,onChange:o,type:"password",value:p.password,variant:"outlined"})),l.a.createElement(C.a,{item:!0,md:4,sm:6,xs:12},l.a.createElement(D.a,{error:Boolean(d.password_confirmation&&t.password_confirmation),fullWidth:!0,helperText:d.password_confirmation&&t.password_confirmation,label:"Password Confirmation",name:"password_confirmation",onBlur:r,onChange:o,type:"password",value:p.password_confirmation,variant:"outlined"}))),t.submit&&l.a.createElement(i.a,{mt:3},l.a.createElement(V.a,{error:!0},t.submit))),l.a.createElement(u.a,null),l.a.createElement(i.a,{p:2,display:"flex",justifyContent:"flex-end"},l.a.createElement(q.a,{color:"secondary",disabled:m,type:"submit",variant:"contained"},"Change Password"))))}))},se=(t(110),Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})));a.default=function(e){var a=e.match,t=(e.history,se()),c=Object(n.useState)("general"),d=Object(r.a)(c,2),v=d[0],f=d[1],h=Object(b.a)(),y=Object(n.useState)(null),g=Object(r.a)(y,2),x=g[0],j=g[1],O=a.params.id,w=Object(n.useCallback)((function(){p.a.get("/api/v1/users/".concat(O)).then((function(e){h.current&&j(e.data.user)}))}),[O]);return Object(n.useEffect)((function(){w()}),[w]),x?l.a.createElement(E.a,{className:t.root,title:"Settings"},l.a.createElement(o.a,{maxWidth:"lg"},l.a.createElement(S,{user:x}),l.a.createElement(i.a,{mt:3},l.a.createElement(s.a,{onChange:function(e,a){f(a)},scrollButtons:"auto",value:v,variant:"scrollable",textColor:"secondary",className:t.tabs},[{value:"general",label:"General"},{value:"subscription",label:"Subscription"},{value:"notifications",label:"Notifications"},{value:"security",label:"Security"}].map((function(e){return l.a.createElement(m.a,{key:e.value,label:e.label,value:e.value})})))),l.a.createElement(u.a,null),l.a.createElement(i.a,{mt:3},"general"===v&&l.a.createElement(K,{user:x,handleUpdate:function(e,a){fetch("/api/v1/users/".concat(a),{method:"PUT",body:JSON.stringify({user:e}),headers:{"Content-Type":"application/json"}}).then((function(a){j(e)}))}}),"subscription"===v&&l.a.createElement(ae,null),"notifications"===v&&l.a.createElement(ce,null),"security"===v&&l.a.createElement(ie,{user:x,handlePasswordChange:function(e,a){fetch("/api/v1/users/".concat(a),{method:"PUT",body:JSON.stringify({user:e}),headers:{"Content-Type":"application/json"}})}})))):null}}}]);
//# sourceMappingURL=23.6eb8a5e5.chunk.js.map