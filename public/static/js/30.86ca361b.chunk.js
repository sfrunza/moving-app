(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[30],{1517:function(e,a,t){"use strict";a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},1520:function(e,a,t){"use strict";var n=t(77),c=t(30),r=t(0),l=t.n(r),o=t(4),i=t(111),s=t(13),m=Object(i.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(s.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(s.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(s.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(s.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(s.c)(e.palette.warning.main,.08)}}}));function u(e){var a=e.className,t=e.color,r=e.children,i=(e.style,Object(c.a)(e,["className","color","children","style"])),s=m();return l.a.createElement("span",Object.assign({className:Object(o.a)(s.root,Object(n.a)({},s[t],t),a)},i),r)}u.defaultProps={className:"",color:"secondary"},a.a=u},2337:function(e,a,t){"use strict";t.r(a);var n=t(26),c=t(0),r=t.n(c),l=t(111),o=t(1292),i=t(1407),s=t(20),m=t(199),u=t(494),d=t(30),p=t(15),g=t(4),E=t(1290),b=t(1412),f=t(1278),v=t(67),h=t(198),O=t(135),j=t(2298),y=t(2299),k=t(1497),N=t(495),S=t.n(N),x=Object(l.a)((function(e){return{root:{},action:{marginBottom:e.spacing(1),"& + &":{marginLeft:e.spacing(1)}},actionIcon:{marginRight:e.spacing(1)}}}));var C=function(e){var a=e.className,t=Object(d.a)(e,["className"]),n=x();return r.a.createElement(E.a,Object.assign({className:Object(g.a)(n.root,a),container:!0,justify:"space-between",spacing:3},t),r.a.createElement(E.a,{item:!0},r.a.createElement(b.a,{separator:r.a.createElement(S.a,{fontSize:"small"}),"aria-label":"breadcrumb"},r.a.createElement(f.a,{variant:"body1",color:"inherit",to:"/app",component:p.a},"Dashboard"),r.a.createElement(f.a,{variant:"body1",color:"inherit",to:"/app/management",component:p.a},"Management"),r.a.createElement(v.a,{variant:"body1",color:"textPrimary"},"Invoices")),r.a.createElement(v.a,{variant:"h3",color:"textPrimary"},"All Invoices"),r.a.createElement(i.a,{mt:2},r.a.createElement(h.a,{className:n.action},r.a.createElement(O.a,{fontSize:"small",className:n.actionIcon},r.a.createElement(j.a,null)),"Import"),r.a.createElement(h.a,{className:n.action},r.a.createElement(O.a,{fontSize:"small",className:n.actionIcon},r.a.createElement(y.a,null)),"Export"))),r.a.createElement(E.a,{item:!0},r.a.createElement(h.a,{color:"secondary",variant:"contained",className:n.action},r.a.createElement(O.a,{fontSize:"small",className:n.actionIcon},r.a.createElement(k.a,null)),"New Invoice")))},w=t(75),P=t(25),I=t(6),A=t.n(I),z=t(291),F=t.n(z),D=t(12),L=t(1294),R=t(486),W=t(795),B=t(1419),M=t(1297),T=t(1421),Y=t(1299),q=t(1300),G=t(1298),J=t(1413),H=t(376),U=t(1424),K=t(1493),Q=t(1489),V=t(1619),X=t(1520),Z=t(1517),$=[{id:"all",name:"All"},{id:"paid",name:"Paid"},{id:"pending",name:"Pending"},{id:"canceled",name:"Canceled"}],_=[{value:"createdAt|desc",label:"Newest first"},{value:"createdAt|asc",label:"Oldest first"}];var ee=Object(l.a)((function(e){return{root:{},queryField:{width:500},statusField:{flexBasis:200},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:6,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.default},bulkAction:{marginLeft:e.spacing(2)},avatar:{backgroundColor:D.a.red[500],color:D.a.common.white}}}));function ae(e){var a=e.className,t=e.invoices,l=Object(d.a)(e,["className","invoices"]),o=ee(),s=Object(c.useState)([]),m=Object(n.a)(s,2),u=m[0],E=m[1],b=Object(c.useState)(0),j=Object(n.a)(b,2),y=j[0],k=j[1],N=Object(c.useState)(10),S=Object(n.a)(N,2),x=S[0],C=S[1],I=Object(c.useState)(""),z=Object(n.a)(I,2),D=z[0],ae=z[1],te=Object(c.useState)(_[0].value),ne=Object(n.a)(te,2),ce=ne[0],re=ne[1],le=Object(c.useState)({status:null}),oe=Object(n.a)(le,2),ie=oe[0],se=oe[1],me=function(e){E(e.target.checked?t.map((function(e){return e.id})):[])},ue=function(e,a,t){return e.filter((function(e){var n=!0;if(a){var c=!1;["name","email"].forEach((function(t){e.customer[t].toLowerCase().includes(a.toLowerCase())&&(c=!0)})),c||(n=!1)}return t.status&&e.status!==t.status&&(n=!1),n}))}(t,D,ie),de=function(e,a,t){return e.slice(a*t,a*t+t)}(ue,y,x),pe=u.length>0,ge=u.length>0&&u.length<t.length,Ee=u.length===t.length;return r.a.createElement(L.a,Object.assign({className:Object(g.a)(o.root,a)},l),r.a.createElement(i.a,{p:2},r.a.createElement(i.a,{display:"flex",alignItems:"center"},r.a.createElement(R.a,{className:o.queryField,InputProps:{startAdornment:r.a.createElement(W.a,{position:"start"},r.a.createElement(O.a,{fontSize:"small",color:"action"},r.a.createElement(K.a,null)))},onChange:function(e){e.persist(),ae(e.target.value)},placeholder:"Search invoices by customer",value:D,variant:"outlined"}),r.a.createElement(i.a,{flexGrow:1}),r.a.createElement(R.a,{label:"Sort By",name:"sort",onChange:function(e){e.persist(),re(e.target.value)},select:!0,SelectProps:{native:!0},value:ce,variant:"outlined"},_.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),r.a.createElement(i.a,{mt:2,display:"flex",alignItems:"center"},r.a.createElement(R.a,{className:o.statusField,label:"Status",name:"status",onChange:function(e){e.persist();var a=null;"all"!==e.target.value&&(a=e.target.value),se((function(e){return Object(P.a)(Object(P.a)({},e),{},{status:a})}))},select:!0,SelectProps:{native:!0},value:ie.status||"all",variant:"outlined"},$.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),pe&&r.a.createElement("div",{className:o.bulkOperations},r.a.createElement("div",{className:o.bulkActions},r.a.createElement(B.a,{checked:Ee,indeterminate:ge,onChange:me}),r.a.createElement(h.a,{variant:"outlined",className:o.bulkAction},"Delete"),r.a.createElement(h.a,{variant:"outlined",className:o.bulkAction},"Edit"))),r.a.createElement(F.a,null,r.a.createElement(i.a,{minWidth:1200},r.a.createElement(M.a,null,r.a.createElement(T.a,null,r.a.createElement(Y.a,null,r.a.createElement(q.a,{padding:"checkbox"},r.a.createElement(B.a,{checked:Ee,indeterminate:ge,onChange:me})),r.a.createElement(q.a,null,"Customer"),r.a.createElement(q.a,null,"Status"),r.a.createElement(q.a,null,"Amount"),r.a.createElement(q.a,null,"ID"),r.a.createElement(q.a,null,"Date"),r.a.createElement(q.a,{align:"right"},"Actions"))),r.a.createElement(G.a,null,de.map((function(e){var a=u.includes(e.id);return r.a.createElement(Y.a,{hover:!0,key:e.id,selected:a},r.a.createElement(q.a,{padding:"checkbox"},r.a.createElement(B.a,{checked:a,onChange:function(a){return t=e.id,void(u.includes(t)?E((function(e){return e.filter((function(e){return e!==t}))})):E((function(e){return[].concat(Object(w.a)(e),[t])})));var t},value:a})),r.a.createElement(q.a,null,r.a.createElement(i.a,{display:"flex",alignItems:"center"},r.a.createElement(J.a,{className:o.avatar},Object(Z.a)(e.customer.name)),r.a.createElement(i.a,{ml:2},r.a.createElement(f.a,{variant:"subtitle2",color:"textPrimary",component:p.a,underline:"none",to:"#"},e.customer.name),r.a.createElement(v.a,{variant:"body2",color:"textSecondary"},e.customer.email)))),r.a.createElement(q.a,null,function(e){var a={paid:{text:"Paid",color:"success"},pending:{text:"Pending",color:"warning"},canceled:{text:"Canceled",color:"error"}}[e],t=a.text,n=a.color;return r.a.createElement(X.a,{color:n},t)}(e.status)),r.a.createElement(q.a,null,e.currency,e.amount.toFixed(2)),r.a.createElement(q.a,null,e.id),r.a.createElement(q.a,null,A()(e.createdAt).format("DD/MM/YYYY")),r.a.createElement(q.a,{align:"right"},r.a.createElement(H.a,{component:p.a,to:"#"},r.a.createElement(O.a,{fontSize:"small"},r.a.createElement(Q.a,null))),r.a.createElement(H.a,{component:p.a,to:"/app/management/invoices/1"},r.a.createElement(O.a,{fontSize:"small"},r.a.createElement(V.a,null)))))})))))),r.a.createElement(U.a,{component:"div",count:ue.length,onChangePage:function(e,a){k(a)},onChangeRowsPerPage:function(e){C(e.target.value)},page:y,rowsPerPage:x,rowsPerPageOptions:[5,10,25]}))}ae.defaultProps={invoices:[]};var te=ae,ne=Object(l.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:100}}}));a.default=function(){var e=ne(),a=Object(u.a)(),t=Object(c.useState)(null),l=Object(n.a)(t,2),d=l[0],p=l[1],g=Object(c.useCallback)((function(){s.a.get("/api/management/invoices").then((function(e){a.current&&p(e.data.invoices)}))}),[a]);return Object(c.useEffect)((function(){g()}),[g]),d?r.a.createElement(m.a,{className:e.root,title:"Invoice List"},r.a.createElement(o.a,{maxWidth:!1},r.a.createElement(C,null),d&&r.a.createElement(i.a,{mt:3},r.a.createElement(te,{invoices:d})))):null}}}]);
//# sourceMappingURL=30.86ca361b.chunk.js.map