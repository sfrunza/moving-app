{"version":3,"sources":["icons/Plus.js","managementPages/CalendarView/Toolbar.js","lib/gtm.js","pages/Book/data.js","icons/Trash.js","managementPages/CalendarView/AddEditEventForm.js","managementPages/CalendarView/index.js"],"names":["Plus","createSvgIcon","xmlns","viewBox","fill","fillRule","d","clipRule","viewOptions","icon","ViewConfigIcon","label","value","ViewWeekIcon","CalendarToolbar","props","date","onDateNext","onDatePrev","onDateToday","onViewChange","view","other","Grid","alignItems","container","justifyContent","spacing","item","ButtonGroup","size","Button","onClick","Typography","color","variant","moment","format","Box","sx","map","viewOption","Icon","Tooltip","title","IconButton","newView","fontSize","GTM","this","CONTAINER_ID","initialized","config","containerId","document","configure","script","createElement","noscript","innerHTML","head","insertBefore","childNodes","body","window","dataLayer","push","gtm","services","name","time","price","category","details","Trash","useStyles","makeStyles","theme","infoBox","display","flexDirection","header","padding","closeButton","fontWeight","marginBottom","palette","text","secondary","marginRight","top","width","position","phoneButton","marginTop","iconColor","getInitialValues","event","range","merge","allDay","description","end","addMinutes","Date","start","submit","AddEditEventForm","classes","onAddComplete","onCancel","onDeleteComplete","onEditComplete","dispatch","useDispatch","user","useSelector","state","auth","enqueueSnackbar","useSnackbar","handleDelete","a","deleteEvent","id","console","error","filter","service","isCreating","initialValues","validationSchema","Yup","shape","max","required","onSubmit","values","resetForm","setErrors","setStatus","setSubmitting","data","updateEvent","createEvent","success","anchorOrigin","horizontal","vertical","message","handleChange","handleSubmit","isSubmitting","className","X","style","flex","textAlign","Divider","p","htmlFor","FormControl","minWidth","fullWidth","Select","onChange","displayEmpty","renderValue","selected","length","i","MenuItem","xs","md","gutterBottom","mr","pl","pr","pt","TextField","type","textField","InputLabelProps","shrink","User","customer","first_name","last_name","component","href","email","Mail","phone","disableElevation","startIcon","Phone","admin","mt","flexGrow","disabled","marginLeft","selectedEventSelector","calendar","events","selectedEventId","find","parseInt","FullCalendarWrapper","styled","divider","primary","background","level2","default","alpha","main","fontFamily","typography","paddingBottom","paddingTop","subtitle2","fontWeightMedium","backgroundColor","lineHeight","border","float","hoverName","textDecoration","rateBox","findRatesInDb","array","rates","StyledTooltip","withStyles","tooltip","maxWidth","Calendar","useTheme","calendarRef","useRef","mobileDevice","useMediaQuery","breakpoints","down","isModalOpen","selectedRange","selectedEvent","useState","setDate","setView","useEffect","getEvents","getRates","arr","info","pick_up_date","ratesArr","customerName","rendering","handleEventResize","handleEventDrop","crewSize","extendedProps","crew_size","estimatedTime","estimated_time","newJobRate","newEstimatedQuote","x","log","job_rate","estimated_quote","handleModalClose","closeModal","Page","minHeight","paddingY","Container","Toolbar","calendarEl","current","calendarApi","getApi","next","getDate","prev","today","changeView","Card","boxShadow","shadows","allDayMaintainDuration","dayMaxEventRows","droppable","dayRender","el","formatedDate","theRates","selectBackgroundColor","content","ReactDOM","render","editable","eventClick","arg","history","eventDisplay","eventDrop","eventResizableFromStart","eventResize","eventRender","moveType","job_type","status","job_status","jobsNumber","e","startTime","symbol","completedColor","job_size","placement","bottom","src","alt","Math","floor","headerToolbar","height","initialDate","plugins","dayGridPlugin","interactionPlugin","listPlugin","timeGridPlugin","timelinePlugin","ref","rerenderDelay","select","unselect","selectRange","weekends","Dialog","onClose","open"],"mappings":"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","file":"static/js/10.393e1d88.chunk.js","sourcesContent":["import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Plus = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Plus'\n);\n\nexport default Plus;\n","import PropTypes from \"prop-types\";\nimport {\n  Box,\n  Button,\n  ButtonGroup,\n  Grid,\n  Hidden,\n  IconButton,\n  Tooltip,\n  Typography,\n} from \"@material-ui/core\";\nimport ViewConfigIcon from \"@material-ui/icons/ViewComfy\";\nimport ViewWeekIcon from \"@material-ui/icons/ViewWeek\";\nimport ViewDayIcon from \"@material-ui/icons/ViewDay\";\nimport ViewAgendaIcon from \"@material-ui/icons/ViewAgenda\";\nimport moment from \"moment\";\n\nconst viewOptions = [\n  {\n    icon: ViewConfigIcon,\n    label: \"Month\",\n    value: \"dayGridMonth\",\n  },\n  {\n    icon: ViewWeekIcon,\n    label: \"Week\",\n    value: \"timeGridWeek\",\n  },\n  // {\n  //   icon: ViewDayIcon,\n  //   label: \"Day\",\n  //   value: \"timeGridDay\",\n  // },\n  // {\n  //   icon: ViewAgendaIcon,\n  //   label: \"Agenda\",\n  //   value: \"listWeek\",\n  // },\n];\n\nconst CalendarToolbar = (props) => {\n  const {\n    date,\n    onDateNext,\n    onDatePrev,\n    onDateToday,\n    onViewChange,\n    view,\n    ...other\n  } = props;\n\n  const handleViewChange = (newView) => {\n    if (onViewChange) {\n      onViewChange(newView);\n    }\n  };\n\n  return (\n    <Grid\n      alignItems=\"center\"\n      container\n      justifyContent=\"space-between\"\n      spacing={3}\n      {...other}\n    >\n      <Grid item>\n        <ButtonGroup size=\"small\">\n          <Button onClick={onDatePrev}>Prev</Button>\n          <Button onClick={onDateToday}>Today</Button>\n          <Button onClick={onDateNext}>Next</Button>\n        </ButtonGroup>\n      </Grid>\n      <Grid item>\n        <Typography color=\"textPrimary\" variant=\"h5\">\n          {moment(date).format(\"MMMM YYYY\")}\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Box sx={{ color: \"text.primary\" }}>\n          {viewOptions.map((viewOption) => {\n            const Icon = viewOption.icon;\n            return (\n              <Tooltip key={viewOption.value} title={viewOption.label}>\n                <IconButton\n                  color={viewOption.value === view ? \"primary\" : \"inherit\"}\n                  onClick={() => handleViewChange(viewOption.value)}\n                >\n                  <Icon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            );\n          })}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n};\n\nCalendarToolbar.propTypes = {\n  children: PropTypes.node,\n  date: PropTypes.instanceOf(Date).isRequired,\n  onAddClick: PropTypes.func,\n  onDateNext: PropTypes.func,\n  onDatePrev: PropTypes.func,\n  onDateToday: PropTypes.func,\n  onViewChange: PropTypes.func,\n  view: PropTypes.oneOf([\n    \"dayGridMonth\",\n    \"timeGridWeek\",\n    \"timeGridDay\",\n    \"listWeek\",\n  ]),\n};\n\nexport default CalendarToolbar;\n","const warn = (...args) => {\n  if (process.env.NODE_ENV !== 'development') {\n    return;\n  }\n\n  console.warn(...args);\n};\n\nclass GTM {\n  constructor() {\n    this.CONTAINER_ID = null;\n\n    this.initialized = false;\n  }\n\n  configure(config) {\n    this.CONTAINER_ID = config.containerId;\n  }\n\n  initialize(config) {\n    if (this.initialized) {\n      warn('GTM can only be initialized once.');\n      return;\n    }\n\n    // Maybe you want to load events from server side (in NextJS apps for example),\n    // those can be queued.\n    // SSR queued events can be loaded in the initialize script.\n    // For the moment we do not implement it, but in future we might add it.\n\n    if (!document) {\n      warn('GTM can be initialized only on client side.');\n      return;\n    }\n\n    if (!config.containerId) {\n      warn('GTM requires a GTM ID to be loaded.');\n      return;\n    }\n\n    this.configure(config);\n\n    const script = document.createElement('script');\n    const noscript = document.createElement('noscript');\n\n    script.innerHTML = `\n      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n      })(window,document,'script','dataLayer','${this.CONTAINER_ID}');\n    `;\n    noscript.innerHTML = `\n      <iframe src=\"https://www.googletagmanager.com/ns.html?id=${this.CONTAINER_ID}\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe>\n    `;\n\n    document.head.insertBefore(script, document.head.childNodes[0]);\n    document.body.insertBefore(noscript, document.body.childNodes[0]);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  push(...args) {\n    if (!window) {\n      warn('GTM push works only on client side.');\n      return;\n    }\n\n    if (!window.dataLayer) {\n      window.dataLayer = [];\n    }\n\n    window.dataLayer.push(...args);\n  }\n}\n\n// Singleton\nconst gtm = new GTM();\n\nexport default gtm;\n","export const services = [\n  {\n    name: \"Classic Manicure\",\n    time: 20,\n    price: 30,\n    category: \"manicure\",\n    details: \"Classic Manicure details goes gere\",\n  },\n  {\n    name: \"Nail Extension\",\n    time: 50,\n    price: 60,\n    category: \"manicure\",\n    details: \"Nail Extension details goes gere\",\n  },\n  {\n    name: \"Deluxe Manicure\",\n    time: 30,\n    price: 40,\n    category: \"manicure\",\n    details: \"Deluxe Manicure details goes gere\",\n  },\n  {\n    name: \"Mani-Pedi\",\n    time: 40,\n    price: 60,\n    category: \"pedicure\",\n    details: \"Mani-Pedi details goes gere\",\n  },\n  {\n    name: \"Classic Pedicure\",\n    time: 20,\n    price: 15,\n    category: \"pedicure\",\n    details: \"Classic Pedicure details goes gere\",\n  },\n  {\n    name: \"Medical Pedi\",\n    time: 45,\n    price: 50,\n    category: \"pedicure\",\n    details: \"Medical Pedi details goes gere\",\n  },\n  {\n    name: \"Gel Polish Removal\",\n    time: 15,\n    price: 10,\n    category: \"gel-polish\",\n    details: \"Gel Polish Removal details goes gere\",\n  },\n  {\n    name: \"Gel Polish Manicure\",\n    time: 45,\n    price: 50,\n    category: \"gel-polish\",\n    details: \"Gel Polish Manicure details goes gere\",\n  },\n  {\n    name: \"Custom Design\",\n    time: 60,\n    price: 80,\n    category: \"nail-art\",\n    details: \"Custom Design details goes gere\",\n  },\n];\n","import createSvgIcon from '@material-ui/core/utils/createSvgIcon';\n\nconst Trash = createSvgIcon(\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>, 'Trash'\n);\n\nexport default Trash;\n","import PropTypes from \"prop-types\";\nimport { addMinutes } from \"date-fns\";\nimport merge from \"lodash/merge\";\nimport * as Yup from \"yup\";\nimport { Formik } from \"formik\";\nimport { useSnackbar } from \"notistack\";\nimport {\n  Box,\n  Button,\n  Divider,\n  Grid,\n  IconButton,\n  Typography,\n  FormControl,\n  Select,\n  MenuItem,\n  makeStyles,\n  TextField,\n} from \"@material-ui/core\";\nimport { createEvent, deleteEvent, updateEvent } from \"src/slices/calendar\";\nimport { useDispatch, useSelector } from \"src/store\";\nimport { services } from \"src/pages/Book/data\";\nimport AttachMoneyRoundedIcon from \"@material-ui/icons/AttachMoneyRounded\";\nimport User from \"src/icons/User\";\nimport Mail from \"src/icons/Mail\";\nimport Phone from \"src/icons/Phone\";\nimport TrashIcon from \"src/icons/Trash\";\nimport X from \"src/icons/X\";\n\nconst useStyles = makeStyles((theme) => ({\n  infoBox: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  header: {\n    padding: theme.spacing(1, 2),\n  },\n  closeButton: {\n    padding: theme.spacing(1),\n  },\n  label: {\n    fontWeight: 600,\n    marginBottom: theme.spacing(1),\n    display: \"flex\",\n    color: theme.palette.text.secondary,\n    alignItems: \"baseline\",\n  },\n  icon: {\n    marginRight: 6,\n    top: 6,\n    width: 20,\n    position: \"relative\",\n    color: theme.palette.text.secondary,\n  },\n  phoneButton: {\n    marginTop: theme.spacing(2),\n  },\n  iconColor: {\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst getInitialValues = (event, range) => {\n  if (event) {\n    return merge(\n      {},\n      {\n        allDay: false,\n        color: \"\",\n        description: \"\",\n        end: addMinutes(new Date(), 30),\n        start: new Date(),\n        title: \"\",\n        submit: null,\n      },\n      event\n    );\n  }\n\n  if (range) {\n    return merge(\n      {},\n      {\n        allDay: false,\n        color: \"\",\n        description: \"\",\n        end: new Date(range.end),\n        start: new Date(range.start),\n        title: \"\",\n        submit: null,\n      },\n      event\n    );\n  }\n\n  return {\n    allDay: false,\n    color: \"\",\n    description: \"\",\n    end: addMinutes(new Date(), 30),\n    start: new Date(),\n    title: \"\",\n    submit: null,\n  };\n};\n\nconst AddEditEventForm = (props) => {\n  const classes = useStyles();\n  const {\n    event,\n    onAddComplete,\n    onCancel,\n    onDeleteComplete,\n    onEditComplete,\n    range,\n  } = props;\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => state.auth);\n  const { enqueueSnackbar } = useSnackbar();\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteEvent(event.id));\n\n      if (onDeleteComplete) {\n        onDeleteComplete();\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const duration = (name) => {\n    let obj = services.filter((service) => service.name === name);\n    return obj[0].time;\n  };\n  const price = (name) => {\n    let obj = services.filter((service) => service.name === name);\n    return obj[0].price;\n  };\n\n  const isCreating = !event;\n  return (\n    <Formik\n      initialValues={getInitialValues(event, range)}\n      validationSchema={Yup.object().shape({\n        title: Yup.string().max(255).required(\"Title is required\"),\n      })}\n      onSubmit={async (\n        values,\n        { resetForm, setErrors, setStatus, setSubmitting }\n      ) => {\n        try {\n          const data = {\n            start: values.start,\n            title: values.title,\n          };\n\n          if (event) {\n            await dispatch(updateEvent(event.id, data));\n          } else {\n            await dispatch(createEvent(data));\n          }\n\n          resetForm();\n          setStatus({ success: true });\n          setSubmitting(false);\n          enqueueSnackbar(\"Calendar updated\", {\n            anchorOrigin: {\n              horizontal: \"right\",\n              vertical: \"top\",\n            },\n            variant: \"success\",\n          });\n\n          if (isCreating && onAddComplete) {\n            onAddComplete();\n          }\n\n          if (!isCreating && onEditComplete) {\n            onEditComplete();\n          }\n        } catch (err) {\n          console.error(err);\n          setStatus({ success: false });\n          setErrors({ submit: err.message });\n          setSubmitting(false);\n        }\n      }}\n    >\n      {({ handleChange, handleSubmit, isSubmitting, values }) => (\n        <form onSubmit={handleSubmit}>\n          <Box\n            display=\"flex\"\n            // justifyContent=\"space-between\"\n            alignItems=\"center\"\n            className={classes.header}\n          >\n            {onCancel ? (\n              <IconButton\n                aria-label=\"close\"\n                onClick={onCancel}\n                className={classes.closeButton}\n              >\n                <X />\n              </IconButton>\n            ) : null}\n            <Typography variant=\"h6\" style={{ flex: 1, textAlign: \"center\" }}>\n              {isCreating ? \"Add Appointment\" : \"Edit Appointment\"}\n            </Typography>\n          </Box>\n          <Divider />\n          <Box p={2}>\n            <label htmlFor=\"title\" className={classes.label}>\n              Service\n            </label>\n            <FormControl style={{ minWidth: 120 }} variant=\"outlined\" fullWidth>\n              <Select\n                value={values.title}\n                name=\"title\"\n                id=\"title\"\n                onChange={handleChange}\n                displayEmpty\n                renderValue={(selected) => {\n                  if (selected.length === 0) {\n                    return <em>Select service</em>;\n                  }\n\n                  return selected;\n                }}\n              >\n                {services.map((service, i) => {\n                  return (\n                    <MenuItem key={i} value={service.name}>\n                      {service.name}\n                    </MenuItem>\n                  );\n                })}\n              </Select>\n            </FormControl>\n          </Box>\n          {values.title && (\n            <Grid container style={{ padding: \"0px 24px\" }}>\n              <Grid item xs={4} md={3}>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"textPrimary\"\n                  gutterBottom\n                  style={{ display: \"flex\" }}\n                >\n                  <Box mr={1}></Box>\n                  {duration(values.title)} min\n                </Typography>\n              </Grid>\n              <Grid item xs={4} md={3}>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"textPrimary\"\n                  gutterBottom\n                  style={{ display: \"flex\", justifyContent: \"center\" }}\n                >\n                  <AttachMoneyRoundedIcon className={classes.iconColor} />\n                  {price(values.title)}\n                </Typography>\n              </Grid>\n            </Grid>\n          )}\n          <Box pl={3} pr={3} pt={2}>\n            <label htmlFor=\"start\" className={classes.label}>\n              Date / time\n            </label>\n            <TextField\n              fullWidth\n              variant=\"outlined\"\n              id=\"start\"\n              type=\"datetime-local\"\n              onChange={handleChange}\n              name=\"start\"\n              value={values.start}\n              className={classes.textField}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Box>\n\n          {!isCreating && (\n            <Box p={3}>\n              <Box className={classes.infoBox}>\n                <Typography variant=\"h6\" color=\"textPrimary\">\n                  <User className={classes.icon} />\n                  {event.customer.first_name + \" \" + event.customer.last_name}\n                </Typography>\n                <Typography\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                  component=\"a\"\n                  href={`mailto:${event.customer.email}`}\n                >\n                  <Mail className={classes.icon} />\n                  {event.customer.email}\n                </Typography>\n                <Grid item xs={12} md={6}>\n                  <Button\n                    className={classes.phoneButton}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    href={`tel:${event.customer.phone}`}\n                    disableElevation\n                    fullWidth\n                    startIcon={<Phone />}\n                  >\n                    {event.customer.phone}\n                  </Button>\n                </Grid>\n              </Box>\n              {user.admin ? (\n                <Box className={classes.infoBox} mt={3}>\n                  <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                    Technician\n                  </Typography>\n                  <Typography>\n                    {event.user.first_name + \" \" + event.user.last_name}\n                  </Typography>\n                </Box>\n              ) : null}\n            </Box>\n          )}\n\n          <Divider />\n          <Box\n            style={{\n              alignItems: \"center\",\n              display: \"flex\",\n              padding: 16,\n            }}\n          >\n            {!isCreating && (\n              <IconButton onClick={() => handleDelete()}>\n                <TrashIcon fontSize=\"small\" className={classes.iconColor} />\n              </IconButton>\n            )}\n            <Box style={{ flexGrow: 1 }} />\n            <Button\n              color=\"primary\"\n              disableElevation\n              disabled={isSubmitting}\n              style={{ marginLeft: 8 }}\n              type=\"submit\"\n              variant=\"contained\"\n            >\n              Update\n            </Button>\n          </Box>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nAddEditEventForm.propTypes = {\n  // @ts-ignore\n  event: PropTypes.object,\n  onAddComplete: PropTypes.func,\n  onCancel: PropTypes.func,\n  onDeleteComplete: PropTypes.func,\n  onEditComplete: PropTypes.func,\n  // @ts-ignore\n  range: PropTypes.object,\n};\n\nexport default AddEditEventForm;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Page from \"src/components/Page\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport listPlugin from \"@fullcalendar/list\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport timelinePlugin from \"@fullcalendar/timeline\";\nimport \"@fullcalendar/core/main.css\";\nimport \"@fullcalendar/daygrid/main.css\";\nimport \"@fullcalendar/timegrid/main.css\";\nimport \"@fullcalendar/list/main.css\";\nimport {\n  Box,\n  Breadcrumbs,\n  Button,\n  Card,\n  Container,\n  Dialog,\n  Grid,\n  Link,\n  makeStyles,\n  Typography,\n  useTheme,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { alpha, styled, withStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Toolbar from \"./Toolbar\";\nimport ChevronRightIcon from \"src/icons/ChevronRight\";\nimport PlusIcon from \"src/icons/Plus\";\nimport gtm from \"src/lib/gtm\";\nimport {\n  closeModal,\n  getEvents,\n  openModal,\n  selectRange,\n  updateEvent,\n} from \"src/slices/calendar\";\nimport { useSnackbar } from \"notistack\";\nimport { useDispatch, useSelector } from \"src/store\";\nimport AddEditEventForm from \"./AddEditEventForm\";\nimport moment from \"moment\";\nimport { getRates } from \"src/slices/rates\";\n\nconst selectedEventSelector = (state) => {\n  const { events, selectedEventId } = state.calendar;\n\n  if (selectedEventId) {\n    return events.find((event) => event.id === parseInt(selectedEventId));\n  }\n\n  return null;\n};\n\nconst FullCalendarWrapper = styled(\"div\")(({ theme }) => ({\n  \"& .fc-license-message\": {\n    display: \"none\",\n  },\n  \"& .fc\": {\n    \"--fc-bg-event-opacity\": 1,\n    \"--fc-border-color\": theme.palette.divider,\n    \"--fc-daygrid-event-dot-width\": \"10px\",\n    \"--fc-event-text-color\": theme.palette.text.primary,\n    \"--fc-list-event-hover-bg-color\": theme.palette.background.level2,\n    \"--fc-neutral-bg-color\": theme.palette.background.default,\n    \"--fc-page-bg-color\": theme.palette.background.default,\n    \"--fc-today-bg-color\": alpha(theme.palette.primary.main, 0.25),\n    color: theme.palette.text.primary,\n    fontFamily: theme.typography.fontFamily,\n  },\n  \"& .fc .fc-col-header-cell-cushion\": {\n    paddingBottom: \"10px\",\n    paddingTop: \"10px\",\n  },\n  \"& .fc .fc-day-other .fc-daygrid-day-top\": {\n    color: theme.palette.text.secondary,\n  },\n  \"& .fc-daygrid-event\": {\n    padding: \"10px\",\n  },\n  \"& .fc-day-header\": {\n    ...theme.typography.subtitle2,\n    fontWeight: theme.typography.fontWeightMedium,\n    color: theme.palette.text.secondary,\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.background.level2,\n  },\n  \"& .fc-right\": {\n    display: \"flex\",\n  },\n  \"& .fc-unthemed td.fc-today\": {\n    backgroundColor: theme.palette.background.level2,\n  },\n  \"& .fc-unthemed .fc-divider, .fc-unthemed .fc-popover .fc-header, .fc-unthemed .fc-list-heading td\":\n    {\n      backgroundColor: theme.palette.background.level2,\n    },\n  \"& .fc-unthemed .fc-list-empty\": {\n    backgroundColor: theme.palette.background.level2,\n  },\n  \"& .fc-event\": {\n    fontSize: 10,\n    lineHeight: 1.2,\n    border: \"none\",\n    backgroundColor: \"transparent\",\n    color: \"#000\",\n    \"&:hover\": {\n      color: \"#000\",\n    },\n  },\n  \"& .fc-day-number\": {\n    float: \"left !important\",\n  },\n}));\n\nconst useStyles = makeStyles((theme) => ({\n  hoverName: {\n    fontWeight: 600,\n    \"&:hover\": {\n      textDecoration: \"underline\",\n    },\n  },\n  rateBox: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    position: \"relative\",\n    top: 4,\n    marginRight: 4,\n    fontSize: 8,\n    color: theme.palette.text.secondary,\n  },\n}));\n\nfunction findRatesInDb(array, value) {\n  if (!array) return null;\n  for (var i = 0; i < array.length; i++) {\n    if (array[i].date === value) {\n      return array[i].rates;\n    }\n  }\n}\n\nconst StyledTooltip = withStyles((theme) => ({\n  tooltip: {\n    backgroundColor: \"#f5f5f7\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    maxWidth: 220,\n    // fontSize: theme.typography.pxToRem(12),\n    border: \"1px solid #dadde9\",\n  },\n}))(Tooltip);\n\nconst Calendar = (props) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const calendarRef = useRef(null);\n  const mobileDevice = useMediaQuery((theme) => theme.breakpoints.down(\"sm\"));\n  const { events, isModalOpen, selectedRange } = useSelector(\n    (state) => state.calendar\n  );\n  const { enqueueSnackbar } = useSnackbar();\n  const { rates } = useSelector((state) => state.rates);\n  const selectedEvent = useSelector(selectedEventSelector);\n\n  const [date, setDate] = useState(new Date());\n  const [view, setView] = useState(mobileDevice ? \"listWeek\" : \"dayGridMonth\");\n\n  useEffect(() => {\n    gtm.push({ event: \"page_view\" });\n  }, []);\n\n  useEffect(() => {\n    dispatch(getEvents());\n    dispatch(getRates());\n  }, [dispatch]);\n\n  const arr = [];\n  events?.map((info) => {\n    let date = moment(info.pick_up_date).format(\"MM/DD/YYYY\");\n    let ratesArr = findRatesInDb(rates, date);\n    let customerName =\n      info.user.first_name + \" \" + info.user.last_name[0] + \".\";\n    arr.push({\n      ...info,\n      title: customerName,\n      start: info.pick_up_date,\n      rendering: ratesArr,\n    });\n    return null;\n  });\n\n  // if (error.length > 0) return <div>{error}</div>;\n  // if (!rates) return <div>loading...</div>;\n\n  const handleDateToday = () => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.today();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleViewChange = (newView) => {\n    const calendarEl = calendarRef.current;\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  };\n\n  const handleDatePrev = () => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.prev();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleDateNext = () => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.next();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleAddClick = () => {\n    dispatch(openModal());\n  };\n\n  const handleRangeSelect = (arg) => {\n    const calendarEl = calendarRef.current;\n\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n\n      calendarApi.unselect();\n    }\n\n    dispatch(selectRange(arg.start, arg.end));\n  };\n\n  const handleEventSelect = (arg) => {\n    // console.log(arg);\n    props.history.push(`/dashboard/jobs/${arg.event.id}`);\n    // dispatch(selectEvent(arg.event.id));\n  };\n\n  const handleEventResize = async ({ event }) => {\n    try {\n      await dispatch(\n        updateEvent(event.id, {\n          start: moment(event.start).format(\"YYYY-MM-DDTHH:mm:ss\"),\n          end: moment(event.end).format(\"YYYY-MM-DDTHH:mm:ss\"),\n        })\n      );\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleEventDrop = async ({ event }) => {\n    let date = moment(event.start).format(\"MM/DD/YYYY\");\n    let crewSize = event.extendedProps.crew_size;\n    let estimatedTime = event.extendedProps.estimated_time;\n    let ratesArr = findRatesInDb(rates, date);\n\n    let newJobRate = parseInt(ratesArr[crewSize - 2]);\n\n    var newEstimatedQuote = estimatedTime.map((x, i) => x * newJobRate);\n    console.log(newEstimatedQuote);\n    try {\n      await dispatch(\n        updateEvent(event.id, {\n          pick_up_date: moment(event.start).format(\"YYYY-MM-DDTHH:mm:ss\"),\n          end: moment(event.start).format(\"YYYY-MM-DDTHH:mm:ss\"),\n          job_rate: newJobRate,\n          estimated_quote: `{${newEstimatedQuote}}`,\n        })\n      );\n    } catch (err) {\n      console.error(err);\n    }\n    enqueueSnackbar(\"Job updated\", {\n      anchorOrigin: {\n        horizontal: \"right\",\n        vertical: \"top\",\n      },\n      variant: \"success\",\n    });\n  };\n\n  const handleModalClose = () => {\n    dispatch(closeModal());\n  };\n\n  const EventDetail = ({ event, el }) => {\n    let moveType = event.extendedProps.job_type;\n    let status = event.extendedProps.job_status;\n    let jobs = events.filter((e) => e.user.id === event.extendedProps.user.id);\n    let jobsNumber = jobs.length;\n    let crewSize = event.extendedProps.crew_size;\n    let estimatedTime = event.extendedProps.estimated_time;\n    let startTime = moment(event.extendedProps.pick_up_date).format(\"hA\");\n    let symbol = \"\";\n    let completedColor = \"#007C00\";\n    if (status === \"Completed\") {\n      completedColor = \"#5800ff\";\n    } else if (status === \"Needs Attention\") {\n      completedColor = \"orange\";\n    } else if (status === \"Canceled\") {\n      completedColor = \"red\";\n    }\n    // console.log(event);\n    function image() {\n      return (\n        <img\n          src=\"https://freeiconshop.com/wp-content/uploads/edd/box-outline-filled.png\"\n          alt=\"box\"\n          style={{ width: 10 }}\n        />\n      );\n    }\n    if (moveType === \"Unloading Help\") {\n      symbol = \"U\";\n    } else if (moveType === \"Loading Help\") {\n      symbol = \"L\";\n    } else if (moveType === \"Inside Move\") {\n      symbol = \"I\";\n    } else if (moveType === \"Moving with Storage\") {\n      symbol = \"\\u2192 ]\";\n    } else if (moveType === \"Packing Only\") {\n      symbol = \"P\";\n    }\n    // extendedProps is used to access additional event properties.\n    const content = (\n      <StyledTooltip\n        title={\n          <Box>\n            <p>{event.extendedProps.job_size}</p>\n            <b>\n              {estimatedTime[0]}\n              {estimatedTime[1] ? \" - \" + estimatedTime[1] : null} hr\n            </b>\n          </Box>\n        }\n        placement=\"top-start\"\n      >\n        <Box display=\"flex\" alignItems=\"center\" className=\"fc-title\">\n          <Box style={{ width: 35 }}>{startTime}</Box>\n          <Box\n            style={{ color: `${completedColor}` }}\n            className={classes.hoverName}\n          >\n            {event.title}\n          </Box>\n\n          {jobsNumber > 1 ? (\n            <span\n              style={{\n                fontSize: 8,\n                position: \"relative\",\n                fontWeight: 600,\n                bottom: 5,\n                color: \"#00F\",\n              }}\n            >\n              {jobsNumber}\n            </span>\n          ) : null}\n          <Box flexGrow={1} />\n          <Box style={{ marginRight: \"5px\", display: \"flex\" }}>\n            {symbol === \"P\" ? image() : symbol}\n          </Box>\n          <Box>\n            {crewSize}/{Math.floor(estimatedTime[0])}\n          </Box>\n        </Box>\n      </StyledTooltip>\n    );\n    ReactDOM.render(content, el);\n    return el;\n  };\n\n  const HeaderDetail = ({ date, el, view }) => {\n    let formatedDate = moment(date).format(\"MM/DD/YYYY\");\n    let theRates = findRatesInDb(rates, formatedDate);\n    if (!theRates) return null;\n\n    let selectBackgroundColor = \"transparent\";\n\n    if (theRates[0] === \"120\") {\n      selectBackgroundColor = \"rgb(0 186 93 / 25%)\";\n    }\n    if (theRates[0] === \"160\") {\n      selectBackgroundColor = \"rgba(253 201 9 / 25%)\";\n    }\n    if (theRates[0] === \"200\") {\n      selectBackgroundColor = \"rgba(251 0 9 / 25%)\";\n    }\n\n    const style = {\n      backgroundColor: selectBackgroundColor,\n      padding: \"0px 2px\",\n    };\n\n    // extendedProps is used to access additional event properties.\n    const content = (\n      <Box className={classes.rateBox}>\n        <Box style={style}>\n          {theRates[0]}/{theRates[1]}/{theRates[2]}\n        </Box>\n      </Box>\n    );\n    ReactDOM.render(content, el);\n    return el;\n  };\n\n  return (\n    <Page title=\"Calendar\" style={{ minWidth: 1400 }}>\n      <Box\n        sx={{\n          backgroundColor: \"background.default\",\n          minHeight: \"100%\",\n          paddingY: 8,\n        }}\n      >\n        <Container maxWidth={false}>\n          {/* <Grid container justifyContent=\"space-between\" spacing={3}>\n            <Grid item>\n              <Typography color=\"textPrimary\" variant=\"h5\">\n                Here&apos;s all your appointments\n              </Typography>\n              <Breadcrumbs\n                aria-label=\"breadcrumb\"\n                separator={<ChevronRightIcon fontSize=\"small\" />}\n                style={{ marginTop: 8 }}\n              >\n                <Link\n                  color=\"textPrimary\"\n                  component={RouterLink}\n                  to=\"/dashboard\"\n                  variant=\"subtitle2\"\n                >\n                  Dashboard\n                </Link>\n                <Typography color=\"textSecondary\" variant=\"subtitle2\">\n                  Calendar\n                </Typography>\n              </Breadcrumbs>\n            </Grid>\n            <Grid item>\n              <Box m={-1}>\n                <Button\n                  color=\"primary\"\n                  disabled\n                  disableElevation\n                  onClick={handleAddClick}\n                  startIcon={<PlusIcon fontSize=\"small\" />}\n                  style={{ margin: 8 }}\n                  variant=\"contained\"\n                >\n                  New Appointment\n                </Button>\n              </Box>\n            </Grid>\n          </Grid> */}\n          <Box mt={3}>\n            <Toolbar\n              date={date}\n              onDateNext={handleDateNext}\n              onDatePrev={handleDatePrev}\n              onDateToday={handleDateToday}\n              onViewChange={handleViewChange}\n              view={view}\n            />\n          </Box>\n          <Card\n            style={{\n              marginTop: 24,\n              padding: 16,\n              boxShadow: theme.shadows[1],\n            }}\n          >\n            <FullCalendarWrapper>\n              <FullCalendar\n                allDayMaintainDuration\n                dayMaxEventRows={3}\n                droppable\n                // timeZone='ETD'\n                dayRender={HeaderDetail}\n                editable\n                eventClick={handleEventSelect}\n                eventDisplay=\"block\"\n                eventDrop={handleEventDrop}\n                eventResizableFromStart\n                eventResize={handleEventResize}\n                events={arr}\n                eventRender={EventDetail}\n                header={false}\n                headerToolbar={true}\n                height={800}\n                initialDate={date}\n                // initialView={view}\n                plugins={[\n                  dayGridPlugin,\n                  interactionPlugin,\n                  listPlugin,\n                  timeGridPlugin,\n                  timelinePlugin,\n                ]}\n                ref={calendarRef}\n                rerenderDelay={10}\n                select={handleRangeSelect}\n                // selectable\n                weekends\n              />\n            </FullCalendarWrapper>\n          </Card>\n          <Dialog\n            fullWidth\n            maxWidth=\"xs\"\n            onClose={handleModalClose}\n            open={isModalOpen}\n          >\n            {/* Dialog renders its body even if not open */}\n            {isModalOpen && (\n              <AddEditEventForm\n                event={selectedEvent}\n                onAddComplete={handleModalClose}\n                onCancel={handleModalClose}\n                onDeleteComplete={handleModalClose}\n                onEditComplete={handleModalClose}\n                range={selectedRange}\n              />\n            )}\n          </Dialog>\n        </Container>\n      </Box>\n    </Page>\n  );\n};\n\nexport default Calendar;\n"],"sourceRoot":""}