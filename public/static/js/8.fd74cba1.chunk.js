(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{417:function(e,t,a){"use strict";var c=a(14),n=a.n(c),r=a(1),s=n()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus");t.a=s},418:function(e,t,a){"use strict";var c=a(5),n=a(8),r=a(0),s=a(166),i=a.n(s),o=a(310),l=a(1),j=["children"],d=Object(r.forwardRef)((function(e,t){var a=e.children,r=Object(n.a)(e,j);return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(l.jsx)(o.a,{ref:t,sx:{overflowX:"auto"},children:a}):Object(l.jsx)(i.a,Object(c.a)(Object(c.a)({ref:t},r),{},{children:a}))}));t.a=d},440:function(e,t,a){"use strict";var c=a(14),n=a.n(c),r=a(1),s=n()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search");t.a=s},782:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(310),r=a(379),s=a(55),i=a(19),o=a(363),l=a(63),j=a(427),d=a(364),b=a(356),u=a(417),h=a(82),O=a(1);var x=function(){return Object(O.jsxs)(o.a,{container:!0,justifyContent:"space-between",spacing:3,children:[Object(O.jsxs)(o.a,{item:!0,children:[Object(O.jsx)(l.a,{color:"textPrimary",variant:"h5",children:"Customer list"}),Object(O.jsxs)(j.a,{"aria-label":"breadcrumb",separator:Object(O.jsx)(h.a,{fontSize:"small"}),style:{marginTop:8},children:[Object(O.jsx)(d.a,{color:"textPrimary",component:i.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(O.jsx)(l.a,{color:"textSecondary",variant:"subtitle2",children:"Customers"})]})]}),Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(n.a,{m:-1,children:Object(O.jsx)(b.a,{color:"primary",disabled:!0,disableElevation:!0,startIcon:Object(O.jsx)(u.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"New Appointment"})})})]})},m=a(5),p=a(29),v=a(8),f=a(3),g=a(418),w=a(225),y=a(7),k=a(382),C=a(368),P=a(396),S=a(378),N=a(128),z=a(385),A=a(386),I=a(383),R=a(387),E=a(395),_=a(401),L=a(775),M=a(304),B=a(527),H=a(167),q=a(165),D=a(440),F=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:null},J=["className","customers","events"];var T=Object(w.a)((function(e){return{root:{},queryField:{width:500},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:11,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.level2},bulkAction:{marginLeft:e.spacing(2)},avatar:{height:42,width:42,marginRight:e.spacing(1)},badge:{"& span":{right:"-12px"}},hoverIcon:{color:e.palette.text.secondary,"&:hover":{color:e.palette.primary.main}}}})),W=Object(y.a)((function(e){return{head:{backgroundColor:e.palette.background.level2,color:e.palette.text.secondary},body:{fontSize:14}}}))(k.a);function G(e){var t=e.className,a=e.customers,r=e.events,s=Object(v.a)(e,J),o=T(),j=Object(c.useState)([]),u=Object(p.a)(j,2),h=u[0],x=u[1],w=Object(c.useState)(0),y=Object(p.a)(w,2),G=y[0],V=y[1],X=Object(c.useState)(10),Y=Object(p.a)(X,2),$=Y[0],K=Y[1],Q=Object(c.useState)(""),U=Object(p.a)(Q,2),Z=U[0],ee=U[1],te=function(e,t){return e.filter((function(e){var a=!0;if(t){var c=!1;["email","first_name","last_name"].forEach((function(a){null!=e[a]&&e[a].toLowerCase().includes(t.toLowerCase())&&(c=!0)})),c||(a=!1)}return a}))}(a,Z),ae=function(e,t,a){return e.slice(t*a,t*a+a)}(te,G,$),ce=h.length>0,ne=function(e){var t=0;return r.map((function(a){return a.user.id===e.id&&(t+=1),null})),t};return Object(O.jsxs)(C.a,Object(m.a)(Object(m.a)({className:Object(f.a)(o.root,t)},s),{},{children:[Object(O.jsxs)(n.a,{p:2,minHeight:56,display:"flex",alignItems:"center",children:[Object(O.jsx)(P.a,{className:o.queryField,InputProps:{startAdornment:Object(O.jsx)(S.a,{position:"start",children:Object(O.jsx)(N.a,{fontSize:"small",color:"action",children:Object(O.jsx)(D.a,{})})})},onChange:function(e){e.persist(),ee(e.target.value)},placeholder:"Search by Name or Email",value:Z,size:"small",variant:"outlined"}),Object(O.jsx)(n.a,{flexGrow:1})]}),ce&&Object(O.jsx)("div",{className:o.bulkOperations,children:Object(O.jsx)("div",{className:o.bulkActions,children:Object(O.jsx)(b.a,{variant:"outlined",color:"primary",className:o.bulkAction,component:i.b,to:"/app/customers/".concat(h[0],"/edit"),children:"Edit"})})}),Object(O.jsx)(g.a,{children:Object(O.jsx)(n.a,{minWidth:1e3,children:Object(O.jsxs)(z.a,{children:[Object(O.jsx)(A.a,{children:Object(O.jsxs)(I.a,{children:[Object(O.jsx)(W,{padding:"checkbox"}),Object(O.jsx)(W,{children:"Name"}),Object(O.jsx)(W,{children:"Phone"}),Object(O.jsx)(W,{align:"right",children:"Actions"})]})}),Object(O.jsx)(R.a,{children:ae.map((function(e){var t=h.includes(e.id);return Object(O.jsxs)(I.a,{hover:!0,selected:t,children:[Object(O.jsx)(k.a,{padding:"checkbox",children:Object(O.jsx)(E.a,{checked:t,onChange:function(t){return a=e.id,void(h.includes(a)?x((function(e){return e.filter((function(e){return e!==a}))})):x([a]));var a},value:t})}),Object(O.jsx)(k.a,{children:Object(O.jsxs)(n.a,{display:"flex",alignItems:"center",children:[Object(O.jsx)(_.a,{className:o.avatar,src:e.avatar}),Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{color:"inherit",component:i.b,to:"/dashboard/customers/".concat(e.id),variant:"subtitle2",children:1===ne(e)?e.first_name+" "+e.last_name:Object(O.jsx)(L.a,{badgeContent:ne(e),color:"secondary",className:o.badge,children:e.first_name+" "+e.last_name})}),Object(O.jsx)(l.a,{color:"textSecondary",variant:"body2",children:e.email})]})]})}),Object(O.jsx)(k.a,{children:F(e.phone)}),Object(O.jsxs)(k.a,{align:"right",children:[Object(O.jsx)(M.a,{classes:{root:o.hoverIcon},component:i.b,to:"/dashboard/customers/".concat(e.id,"/edit"),children:Object(O.jsx)(q.a,{fontSize:"small"})}),Object(O.jsx)(M.a,{classes:{root:o.hoverIcon},component:i.b,to:"/dashboard/customers/".concat(e.id),children:Object(O.jsx)(H.a,{fontSize:"small"})})]})]},e.id)}))})]})})}),Object(O.jsx)(B.a,{component:"div",count:te.length,onPageChange:function(e,t){V(t)},onRowsPerPageChange:function(e){K(e.target.value)},page:G,rowsPerPage:$,rowsPerPageOptions:[5,10,25]})]}))}G.defaultProps={customers:[]};var V=G,X=a(16),Y=a(163),$=a(161);t.default=function(){var e=Object(X.b)(),t=Object(X.c)((function(e){return e.customers})),a=t.customers,i=t.errors,o=Object(X.c)((function(e){return e.calendar})).events;return Object(c.useEffect)((function(){e(Object(Y.d)()),e(Object($.f)()),e(Object(Y.a)())}),[e]),Object(O.jsx)(s.a,{title:"Customer List",children:Object(O.jsx)(n.a,{sx:{backgroundColor:"background.default",minHeight:"100%",paddingY:8},children:Object(O.jsxs)(r.a,{maxWidth:!1,children:[Object(O.jsx)(x,{}),i&&Object(O.jsx)(n.a,{mt:3,children:Object(O.jsx)("p",{children:i})}),a&&Object(O.jsx)(n.a,{mt:3,children:Object(O.jsx)(V,{customers:a,errors:i,events:o})})]})})})}}}]);