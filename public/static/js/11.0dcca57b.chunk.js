(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{424:function(e,t,a){"use strict";a(0);var i=a(5),n=a(10),r=a(9),o=a(3),s=a(20),c=a(227),l=a(1),d=["className","color","children"],j=Object(c.a)((function(e){return{root:{fontWeight:600,letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),borderRadius:4},primary:{color:e.palette.primary.main,backgroundColor:Object(s.a)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(s.a)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(s.a)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(s.a)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(s.a)(e.palette.warning.main,.08)}}}));function b(e){var t=e.className,a=e.color,s=e.children,c=Object(r.a)(e,d),b=j();return Object(l.jsx)("span",Object(i.a)(Object(i.a)({className:Object(o.a)(b.root,Object(n.a)({},b[a],a),t)},c),{},{children:s}))}b.defaultProps={className:"",color:"secondary"};var u=b;t.a=function(e){var t={Completed:{text:"Completed",color:"success"},Canceled:{text:"Canceled",color:"error"},"Needs Attention":{text:"Needs Attention",color:"warning"},Confirmed:{text:"Confirmed",color:"primary"}}[e.status],a=t.text,i=t.color;return Object(l.jsx)(u,{color:i,children:a})}},440:function(e,t,a){"use strict";var i=a(15),n=a.n(i),r=a(1),o=n()(Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(r.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),Object(r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"CurrencyDollar");t.a=o},450:function(e,t,a){"use strict";var i=a(15),n=a.n(i),r=a(1),o=n()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Users");t.a=o},451:function(e,t,a){"use strict";var i=a(15),n=a.n(i),r=a(1),o=n()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Trash");t.a=o},871:function(e,t,a){"use strict";a.r(t);var i=a(36),n=a(0),r=a.n(n),o=a(312),s=a(314),c=a(369),l=a(379),d=a(354),j=a(378),b=a(62),u=a(48),h=a(5),m=a(27),p=a(168),x=a(398),O=a(391),f=a(360),g=a(365),y=a(380),v=a(366),_=a(868),w=a(367),S=a(64),C=a(172),T=a(451),M=a(115),k=a(22),z=a(1);function N(e){return Object(z.jsx)(p.a,Object(h.a)({},e))}var I=function(e){var t=e.job,a=e.history,r=Object(n.useState)(!1),o=Object(i.a)(r,2),c=o[0],l=o[1],j=Object(k.b)(),u=function(){l(!1)};return Object(z.jsxs)(d.a,{container:!0,justifyContent:"space-between",spacing:3,children:[Object(z.jsxs)(d.a,{item:!0,children:[Object(z.jsxs)(b.a,{color:"textPrimary",variant:"h5",children:["Request ID: ",t.id]}),Object(z.jsxs)(x.a,{"aria-label":"breadcrumb",separator:Object(z.jsx)(S.a,{fontSize:"small"}),style:{marginTop:8},children:[Object(z.jsx)(O.a,{color:"textPrimary",component:m.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(z.jsx)(O.a,{color:"textPrimary",component:m.b,to:"/dashboard/jobs",variant:"subtitle2",children:"Jobs"}),Object(z.jsx)(b.a,{color:"textSecondary",variant:"subtitle2",children:t.id})]})]}),Object(z.jsx)(d.a,{item:!0,children:Object(z.jsxs)(s.a,{m:-1,children:[Object(z.jsx)(f.a,{color:"primary",disableElevation:!0,startIcon:Object(z.jsx)(C.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"Edit"}),Object(z.jsx)(f.a,{color:"secondary",disableElevation:!0,onClick:function(){l(!0)},startIcon:Object(z.jsx)(T.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"Delete job"}),Object(z.jsxs)(g.a,{open:c,onClose:u,PaperComponent:N,"aria-labelledby":"draggable-dialog-title",children:[Object(z.jsx)(y.a,{id:"draggable-dialog-title",children:"Delete"}),Object(z.jsx)(v.a,{children:Object(z.jsx)(_.a,{children:"Are you sure you want to delete this job?"})}),Object(z.jsxs)(w.a,{children:[Object(z.jsx)(f.a,{autoFocus:!0,onClick:u,size:"small",variant:"outlined",children:"No"}),Object(z.jsx)(f.a,{color:"secondary",disableElevation:!0,onClick:function(){j(Object(M.c)(t.id)),a.push("/dashboard/jobs")},startIcon:Object(z.jsx)(T.a,{fontSize:"small"}),style:{margin:8},variant:"contained",size:"small",children:"Yes!"})]})]})]})})]})},B=a(12),D=a.n(B),A=a(26),W=a(9),R=a(3),Y=a(355),E=a(390),H=a(358),L=a(386),F=a(388),P=a(384),U=a(383),q=a(403),G=a(397),V=a(310),K=a(119),J=a(117),$=a(91),Z=a(424),Q=a(65),X=a(228),ee=a(373),te=a(395),ae=a(883),ie=a(377),ne=a(374),re=a(227),oe=a(124),se=a(440),ce=a(450),le=Object(re.a)((function(e){return{label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"},buttonsContainer:{marginTop:e.spacing(5),marginBottom:e.spacing(2),justifyContent:"space-between"}}})),de=function(e){var t=e.setStatus,a=e.handleStatusUpdate,i=e.handleClose,n=e.users,r=e.init,o=le(),s=[];n.map((function(e){return s.push(e),null}));var c=Object(Q.b)({initialValues:r,validateOnMount:!0,enableReinitialize:!1,validate:function(e){return function(e){var t={};return""===e.job_duration&&(t.job_duration="Required"),""===e.total_amount&&(t.total_amount="Required"),e.user_ids.length<2&&(t.user_ids="Min 2 movers"),t}(e)},onSubmit:function(e){t("Completed"),a(e),i()}});return Object(z.jsx)(X.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(z.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(z.jsxs)(d.a,{container:!0,spacing:2,children:[Object(z.jsxs)(d.a,{item:!0,xs:6,md:6,children:[Object(z.jsxs)("label",{htmlFor:"job_duration",className:o.label,children:[Object(z.jsx)(oe.a,{className:o.icon}),"Job Duration"]}),Object(z.jsx)(G.a,{fullWidth:!0,id:"job_duration",name:"job_duration",variant:"outlined",size:"small",placeholder:"Duration",inputProps:{maxLength:5},value:c.values.job_duration||"",onChange:function(e){c.handleChange(e)},error:c.touched.job_duration&&Boolean(c.errors.job_duration),helperText:c.touched.job_duration&&c.errors.job_duration})]}),Object(z.jsxs)(d.a,{item:!0,xs:6,md:6,children:[Object(z.jsxs)("label",{htmlFor:"total_amount",className:o.label,children:[Object(z.jsx)(se.a,{className:o.icon}),"Total Amount"]}),Object(z.jsx)(G.a,{fullWidth:!0,id:"total_amount",name:"total_amount",variant:"outlined",size:"small",placeholder:"Amount",inputProps:{maxLength:6,inputMode:"numeric"},value:c.values.total_amount||"",onChange:function(e){c.handleChange(e)},error:c.touched.total_amount&&Boolean(c.errors.total_amount),helperText:c.touched.total_amount&&c.errors.total_amount})]}),Object(z.jsxs)(d.a,{item:!0,xs:12,children:[Object(z.jsxs)("label",{htmlFor:"user_ids",className:o.label,children:[Object(z.jsx)(ce.a,{className:o.icon}),"Crew"]}),Object(z.jsxs)(ee.a,{variant:"outlined",size:"small",placeholder:"Select",fullWidth:!0,error:c.touched.user_ids&&Boolean(c.errors.user_ids),children:[Object(z.jsx)(te.a,{id:"user_ids",variant:"outlined",placeholder:"Select",name:"user_ids",size:"small",multiple:!0,renderValue:function(e){return Object(z.jsx)("div",{className:o.chips,children:e.map((function(e,t){return Object(z.jsx)(ae.a,{label:e.first_name+" "+e.last_name,className:o.chip},t)}))})},value:c.values.user_ids,onChange:c.handleChange,error:c.touched.user_ids&&Boolean(c.errors.user_ids),children:s.map((function(e,t){return Object(z.jsx)(ie.a,{value:e,children:e.first_name+" "+e.last_name},t)}))}),c.touched.user_ids&&Boolean(c.errors.user_ids)?Object(z.jsx)(ne.a,{children:c.errors.user_ids}):null]})]})]}),Object(z.jsx)(d.a,{container:!0,spacing:2,classes:{root:o.buttonsContainer},children:Object(z.jsx)(d.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",disableElevation:!0,children:"Save and Update"})})})]})})},je=a(184),be=["customer","job","className","users","init"],ue=Object(o.a)((function(e){return{root:{},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},name:{fontWeight:"bold",marginBottom:e.spacing(2),"&:hover":{textDecoration:"none"}},infoField:{display:"flex",flexDirection:"column",alignItems:"center"},button:{color:e.palette.text.secondary,"&:hover":{color:e.palette.primary.main}},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.text.secondary}}})),he=["Needs Attention","Confirmed","Canceled","Completed"];function me(e){return Object(z.jsx)(p.a,Object(h.a)({},e))}var pe=function(e){var t=e.customer,a=e.job,r=e.className,o=e.users,c=e.init,l=Object(W.a)(e,be),d=ue(),u=Object(n.useState)(a.job_status),p=Object(i.a)(u,2),x=p[0],O=p[1],_=Object(K.b)().enqueueSnackbar,w=Object(k.b)(),S=Object(n.useState)(!1),C=Object(i.a)(S,2),T=C[0],N=C[1],I=function(){N(!1)},B=function(){var e=Object(A.a)(D.a.mark((function e(t){var i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t.user_ids&&(t.user_ids.map((function(e){return i.push(e.id),null})),t.user_ids=i),e.prev=2,e.next=5,w(Object(M.i)(a.id,Object(h.a)({},t)));case 5:_("Status Changed",{variant:"success",anchorOrigin:{horizontal:"right",vertical:"top"}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(Y.a,Object(h.a)(Object(h.a)({},l),{},{className:Object(R.a)(d.root,r),children:[Object(z.jsx)(E.a,{style:{textAlign:"center"},title:Object(z.jsx)(Z.a,{status:a.job_status})}),Object(z.jsx)(j.a,{}),Object(z.jsxs)(H.a,{className:d.content,children:[Object(z.jsx)(L.a,{children:Object(z.jsx)(F.a,{style:{display:"flex",flexDirection:"column"},children:Object(z.jsx)(P.a,{children:Object(z.jsxs)(U.a,{className:d.infoField,children:[Object(z.jsx)(q.a,{style:{height:"60px",width:"60px",marginBottom:8}}),Object(z.jsxs)(b.a,{component:m.b,color:"textPrimary",to:"/dashboard/customers/".concat(t.id),className:d.name,children:[t.first_name," ",t.last_name]}),Object(z.jsx)(f.a,{color:"default",component:"a",href:"tel:".concat(t.phone),className:d.button,fullWidth:!0,startIcon:Object(z.jsx)(J.a,{}),children:t.phone}),t.add_phone?Object(z.jsx)(f.a,{color:"default",component:"a",href:"tel:".concat(t.add_phone),className:d.button,fullWidth:!0,startIcon:Object(z.jsx)(J.a,{}),children:t.add_phone}):null,Object(z.jsx)(f.a,{color:"default",component:"a",href:"mailto:".concat(t.email),className:d.button,fullWidth:!0,startIcon:Object(z.jsx)($.a,{}),children:t.email})]})})})}),Object(z.jsxs)(s.a,{justifyContent:"space-between",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100px",children:[Object(z.jsx)(b.a,{variant:"caption",children:"Change Status"}),Object(z.jsx)(G.a,{name:"option",onChange:function(e){e.preventDefault(),e.currentTarget.blur(),"Completed"===e.target.value?N(!0):O(e.target.value)},select:!0,SelectProps:{native:!0},value:x,variant:"outlined",size:"small",children:he.map((function(e){return Object(z.jsx)("option",{value:e,children:e},e)}))}),Object(z.jsx)(f.a,{variant:"contained",size:"small",disableElevation:!0,color:"primary",onClick:function(){return B({job_status:x})},disabled:a.job_status===x,children:"Update"})]})]}),Object(z.jsxs)(g.a,{open:T,onClose:I,PaperComponent:me,"aria-labelledby":"draggable-dialog-title",children:[Object(z.jsx)(y.a,{id:"form-dialog-title",classes:{root:d.dialogTitle},children:Object(z.jsx)(V.a,{"aria-label":"close",className:d.closeButton,onClick:function(){return I()},children:Object(z.jsx)(je.a,{})})}),Object(z.jsx)(v.a,{children:Object(z.jsx)(de,{onClose:I,handleStatusUpdate:B,setStatus:O,handleClose:I,init:c,users:o})})]})]}))},xe=a(58),Oe=a.n(xe),fe=a(200),ge=a(694),ye=a(502),ve=a(562),_e=a.n(ve),we=a(361),Se=a(307),Ce=a(578),Te=a(362),Me=a(15),ke=a.n(Me),ze=ke()(Object(z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(z.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload"),Ne=a(808),Ie=Object(re.a)((function(e){return{root:{marginTop:e.spacing(4),width:"100%"},input:{display:"none"}}})),Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,i=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return"".concat(parseFloat((e/Math.pow(a,r)).toFixed(i))," ").concat(n[r])};function De(e){var t=e.jobId,a=e.dispatch,r=Ie(),o=Object(n.useState)([]),s=Object(i.a)(o,2),c=s[0],l=s[1];function d(){return(d=Object(A.a)(D.a.mark((function e(t){var a,i,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],i={maxSizeMB:.4,maxWidthOrHeight:800,useWebWorker:!0},e.prev=2,e.next=5,Object(Ne.a)(a,i);case 5:n=e.sent,Object.assign(n,{path:a.path}),l(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var j=function(){var e=Object(A.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(M.a)(t,c));case 2:l([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{className:r.root,children:[Object(z.jsx)("input",{accept:"image/*",className:r.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){return d.apply(this,arguments)}}),Object(z.jsx)("label",{htmlFor:"contained-button-file",children:Object(z.jsx)(f.a,{variant:"outlined",color:"primary",component:"span",disableElevation:!0,fullWidth:!0,startIcon:Object(z.jsx)(ze,{}),children:"Add photo to inventory"})}),c.name&&Object(z.jsx)("div",{children:Object(z.jsxs)(we.a,{className:r.list,children:[Object(z.jsxs)(Se.a,{disableGutters:!0,children:[Object(z.jsx)(Ce.a,{children:Object(z.jsx)(_e.a,{})}),Object(z.jsx)(Te.a,{primary:c.name,secondary:Be(c.size)})]}),Object(z.jsx)(Se.a,{disableGutters:!0,children:Object(z.jsxs)("div",{className:r.actions,children:[Object(z.jsx)(f.a,{size:"small",onClick:function(){l([])},children:"Remove"}),Object(z.jsx)(f.a,{color:"secondary",size:"small",variant:"contained",disableElevation:!0,onClick:j,children:"Upload"})]})})]})})]})}var Ae=a(809),We=a.n(Ae);var Re=function(e){var t=e.images,a=e.dispatch,r=Object(n.useState)(0),o=Object(i.a)(r,2),c=o[0],l=o[1],d=[];t.map((function(e){return d.push({src:e.photo.url,thumbnailWidth:3,thumbnailHeight:4,thumbnail:e.photo.url,id:e.id,nano:"https://www.urbansplash.co.uk/images/placeholder-1-1.jpg"}),null}));var j=0!==d.length?d[d.length-1].id:0;return d.map((function(e){return c===d.indexOf(e)&&(j=e.id),null})),Object(z.jsx)(s.a,{mt:1,children:Object(z.jsx)(We.a,{images:d,enableLightbox:!0,enableImageSelection:!1,rowHeight:40,currentImageWillChange:function(e){l(e)},backdropClosesModal:!0,thumbnailStyle:function(){return{cursor:"pointer",width:"100%",height:"100%",marginTop:0,objectFit:"cover",objectPosition:"center","&:hover":{opacity:.5}}},customControls:[Object(z.jsx)(f.a,{color:"secondary",size:"small",startIcon:Object(z.jsx)(T.a,{}),onClick:function(){return a(Object(M.d)(j))},disableElevation:!0,children:"Delete"},"deleteImage")]})})},Ye=a(10),Ee=Object(re.a)((function(e){return{dialogRoot:Object(Ye.a)({padding:e.spacing(3)},e.breakpoints.down("md"),{margin:e.spacing(1)}),editIcon:{color:e.palette.primary.main,"& svg":{width:16,height:16}}}}));function He(e){var t=e.children,a=Ee(),n=r.a.useState(!1),o=Object(i.a)(n,2),s=o[0],c=o[1];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(V.a,{"aria-label":"edit",classes:{root:a.editIcon},onClick:function(){c(!0)},children:Object(z.jsx)(C.a,{})}),Object(z.jsx)(g.a,{open:s,onClose:function(){c(!1)},"aria-labelledby":"form-dialog-title",classes:{paper:a.dialogRoot},children:t})]})}var Le=a(122),Fe=Object(re.a)((function(e){return{root:{},label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"}}})),Pe=[{key:"6",text:"Moving",value:"Moving"},{key:"1",text:"Moving with Storage",value:"Moving with Storage"},{key:"2",text:"Loading Help",value:"Loading Help"},{key:"3",text:"Unloading Help",value:"Unloading Help"},{key:"4",text:"Packing Only",value:"Packing Only"},{key:"5",text:"Inside Move",value:"Inside Move"}],Ue=function(e){var t=Object.assign({},e),a=Fe();return Object(z.jsx)(d.a,{container:!0,spacing:2,children:Object(z.jsxs)(d.a,{item:!0,xs:12,children:[Object(z.jsxs)("label",{htmlFor:"movingService",className:a.label,children:[Object(z.jsx)(Le.a,{className:a.icon}),"Service"]}),Object(z.jsx)(ee.a,{variant:"outlined",size:"small",placeholder:"Select",fullWidth:!0,children:Object(z.jsx)(te.a,Object(h.a)(Object(h.a)({id:"movingService",variant:"outlined",name:"movingService",size:"small"},t),{},{children:Pe.map((function(e){return Object(z.jsx)(ie.a,{value:e.value,children:e.text},e.key)}))}))})]})})},qe=a(183),Ge=Object(re.a)((function(e){return{root:{},label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"}}})),Ve=[{key:"moveSize",text:"Please select...",value:""},{key:"room",text:"One Room or less (<1000 lbs)",value:"Room or less (partial move)"},{key:"studio",text:"Studio apartment",value:"Studio apartment"},{key:"onebed",text:"1 Bedroom apartment",value:"1 Bedroom apartment"},{key:"twobed",text:"2 Bedroom apartment",value:"2 Bedroom apartment"},{key:"threebed",text:"3+ Bedroom apartment",value:"3+ Bedroom apartment"},{key:"twohouse",text:"2 Bedroom House/Townhouse",value:"2 Bedroom House/Townhouse"},{key:"threehouse",text:"3 Bedroom House/Townhouse",value:"3 Bedroom House/Townhouse"},{key:"fourhouse",text:"4+ Bedroom House/Townhouse",value:"4+ Bedroom House/Townhouse"},{key:"commercial",text:"Office / Commercial space",value:"Office / Commercial space"}],Ke=function(e){var t=Object.assign({},e),a=Ge();return Object(z.jsx)(d.a,{container:!0,spacing:2,children:Object(z.jsxs)(d.a,{item:!0,xs:12,children:[Object(z.jsxs)("label",{htmlFor:"movingService",className:a.label,children:[Object(z.jsx)(qe.a,{className:a.icon}),"Move Size"]}),Object(z.jsx)(ee.a,{variant:"outlined",size:"small",placeholder:"Select",fullWidth:!0,children:Object(z.jsx)(te.a,Object(h.a)(Object(h.a)({id:"movingService",variant:"outlined",name:"movingService",size:"small"},t),{},{children:Ve.map((function(e,t){return Object(z.jsx)(ie.a,{value:e.value,disabled:""===e.value,children:e.text},t)}))}))})]})})},Je=Object(re.a)((function(e){return{root:{},label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"}}})),$e=[{key:"crewSize",text:"Please select...",value:""},{key:"2",text:"2 movers",value:2},{key:"3",text:"3 movers",value:3},{key:"4",text:"4 movers",value:4}],Ze=function(e){var t=Object.assign({},e),a=Je();return Object(z.jsx)(d.a,{container:!0,spacing:2,children:Object(z.jsxs)(d.a,{item:!0,xs:12,children:[Object(z.jsxs)("label",{htmlFor:"crewSize",className:a.label,children:[Object(z.jsx)(ce.a,{className:a.icon}),"Crew size"]}),Object(z.jsx)(ee.a,{variant:"outlined",size:"small",placeholder:"Select",fullWidth:!0,children:Object(z.jsx)(te.a,Object(h.a)(Object(h.a)({id:"crewSize",variant:"outlined",name:"crewSize",size:"small"},t),{},{children:$e.map((function(e,t){return Object(z.jsx)(ie.a,{value:e.value,disabled:""===e.value,children:e.text},t)}))}))})]})})},Qe=a(96),Xe=a(164),et=a(199),tt=Object(re.a)((function(e){return{root:{},label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"}}}));var at=function(e){var t=e.job,a=e.formState,i=e.setFormState,n=tt(),r=function(e){var t=function(e){var t=et.a.find((function(t){return t.z===e}));return void 0===t?null:t}(null===e?"":e.target.value);if(console.log(t),t){var n=t.c,r=t.s;i(Object(h.a)(Object(h.a)({},a),{},{origin:Object(h.a)(Object(h.a)({},a.origin),{},{city:n,state:r})}))}};return Object(z.jsxs)(d.a,{container:!0,spacing:2,children:[Object(z.jsxs)(d.a,{item:!0,xs:8,children:[Object(z.jsxs)("label",{htmlFor:"address",className:n.label,children:[Object(z.jsx)(Qe.a,{className:n.icon}),"Address"]}),Object(z.jsx)(G.a,{fullWidth:!0,id:"address",name:"address",variant:"outlined",size:"small",placeholder:"123 Street Name",value:a.origin?a.origin.address:t.origin.address,onChange:function(e){var t;i(Object(h.a)(Object(h.a)({},a),{},{origin:Object(h.a)(Object(h.a)({},a.origin),{},{address:(t=e.target.value,t.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "))})}))}})]}),Object(z.jsxs)(d.a,{item:!0,xs:4,children:[Object(z.jsxs)("label",{htmlFor:"fromApt",className:n.label,children:[Object(z.jsx)(Xe.a,{className:n.icon}),"Apt"]}),Object(z.jsx)(G.a,{fullWidth:!0,id:"fromApt",name:"fromApt",variant:"outlined",size:"small",placeholder:"Apt",value:a.origin?a.origin.apt_number:t.origin.apt_number,onChange:function(e){i(Object(h.a)(Object(h.a)({},a),{},{origin:Object(h.a)(Object(h.a)({},a.origin),{},{apt_number:e.target.value})}))}})]}),Object(z.jsxs)(d.a,{item:!0,xs:4,md:4,children:[Object(z.jsxs)("label",{htmlFor:"city",className:n.label,children:[Object(z.jsx)(Qe.a,{className:n.icon}),"City"]}),Object(z.jsx)(G.a,{fullWidth:!0,id:"city",name:"city",variant:"outlined",size:"small",placeholder:"City",disabled:!0,value:a.origin?a.origin.city:t.origin.city})]}),Object(z.jsxs)(d.a,{item:!0,xs:4,md:4,children:[Object(z.jsxs)("label",{htmlFor:"state",className:n.label,children:[Object(z.jsx)(Qe.a,{className:n.icon}),"State"]}),Object(z.jsx)(G.a,{fullWidth:!0,id:"state",name:"state",variant:"outlined",size:"small",placeholder:"State",disabled:!0,value:a.origin?a.origin.state:t.origin.state})]}),Object(z.jsxs)(d.a,{item:!0,xs:4,md:4,children:[Object(z.jsxs)("label",{htmlFor:"zip",className:n.label,children:[Object(z.jsx)(Qe.a,{className:n.icon}),"Zip"]}),Object(z.jsx)(G.a,{fullWidth:!0,id:"zip",name:"zip",variant:"outlined",size:"small",placeholder:"ZIP Code",onInput:function(e){return function(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")}(e)},inputProps:{maxLength:5,inputMode:"numeric"},value:a.origin?a.origin.zip:t.origin.zip,onBlur:function(e){r(e)},onChange:function(e){i(Object(h.a)(Object(h.a)({},a),{},{origin:Object(h.a)(Object(h.a)({},a.origin),{},{zip:e.target.value})}))}})]})]})},it=a(879),nt=Object(re.a)((function(e){return{root:{"& > * + *":{marginTop:e.spacing(2)}},label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"}}}));function rt(){var e=nt(),t=r.a.useState([]),a=Object(i.a)(t,2),n=a[0],o=a[1];return console.log(n),Object(z.jsxs)("div",{className:e.root,children:[Object(z.jsxs)("label",{htmlFor:"address",className:e.label,children:[Object(z.jsx)(C.a,{className:e.icon}),"ADDITIONAL INFORMATION"]}),Object(z.jsx)(it.a,{multiple:!0,id:"tags-filled",onChange:function(e,t){o([t])},options:ot.map((function(e){return e.title})),freeSolo:!0,renderTags:function(e,t){return e.map((function(e,a){return Object(z.jsx)(ae.a,Object(h.a)({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return Object(z.jsx)(G.a,Object(h.a)(Object(h.a)({},e),{},{variant:"outlined"}))}})]})}var ot=[{title:"The Shawshank Redemption",year:1994},{title:"The Godfather",year:1972},{title:"The Godfather: Part II",year:1974},{title:"The Dark Knight",year:2008},{title:"12 Angry Men",year:1957},{title:"Schindler's List",year:1993},{title:"Pulp Fiction",year:1994},{title:"The Lord of the Rings: The Return of the King",year:2003},{title:"The Good, the Bad and the Ugly",year:1966},{title:"Fight Club",year:1999},{title:"The Lord of the Rings: The Fellowship of the Ring",year:2001},{title:"Star Wars: Episode V - The Empire Strikes Back",year:1980},{title:"Forrest Gump",year:1994},{title:"Inception",year:2010},{title:"The Lord of the Rings: The Two Towers",year:2002},{title:"One Flew Over the Cuckoo's Nest",year:1975},{title:"Goodfellas",year:1990},{title:"The Matrix",year:1999},{title:"Seven Samurai",year:1954},{title:"Star Wars: Episode IV - A New Hope",year:1977},{title:"City of God",year:2002},{title:"Se7en",year:1995},{title:"The Silence of the Lambs",year:1991},{title:"It's a Wonderful Life",year:1946},{title:"Life Is Beautiful",year:1997},{title:"The Usual Suspects",year:1995},{title:"L\xe9on: The Professional",year:1994},{title:"Spirited Away",year:2001},{title:"Saving Private Ryan",year:1998},{title:"Once Upon a Time in the West",year:1968},{title:"American History X",year:1998},{title:"Interstellar",year:2014},{title:"Casablanca",year:1942},{title:"City Lights",year:1931},{title:"Psycho",year:1960},{title:"The Green Mile",year:1999},{title:"The Intouchables",year:2011},{title:"Modern Times",year:1936},{title:"Raiders of the Lost Ark",year:1981},{title:"Rear Window",year:1954},{title:"The Pianist",year:2002},{title:"The Departed",year:2006},{title:"Terminator 2: Judgment Day",year:1991},{title:"Back to the Future",year:1985},{title:"Whiplash",year:2014},{title:"Gladiator",year:2e3},{title:"Memento",year:2e3},{title:"The Prestige",year:2006},{title:"The Lion King",year:1994},{title:"Apocalypse Now",year:1979},{title:"Alien",year:1979},{title:"Sunset Boulevard",year:1950},{title:"Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb",year:1964},{title:"The Great Dictator",year:1940},{title:"Cinema Paradiso",year:1988},{title:"The Lives of Others",year:2006},{title:"Grave of the Fireflies",year:1988},{title:"Paths of Glory",year:1957},{title:"Django Unchained",year:2012},{title:"The Shining",year:1980},{title:"WALL\xb7E",year:2008},{title:"American Beauty",year:1999},{title:"The Dark Knight Rises",year:2012},{title:"Princess Mononoke",year:1997},{title:"Aliens",year:1986},{title:"Oldboy",year:2003},{title:"Once Upon a Time in America",year:1984},{title:"Witness for the Prosecution",year:1957},{title:"Das Boot",year:1981},{title:"Citizen Kane",year:1941},{title:"North by Northwest",year:1959},{title:"Vertigo",year:1958},{title:"Star Wars: Episode VI - Return of the Jedi",year:1983},{title:"Reservoir Dogs",year:1992},{title:"Braveheart",year:1995},{title:"M",year:1931},{title:"Requiem for a Dream",year:2e3},{title:"Am\xe9lie",year:2001},{title:"A Clockwork Orange",year:1971},{title:"Like Stars on Earth",year:2007},{title:"Taxi Driver",year:1976},{title:"Lawrence of Arabia",year:1962},{title:"Double Indemnity",year:1944},{title:"Eternal Sunshine of the Spotless Mind",year:2004},{title:"Amadeus",year:1984},{title:"To Kill a Mockingbird",year:1962},{title:"Toy Story 3",year:2010},{title:"Logan",year:2017},{title:"Full Metal Jacket",year:1987},{title:"Dangal",year:2016},{title:"The Sting",year:1973},{title:"2001: A Space Odyssey",year:1968},{title:"Singin' in the Rain",year:1952},{title:"Toy Story",year:1995},{title:"Bicycle Thieves",year:1948},{title:"The Kid",year:1921},{title:"Inglourious Basterds",year:2009},{title:"Snatch",year:2e3},{title:"3 Idiots",year:2009},{title:"Monty Python and the Holy Grail",year:1975}],st=["job","dispatch","setFormState","formState","recalc","setRecalc","saveAndUpdate","setSaveAndUpdate","rates"],ct=Object(o.a)((function(e){return{root:{},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},headerDistance:{textAlign:"center",paddingBottom:e.spacing(1)},addInfoContainer:{display:"flex",flexDirection:"column",padding:"0px 15px"},addInfoTitle:{fontSize:"14px",color:e.palette.primary.main,textTransform:"uppercase",fontWeight:600},addInfoSubTitle:{backgroundColor:e.palette.background.level2,padding:"15px",wordWrap:"break-word",display:"flex",flexDirection:"column"},paragraph:{fontStyle:"italic",fontSize:12},margTop:{marginTop:6},crewNames:{color:e.palette.text.secondary},editIcon:{color:e.palette.primary.main}}}));var lt=function(e){var t=e.job,a=e.dispatch,r=e.setFormState,o=e.formState,c=(e.recalc,e.setRecalc),l=(e.saveAndUpdate,e.setSaveAndUpdate),d=e.rates,u=Object(W.a)(e,st),m=ct(),p=Object(fe.a)({googleMapsApiKey:"AIzaSyADEDKabHN5FBcOroOU1W7BzUam0Az8gGQ"}).isLoaded,x=Object(n.useState)(null),O=Object(i.a)(x,2),f=O[0],g=O[1],y=window.google=window.google?window.google:{},v=Object(n.useState)(null),_=Object(i.a)(v,2),w=_[0],S=_[1],C=function(e,t){for(var a=Oe()(e).format("MM/DD/YYYY"),i=0;i<t.length;i++){var n=t[i].date;if(n&&n===a)return t[i].rates}};function T(e){var t=parseFloat(e),a=t-parseInt(t,10);return 5===(a=Math.round(10*a))?parseInt(t,10)+.5:a<3||a>7?Math.round(t):parseInt(t,10)+.5}var M=function(e){var t=o.estimated_time;console.log("formState Estimate----\x3e",t);var a=o.crew_size-e;if(console.log(Math.sign(a)),Math.sign(a)<0)if(1===Math.abs(a)){var i=t[0]-T(.15*t[0]);t=[i,i+1]}else if(2===Math.abs(a)){var n=t[0]-T(.3*t[0]);t=[n,n+1]}if(Math.sign(a)>0)if(1===Math.abs(a)){var r=t[0]+T(.15*t[0]);t=[r,r+1]}else if(2===Math.abs(a)){var s=t[0]+T(.3*t[0]);t=[s,s+1]}return console.log("NEW ESTIMATE----\x3e",t),t};Object(n.useEffect)((function(){return t.id&&S(k()),function(){S(null)}}),[t.id]);var k=function(){var e=t.origin.address+","+t.origin.city+","+t.origin.zip,a="";a=""===t.destination.address?t.origin.address+","+t.origin.city+","+t.origin.zip:t.destination.address+","+t.destination.city+","+t.destination.zip;var i=[];i=t.origin.add_address?[{location:t.origin.add_address}]:null;var n=Object(ye.compose)(Object(ye.withProps)({loadingElement:Object(z.jsx)("div",{style:{height:"100%"}}),containerElement:Object(z.jsx)("div",{style:{height:"30vh",width:"97%",margin:"auto"}}),mapElement:Object(z.jsx)("div",{style:{height:"100%"}})}),ge.withGoogleMap,Object(ye.lifecycle)({componentDidMount:function(){var t=this;(new y.maps.DirectionsService).route({origin:e,destination:a,waypoints:i,travelMode:y.maps.TravelMode.DRIVING},(function(e,a){a===y.maps.DirectionsStatus.OK&&(t.setState({directions:e}),g(e.routes[0].legs[0].distance.text))}))}}))((function(e){return Object(z.jsx)(ge.GoogleMap,{defaultZoom:12,defaultCenter:new y.maps.LatLng(42.36,-71.06),defaultOptions:{mapTypeControl:!1,streetViewControl:!1,panControl:!1,scaleControl:!1,fullscreenControl:!1,scrollwheel:!1,styles:[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c4e5ff"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]},children:e.directions&&Object(z.jsx)(ge.DirectionsRenderer,{directions:e.directions})})}));return Object(z.jsx)(n,{google:y})};return Object(z.jsxs)(Y.a,Object(h.a)(Object(h.a)({},u),{},{className:m.root,children:[Object(z.jsx)(E.a,{title:"Move Overview"}),p&&w,Object(z.jsxs)(H.a,{className:m.content,children:[Object(z.jsx)(s.a,{className:m.headerDistance,children:f}),Object(z.jsx)(j.a,{}),Object(z.jsx)(L.a,{children:Object(z.jsxs)(F.a,{children:[Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Move date:"}),Object(z.jsxs)(U.a,{style:{display:"flex",flexDirection:"column",fontWeight:700},children:[Oe()(t.pick_up_date).format("dddd, MMMM DD, YYYY"),"Moving with Storage"===t.job_type&&Object(z.jsxs)(b.a,{variant:"caption",color:"textSecondary",children:["*storage till"," ",Oe()(t.delivery_date).format("MMMM DD, YYYY")]})]}),Object(z.jsx)(U.a,{children:Object(z.jsx)(He,{})})]}),Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Start time:"}),Object(z.jsx)(U.a,{style:{fontWeight:700},children:Oe()(t.pick_up_date).format("h A")})]}),"Moving from Storage"===t.job_type?Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:t.destination.address?"Moving from:":"Address:"}),Object(z.jsxs)(U.a,{style:{display:"flex",flexDirection:"column"},children:[Object(z.jsx)(b.a,{style:{fontWeight:600},variant:"body2",children:"Insight Moving Storage"}),Object(z.jsx)(b.a,{variant:"caption",color:"textSecondary",children:"*unit #0000"})]})]}):Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:t.destination.address?"Moving from:":"Address:"}),Object(z.jsxs)(U.a,{style:{display:"flex",flexDirection:"column"},children:[t.origin.address,",",Object(z.jsxs)(b.a,{style:{fontWeight:600},variant:"body2",children:[t.origin.city,", ",t.origin.state,", ",t.origin.zip]}),t.origin.apt_number&&Object(z.jsxs)(b.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.origin.apt_number]}),Object(z.jsxs)(b.a,{variant:"caption",color:"textSecondary",children:["*",t.origin.floor?t.origin.floor:t.destination.floor]})]}),Object(z.jsx)(U.a,{children:Object(z.jsx)(He,{children:Object(z.jsx)(at,{job:t,formState:o,setFormState:r})})})]}),"Moving with Storage"===t.job_type&&Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Storage:"}),Object(z.jsxs)(U.a,{style:{display:"flex",flexDirection:"column"},children:[Object(z.jsx)(b.a,{style:{fontWeight:600},variant:"body2",children:"Insight Moving Storage"}),Object(z.jsxs)(b.a,{variant:"caption",color:"textSecondary",children:["*",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD",i=function(e){return Oe()(e.split(/\D+/),a)};return i(t).diff(i(e),"days")}(t.pick_up_date,t.delivery_date)," days"]})]})]}),t.destination.address?Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Moving to:"}),Object(z.jsxs)(U.a,{style:{display:"flex",flexDirection:"column"},children:[t.destination.address,",",Object(z.jsxs)(b.a,{style:{fontWeight:600},variant:"body2",children:[t.destination.city,", ",t.destination.state,","," ",t.destination.zip]}),t.destination.apt_number&&Object(z.jsxs)(b.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.destination.apt_number]}),Object(z.jsxs)(b.a,{variant:"caption",color:"textSecondary",children:["*",t.destination.floor]})]}),Object(z.jsx)(U.a,{children:Object(z.jsx)(He,{})})]}):null,Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{style:{padding:"0px"},children:Object(z.jsx)(j.a,{})}),Object(z.jsx)(U.a,{style:{padding:"0px"},children:Object(z.jsx)(j.a,{})}),Object(z.jsx)(U.a,{style:{padding:"0px"},children:Object(z.jsx)(j.a,{})})]}),Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Service:"}),Object(z.jsx)(U.a,{children:t.job_type}),Object(z.jsx)(U.a,{children:Object(z.jsx)(He,{children:Object(z.jsx)(Ue,{value:o.job_type,onChange:function(e){r(Object(h.a)(Object(h.a)({},o),{},{job_type:e.target.value}))}})})})]}),Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Move size:"}),Object(z.jsx)(U.a,{style:{fontWeight:700},children:t.job_size}),Object(z.jsx)(U.a,{children:Object(z.jsx)(He,{children:Object(z.jsx)(Ke,{value:o.job_size,onChange:function(e){c(!1),l(!0),r(Object(h.a)(Object(h.a)({},o),{},{job_size:e.target.value}))}})})})]}),Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{style:{padding:"0px"},children:Object(z.jsx)(j.a,{})}),Object(z.jsx)(U.a,{style:{padding:"0px"},children:Object(z.jsx)(j.a,{})}),Object(z.jsx)(U.a,{style:{padding:"0px"},children:Object(z.jsx)(j.a,{})})]}),Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Crew:"}),Object(z.jsxs)(U.a,{style:{fontWeight:700},children:[t.crew_size," movers"]}),Object(z.jsx)(U.a,{children:Object(z.jsx)(He,{children:Object(z.jsx)(Ze,{value:o.crew_size,onChange:function(e){c(!0);var t,a,i=o.pick_up_date;r(Object(h.a)(Object(h.a)({},o),{},{crew_size:e.target.value,job_rate:parseInt(C(i,d)[e.target.value-2]),estimated_time:M(e.target.value),estimated_quote:(t=parseInt(C(i,d)[e.target.value-2]),a=M(e.target.value),[t*a[0],t*a[1]])}))}})})})]}),!t.is_flat_rate&&Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Hourly rate:"}),Object(z.jsx)(U.a,{children:Object(z.jsxs)(b.a,{variant:"body1",color:"primary",style:{fontWeight:700},children:["$",t.job_rate,"/hr"]})})]}),"Completed"===t.job_status?Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Duration:"}),Object(z.jsx)(U.a,{children:Object(z.jsxs)(b.a,{variant:"body1",color:"secondary",style:{fontWeight:700},children:[t.job_duration||""," hours"]})})]}):!t.is_flat_rate&&Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Estimated time:"}),Object(z.jsx)(U.a,{children:Object(z.jsxs)(b.a,{variant:"body1",color:"secondary",style:{fontWeight:700},children:[t.estimated_time[0]," - ",t.estimated_time[1]," hours*"]})})]}),"Completed"===t.job_status||t.is_flat_rate?null:Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Travel time:"}),Object(z.jsx)(U.a,{children:Object(z.jsxs)("label",{children:[t.travel_time[0],"/",t.travel_time[1]," min* (from/to HQ)"]})})]}),"Completed"===t.job_status?Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Total:"}),Object(z.jsx)(U.a,{style:{fontWeight:600,fontSize:"18px"},children:Object(z.jsxs)("label",{children:["$",t.total_amount]})})]}):Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:t.is_flat_rate?"FLAT PRICE":"Estimated quote:"}),Object(z.jsx)(U.a,{style:{fontWeight:600,fontSize:"18px"},children:t.is_flat_rate?Object(z.jsxs)("label",{children:["$",t.estimated_quote[0]]}):Object(z.jsxs)("label",{children:["$",t.estimated_quote[0]," - $",t.estimated_quote[1]," "]})})]}),"Completed"===t.job_status&&Object(z.jsxs)(P.a,{children:[Object(z.jsx)(U.a,{children:"Crew:"}),Object(z.jsx)(U.a,{children:t.users.map((function(e,a){return Object(z.jsxs)("label",{className:m.crewNames,children:[e.first_name+" "+e.last_name,a===t.users.length-1?null:", "]},a)}))})]})]})}),Object(z.jsx)(j.a,{}),"Completed"===t.job_status?null:Object(z.jsxs)(s.a,{mt:2,className:m.addInfoContainer,children:[Object(z.jsxs)(b.a,{variant:"body2",className:m.paragraph,children:[Object(z.jsx)("span",{style:{color:"red",fontWeight:500,marginRight:"8px"},children:"NOTE:"}),Object(z.jsx)("span",{style:{fontWeight:700},children:"This quote is just an estimate and provided for your convinience only."}),"\xa0We give you a database average for generally similar moves. However, your final cost is based on hourly rate and actual time your move will take. Additional time may be required if your move involves long walks, narrow stares, furniture disassembly, bad weather conditions, etc."]}),Object(z.jsx)(b.a,{variant:"body2",className:m.paragraph,children:"* Total moving time consist of 2 hours minimum labour time plus fixed travel time."}),Object(z.jsx)(b.a,{variant:"body2",className:Object(R.a)(m.paragraph,m.margTop),children:"We accept cash, checks, credit cards. If you choose to pay with a credit cardor debit card, you will be charged a fee of 3% of the payment amount."})]}),Object(z.jsx)(s.a,{mt:4,className:m.addInfoContainer,children:Object(z.jsxs)(s.a,{children:[Object(z.jsx)(b.a,{className:m.addInfoTitle,children:"Additional Information:"}),Object(z.jsx)(He,{children:Object(z.jsx)(rt,{})})]})}),Object(z.jsxs)(s.a,{className:m.addInfoContainer,children:[Object(z.jsxs)(s.a,{mt:2,className:m.addInfoSubTitle,children:[Object(z.jsx)(b.a,{variant:"body2",color:"textPrimary",children:t.additional_info}),t.images.length>0&&Object(z.jsx)(j.a,{}),Object(z.jsx)(Re,{images:t.images,dispatch:a}),Object(z.jsx)(De,{jobId:t.id,dispatch:a})]}),"Completed"===t.job_status?null:Object(z.jsx)(b.a,{variant:"body2",style:{fontSize:12},className:m.margTop,children:"Long distance moves are FLAT RATE and REQUIRED the list of all furniture and approximate amount of boxes."})]})]})]}))},dt=a(101),jt=a(224),bt=a(856),ut=a.n(bt),ht=a(855),mt=a.n(ht),pt=a(173),xt=a(120),Ot=ke()(Object(z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(z.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"DocumentText"),ft=["customer","event","history"],gt=Object(re.a)((function(e){return{root:{},actionIcon:{marginRight:e.spacing(1)},cardHeader:{textAlign:"center"},button:{display:"flex",width:"100%",justifyContent:"flex-start",color:e.palette.text.secondary},arrow:{marginLeft:"auto",color:e.palette.text.secondary},menuBox:{flexDirection:"column",width:"100%"},menuBoxActive:{backgroundColor:e.palette.background.level2,"&:hover":{backgroundColor:e.palette.background.level2}},menuBoxNotActive:{"&:hover":{backgroundColor:e.palette.background.level2}},statusBox:{display:"flex",alignItems:"center",marginTop:"-5px",padding:0,"& span ":{fontSize:10,backgroundColor:"transparent",fontWeight:400,padding:0}},topInfo:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flex:1}}}));var yt=function(e){var t=e.customer,a=e.event,r=e.history,o=Object(W.a)(e,ft),c=Object(k.b)(),l=gt(),d=Object(n.useRef)(null),u=Object(n.useState)(!1),m=Object(i.a)(u,2),p=m[0],x=m[1],O=Object(k.c)((function(e){return e.customers})).customerJobs;return Object(n.useEffect)((function(){c(Object(pt.b)(t.id))}),[c,t.id]),O?Object(z.jsxs)(Y.a,Object(h.a)(Object(h.a)({className:Object(R.a)(l.root)},o),{},{children:[Object(z.jsx)(E.a,{title:"Helpful links"}),Object(z.jsx)(j.a,{}),Object(z.jsx)(H.a,{children:Object(z.jsxs)(s.a,{display:"flex",flexDirection:"column",alignItems:"flex-start",children:[Object(z.jsxs)(f.a,{className:l.button,component:dt.a,onClick:function(){x(!0)},ref:d,children:[Object(z.jsx)(mt.a,{className:l.actionIcon}),"My Moves History (",Object(z.jsx)("span",{style:{fontWeight:600},children:O.length}),")",Object(z.jsx)(S.a,{className:Object(R.a)(l.actionIcon,l.arrow)})]}),Object(z.jsx)(jt.a,{onClose:function(){x(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,getContentAnchorEl:null,anchorEl:d.current,open:p,PaperProps:{style:{maxHeight:288},className:l.popover},children:O.map((function(e,t){var i,n,o;return Object(z.jsx)(ie.a,{open:p,className:e.id===a.id?l.menuBoxActive:l.menuBoxNotActive,onClick:function(t){e.id!==a.id?r.push("/dashboard/jobs/".concat(e.id)):t.preventDefault()},children:Object(z.jsxs)(s.a,{display:"flex",className:l.menuBox,children:[Object(z.jsxs)(s.a,{className:l.topInfo,children:[Object(z.jsx)(s.a,{children:Object(z.jsx)(b.a,{variant:"body2",color:"textSecondary",children:Oe()(e.pick_up_date).format("MM/DD/YYYY")})}),Object(z.jsxs)(s.a,{className:l.topInfo,ml:1,children:[e.origin&&Object(z.jsx)(s.a,{children:Object(z.jsx)(b.a,{variant:"body2",children:"Moving with Storage"===e.job_type?"IM Storage":e.origin.city+","+e.origin.state})}),(null===(i=e.destination)||void 0===i?void 0:i.city)&&Object(z.jsx)(xt.a,{style:{width:14,margin:"0 8px"},className:Object(R.a)(l.actionIcon,l.arrow)}),e.destination&&e.destination.address&&Object(z.jsx)(s.a,{children:Object(z.jsx)(b.a,{variant:"body2",children:"Moving from Storage"===e.job_type?"IM Storage":(null===(n=e.destination)||void 0===n?void 0:n.city)+","+(null===(o=e.destination)||void 0===o?void 0:o.state)})})]})]}),Object(z.jsx)(s.a,{className:l.statusBox,children:Object(z.jsxs)(b.a,{children:[Object(z.jsx)(Z.a,{status:e.job_status}),e.job_duration?Object(z.jsxs)(b.a,{variant:"caption",color:"textSecondary",style:{marginLeft:4},children:[e.job_duration,"hr"]}):null]})}),Object(z.jsx)(j.a,{})]})},t)}))}),Object(z.jsxs)(f.a,{className:l.button,children:[Object(z.jsx)(ut.a,{className:l.actionIcon}),"Certificate of Insurance",Object(z.jsx)(S.a,{className:Object(R.a)(l.actionIcon,l.arrow)})]}),Object(z.jsxs)(f.a,{className:l.button,disabled:!a.receipt,children:[Object(z.jsx)(Ot,{className:l.actionIcon}),"Moving Receipt",Object(z.jsx)(S.a,{className:Object(R.a)(l.actionIcon,l.arrow)})]}),Object(z.jsxs)(f.a,{className:l.button,children:[Object(z.jsx)(_e.a,{className:l.actionIcon}),"Bill of Lading",Object(z.jsx)(S.a,{className:Object(R.a)(l.actionIcon,l.arrow)})]})]})})]})):null},vt=a(169),_t=a(869),wt={"Room or less (partial move)":60,"Studio apartment":100,"1 Bedroom apartment":120,"2 Bedroom apartment":160,"2 Bedroom House/Townhouse":240,"3+ Bedroom apartment":300,"3 Bedroom House/Townhouse":420,"4+ Bedroom House/Townhouse":520,"Office / Commercial space":300},St=function(e){return{"elevator building":Math.round(.2*wt[e]),"private house":Math.round(.1*wt[e]),"storage unit":Math.round(.2*wt[e]),"1st/Ground floor":Math.round(.1*wt[e]),"2nd floor":Math.round(.2*wt[e]),"3rd floor":Math.round(.3*wt[e]),"4th floor":Math.round(.4*wt[e])}},Ct=["elevator building","private house","storage unit","1st/Ground floor","2nd floor","3rd floor","4th floor"],Tt=["Room or less (partial move)","Studio apartment","1 Bedroom apartment","2 Bedroom apartment","2 Bedroom House/Townhouse","3+ Bedroom apartment","3 Bedroom House/Townhouse","4+ Bedroom House/Townhouse","Office / Commercial space"],Mt=Object(re.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}}));var kt=function(e){var t=e.formState,a=e.event,i=e.dispatch,n=e.setFormState,r=e.rates,o=e.recalc,s=e.setRecalc,c=e.saveAndUpdate,l=e.setSaveAndUpdate,d=Mt(),u=function(e){for(var t=Oe()(e).format("MM/DD/YYYY"),a=0;a<r.length;a++){var i=r[a].date;if(i&&i===t)return r[a].rates}},m=function(e,t,a){t||(t="1st/Ground floor"),a||(a="1st/Ground floor");for(var i=2,n=0;n<Tt.length;n++)if(Tt[n]===e)for(var r=0;r<Ct.length;r++)if(Ct[r]===t)for(var o=0;o<Ct.length;o++)if(Ct[o]===a)return n>6?i+3:n>=4?i+2:n>2?r>4&&o>4?i+2:i+1:n>=1?r>4||o>4?i+1:i:0===n&&(6===r||6===o)?i+1:i;return g(i),i},p=function(e){return Math.round(2*e)/2},x=function(e){return"Inside Move"===e},O=function(){var e=t.job_type,a=t.job_size,i=t.origin.floor,n=t.destination.floor,r=t.time_between;i||(i="1st/Ground floor"),n||(n="1st/Ground floor");var o=t.travel_time.reduce((function(e,t){return e+t}));x(e)&&(o=2*t.travel_time[0]);var s=wt[a];"Loading Help"===e&&(s=.6*wt[a]),(function(e){return"Unloading Help"===e}(e)||function(e){return"Packing Only"===e}(e))&&(s=.4*wt[a]),x(e)&&(s=.4*wt[a]);var c=s+St(a)[i]+St(a)[n]+o+r;console.log("traveltime---sum",o),console.log("labour",s),console.log("totaltime--\x3eminutes",c);var l=p(c/60),d=[];return d="Moving"===e||"Moving with Storage"===e||"Moving from Storage"===e?[p(l),p(l+1)]:[p(l),p(l+.5)],l<2&&(d=[2]),d},g=function(e){var a,i=u(t.pick_up_date)[e-2];e>4?i=u(t.pick_up_date)[e-2]+40:i=u(t.pick_up_date)[e-2];return console.log(e),console.log(u(t.pick_up_date)[e-2]),a=[O()[0]*i,O()[1]*i],console.log(a),a};function y(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0}return Object(z.jsxs)(Y.a,{children:[Object(z.jsx)(E.a,{title:"Changes made"}),Object(z.jsx)(j.a,{}),Object(z.jsxs)(H.a,{classes:{root:d.root},children:[t.pick_up_date&&Oe()(t.pick_up_date).format("MM/DD/YYYY")!==Oe()(a.pick_up_date).format("MM/DD/YYYY")?Object(z.jsxs)(b.a,{variant:"caption",children:["Move date changed from"," ",Object(z.jsx)("b",{children:Oe()(a.pick_up_date).format("MMM DD, YYYY")})," to"," ",Object(z.jsx)("b",{children:Oe()(t.pick_up_date).format("MMM DD, YYYY")})]}):null,t.origin&&t.origin!==a.origin?Object(z.jsxs)(b.a,{variant:"caption",children:["Origin changed from"," ",Object(z.jsxs)("b",{children:[a.origin.address,", ",a.origin.city]})," ","to"," ",Object(z.jsxs)("b",{children:[t.origin.address,", ",t.origin.city]})]}):null,t.job_type&&a.job_type!==t.job_type?Object(z.jsxs)(b.a,{variant:"caption",children:["Moving Service changed from ",Object(z.jsx)("b",{children:a.job_type})," to"," ",Object(z.jsx)("b",{children:t.job_type})]}):null,t.job_size&&a.job_size!==t.job_size?Object(z.jsxs)(b.a,{variant:"caption",children:["Move Size changed from ",Object(z.jsx)("b",{children:a.job_size})," to"," ",Object(z.jsx)("b",{children:t.job_size})]}):null,t.crew_size&&a.crew_size!==t.crew_size?Object(z.jsxs)(b.a,{variant:"caption",children:["Crew Size changed from ",Object(z.jsx)("b",{children:a.crew_size})," to"," ",Object(z.jsx)("b",{children:t.crew_size})]}):null,t.job_rate&&a.job_rate!==parseInt(t.job_rate)?Object(z.jsxs)(b.a,{variant:"caption",children:["Rate changed from ",Object(z.jsx)("b",{children:a.job_rate})," to"," ",Object(z.jsx)("b",{children:t.job_rate})]}):null,t.estimated_time&&!y(t.estimated_time,a.estimated_time)?Object(z.jsxs)(b.a,{variant:"caption",children:["Est. time changed from"," ",Object(z.jsxs)("b",{children:[a.estimated_time[0]," - ",a.estimated_time[1]]})," ","to"," ",Object(z.jsxs)("b",{children:[t.estimated_time[0]," ",t.estimated_time[1]?"- "+t.estimated_time[1]:null]})]}):null,t.estimated_quote&&!y(t.estimated_quote,a.estimated_quote)?Object(z.jsxs)(b.a,{variant:"caption",children:["Est. quote changed from"," ",Object(z.jsxs)("b",{children:[a.estimated_quote[0]," - ",a.estimated_quote[1]]})," ","to"," ",Object(z.jsxs)("b",{children:[t.estimated_quote[0]," ",t.estimated_quote[1]?"- "+t.estimated_quote[1]:null]})]}):null]}),Object(z.jsxs)(_t.a,{children:[Object(z.jsx)(f.a,{size:"small",color:"primary",onClick:function(){return n(a)},children:"Cancel"}),Object(z.jsx)(f.a,{size:"small",color:"primary",variant:"contained",disableElevation:!0,onClick:function(){i(Object(M.i)(a.id,Object(h.a)(Object(h.a)({},t),{},{estimated_time:"{".concat(t.estimated_time[0],",").concat(t.estimated_time[1],"}"),estimated_quote:"{".concat(t.estimated_quote[0],",").concat(t.estimated_quote[1],"}")})))},disabled:c,children:"Save and Update"}),Object(z.jsx)(f.a,{size:"small",color:"primary",variant:"contained",disableElevation:!0,disabled:o,onClick:function(){l(!1),s(!0),n(Object(h.a)(Object(h.a)({},t),{},{crew_size:t.crew_size===a.crew_size?m(t.job_size,t.origin?t.origin.floor:t.destination.floor,t.destination?t.destination.floor:t.origin.floor):t.crew_size,job_rate:t.crew_size===a.crew_size?u(t.pick_up_date)[m(t.job_size,t.origin?t.origin.floor:t.destination.floor,t.destination?t.destination.floor:t.origin.floor)-2]:u(t.pick_up_date)[t.crew_size-2],estimated_time:O(),estimated_quote:g(m(t.job_size,t.origin.floor,t.destination.floor))})),console.log(O())},children:"Recalculate"})]})]})},zt=a(121),Nt=Object(o.a)((function(e){return{root:{},grid:{marginTop:e.spacing(2)}}}));t.default=function(e){var t=e.match,a=e.history,r=Nt(),o=t.params.id,h=Object(k.c)((function(e){return e.calendar})).event,m=Object(k.c)((function(e){return e.employees})).users,p=Object(k.c)((function(e){return e.rates})).rates;Object.assign({},h);var x=Object(n.useState)(h),O=Object(i.a)(x,2),f=O[0],g=O[1],y=Object(n.useState)(!1),v=Object(i.a)(y,2),_=v[0],w=v[1],S=Object(n.useState)(!1),C=Object(i.a)(S,2),T=C[0],N=C[1],B=Object(k.b)();if(Object(n.useEffect)((function(){return B(Object(M.e)(o)),B(Object(vt.e)()),B(Object(zt.a)()),function(){B(Object(M.b)())}}),[B,o]),Object(n.useEffect)((function(){return g(h),function(){g(null)}}),[h]),!h||!f)return Object(z.jsx)(s.a,{display:"flex",justifyContent:"center",alignItems:"center",mt:20,children:Object(z.jsx)(c.a,{})});var D={job_duration:h.estimated_time[0],total_amount:h.estimated_quote[0],job_status:"Completed",user_ids:[]};return Object(z.jsx)(u.a,{className:r.root,title:"Job Details",children:Object(z.jsx)(s.a,{sx:{backgroundColor:"background.default",minHeight:"100%",paddingY:8},children:Object(z.jsxs)(l.a,{maxWidth:!1,children:[Object(z.jsx)(I,{job:h,history:a}),Object(z.jsxs)(d.a,{className:r.grid,container:!0,spacing:2,children:[Object(z.jsx)(d.a,{item:!0,md:4,xl:3,xs:12,children:Object(z.jsxs)(d.a,{container:!0,spacing:2,children:[Object(z.jsx)(d.a,{item:!0,xs:12,children:Object(z.jsx)(pe,{customer:h.customer,job:h,init:D,users:m})}),(!function(e,t){var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var n=0,r=a;n<r.length;n++){var o=r[n];if(e[o]!==t[o])return!1}return!0}(h,f)||"Moving from Storage"===h.job_type)&&Object(z.jsx)(d.a,{item:!0,xs:12,children:Object(z.jsx)(kt,{formState:f,event:h,dispatch:B,setFormState:g,rates:p,recalc:_,setRecalc:w,saveAndUpdate:T,setSaveAndUpdate:N})}),Object(z.jsx)(d.a,{item:!0,xs:12,children:Object(z.jsx)(yt,{customer:h.customer,event:h,history:a})})]})}),Object(z.jsx)(d.a,{item:!0,md:8,xl:9,xs:12,children:Object(z.jsx)(lt,{job:h,dispatch:B,setFormState:g,formState:f,recalc:_,setRecalc:w,saveAndUpdate:T,setSaveAndUpdate:N,rates:p})}),Object(z.jsx)(d.a,{item:!0,md:3,xs:12}),Object(z.jsx)(j.a,{style:{marginTop:40,width:"100%"}}),Object(z.jsxs)(d.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(z.jsx)(s.a,{mt:5,style:{width:"100%",maxWidth:700,textAlign:"center"},children:Object(z.jsx)(s.a,{children:Object(z.jsxs)(b.a,{variant:"body1",children:["Status provided by InsightMoving. Last updated on"," ",Oe()(null===h||void 0===h?void 0:h.updated_at).format("MMMM Do YYYY, h:mm:ss a")]})})}),Object(z.jsx)(s.a,{style:{width:"100%",maxWidth:700,textAlign:"center",fontStyle:"italic"},children:Object(z.jsx)(s.a,{mt:2,pb:10,children:Object(z.jsxs)(b.a,{variant:"body2",color:"textSecondary",children:[Object(z.jsx)("span",{style:{color:"red",marginRight:5,fontWeight:600},children:"NOTICE:"}),"InsightMoving authorizes you to use our order status system for your convinience only. Any other use of the system and information is strictly prohibited."]})})})]})]})]})})})}}}]);