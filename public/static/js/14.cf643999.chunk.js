(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{1041:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(305),r=a(306),s=a(368),o=a(346),c=a(367),l=a(62),d=a(57),j=a(26),b=a(352),u=a(300),h=a(387),m=a(380),x=a(350),p=a(75),O=a(170),f=a(1037),g=a(1);var y=function(e){var t=e.job;return t?Object(g.jsxs)(o.a,{container:!0,justifyContent:"space-between",spacing:3,children:[Object(g.jsxs)(o.a,{item:!0,children:[Object(g.jsxs)(l.a,{color:"textPrimary",variant:"h5",children:["Request ID: ",t.id]}),Object(g.jsxs)(h.a,{"aria-label":"breadcrumb",separator:Object(g.jsx)(p.a,{fontSize:"small"}),style:{marginTop:8},children:[Object(g.jsx)(m.a,{color:"textPrimary",component:j.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(g.jsx)(m.a,{color:"textPrimary",component:j.b,to:"/dashboard/jobs",variant:"subtitle2",children:"Jobs"}),Object(g.jsx)(l.a,{color:"textSecondary",variant:"subtitle2",children:t.id})]})]}),Object(g.jsx)(o.a,{item:!0,children:Object(g.jsx)(r.a,{m:-1,children:Object(g.jsx)(x.a,{color:"primary",disableElevation:!0,startIcon:Object(g.jsx)(O.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"Edit"})})})]}):Object(g.jsxs)(b.a,{children:[Object(g.jsx)(u.a,{children:Object(g.jsx)(f.a,{variant:"text",width:250})}),Object(g.jsx)(u.a,{children:Object(g.jsx)(f.a,{variant:"text",width:200})})]})},v=a(13),_=a.n(v),w=a(29),C=a(39),T=a(10),N=a(5),S=a(3),I=a(161),M=a(347),z=a(378),k=a(348),W=a(374),B=a(376),D=a(372),A=a(371),E=a(392),R=a(386),H=a(356),L=a(369),P=a(303),V=a(358),Y=a(116),F=a(114),q=a(91),U=a(416),G=a(22),J=a(162),K=a(63),$=a(224),Q=a(363),Z=a(384),X=a(1050),ee=a(366),te=a(364),ae=a(222),ne=a(192),ie=a(438),re=a(485),se=Object(ae.a)((function(e){return{label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"},buttonsContainer:{marginTop:e.spacing(5),marginBottom:e.spacing(2),justifyContent:"space-between"}}})),oe=function(e){var t=e.setStatus,a=e.handleStatusUpdate,n=e.handleClose,i=e.users,r=e.init,s=se(),c=[];i.map((function(e){return c.push(e),null}));var l=Object(K.b)({initialValues:r,validateOnMount:!0,enableReinitialize:!1,validate:function(e){return function(e){var t={};return""===e.job_duration&&(t.job_duration="Required"),""===e.total_amount&&(t.total_amount="Required"),e.user_ids.length<2&&(t.user_ids="Min 2 movers"),t}(e)},onSubmit:function(e){t("Completed"),a(e),n()}});return Object(g.jsx)($.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(g.jsxs)("form",{onSubmit:l.handleSubmit,children:[Object(g.jsxs)(o.a,{container:!0,spacing:2,children:[Object(g.jsxs)(o.a,{item:!0,xs:6,md:6,children:[Object(g.jsxs)("label",{htmlFor:"job_duration",className:s.label,children:[Object(g.jsx)(ne.a,{className:s.icon}),"Job Duration"]}),Object(g.jsx)(R.a,{fullWidth:!0,id:"job_duration",name:"job_duration",variant:"outlined",size:"small",placeholder:"Duration",inputProps:{maxLength:5},value:l.values.job_duration||"",onChange:function(e){l.handleChange(e)},error:l.touched.job_duration&&Boolean(l.errors.job_duration),helperText:l.touched.job_duration&&l.errors.job_duration})]}),Object(g.jsxs)(o.a,{item:!0,xs:6,md:6,children:[Object(g.jsxs)("label",{htmlFor:"total_amount",className:s.label,children:[Object(g.jsx)(ie.a,{className:s.icon}),"Total Amount"]}),Object(g.jsx)(R.a,{fullWidth:!0,id:"total_amount",name:"total_amount",variant:"outlined",size:"small",placeholder:"Amount",inputProps:{maxLength:6,inputMode:"numeric"},value:l.values.total_amount||"",onChange:function(e){l.handleChange(e)},error:l.touched.total_amount&&Boolean(l.errors.total_amount),helperText:l.touched.total_amount&&l.errors.total_amount})]}),Object(g.jsxs)(o.a,{item:!0,xs:12,children:[Object(g.jsxs)("label",{htmlFor:"user_ids",className:s.label,children:[Object(g.jsx)(re.a,{className:s.icon}),"Crew"]}),Object(g.jsxs)(Q.a,{variant:"outlined",size:"small",placeholder:"Select",fullWidth:!0,error:l.touched.user_ids&&Boolean(l.errors.user_ids),children:[Object(g.jsx)(Z.a,{id:"user_ids",variant:"outlined",placeholder:"Select",name:"user_ids",size:"small",multiple:!0,renderValue:function(e){return Object(g.jsx)("div",{className:s.chips,children:e.map((function(e,t){return Object(g.jsx)(X.a,{label:e.first_name+" "+e.last_name,className:s.chip},t)}))})},value:l.values.user_ids,onChange:l.handleChange,error:l.touched.user_ids&&Boolean(l.errors.user_ids),children:c.map((function(e,t){return Object(g.jsx)(ee.a,{value:e,children:e.first_name+" "+e.last_name},t)}))}),l.touched.user_ids&&Boolean(l.errors.user_ids)?Object(g.jsx)(te.a,{children:l.errors.user_ids}):null]})]})]}),Object(g.jsx)(o.a,{container:!0,spacing:2,classes:{root:s.buttonsContainer},children:Object(g.jsx)(o.a,{item:!0,xs:12,children:Object(g.jsx)(x.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",disableElevation:!0,children:"Save and Update"})})})]})})},ce=a(174),le=["customer","job","className","users","init"],de=Object(i.a)((function(e){return{root:{},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},name:{fontWeight:"bold",marginBottom:e.spacing(2),"&:hover":{textDecoration:"none"}},infoField:{display:"flex",flexDirection:"column",alignItems:"center"},button:{color:e.palette.text.secondary,"&:hover":{color:e.palette.primary.main}},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.text.secondary}}})),je=["Needs Attention","Confirmed","Canceled","Completed"];function be(e){return Object(g.jsx)(I.a,Object(N.a)({},e))}var ue=function(e){var t=e.customer,a=e.job,i=e.className,s=e.users,o=e.init,d=Object(T.a)(e,le),b=de(),u=Object(n.useState)(a.job_status),h=Object(C.a)(u,2),m=h[0],p=h[1],O=Object(Y.b)().enqueueSnackbar,f=Object(G.b)(),y=Object(n.useState)(!1),v=Object(C.a)(y,2),I=v[0],K=v[1],$=function(){K(!1)},Q=function(){var e=Object(w.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.user_ids&&(t.user_ids.map((function(e){return n.push(e.id),null})),t.user_ids=n),e.prev=2,e.next=5,f(Object(J.k)(a.id,Object(N.a)({},t)));case 5:O("Status Changed",{variant:"success",anchorOrigin:{horizontal:"right",vertical:"top"}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(M.a,Object(N.a)(Object(N.a)({},d),{},{className:Object(S.a)(b.root,i),children:[Object(g.jsx)(z.a,{style:{textAlign:"center"},title:Object(g.jsx)(U.a,{status:a.job_status})}),Object(g.jsx)(c.a,{}),Object(g.jsxs)(k.a,{className:b.content,children:[Object(g.jsx)(W.a,{children:Object(g.jsx)(B.a,{style:{display:"flex",flexDirection:"column"},children:Object(g.jsx)(D.a,{children:Object(g.jsxs)(A.a,{className:b.infoField,children:[Object(g.jsx)(E.a,{style:{height:"60px",width:"60px",marginBottom:8}}),Object(g.jsxs)(l.a,{component:j.b,color:"textPrimary",to:"/dashboard/customers/".concat(t.id),className:b.name,children:[t.first_name," ",t.last_name]}),Object(g.jsx)(x.a,{color:"default",component:"a",href:"tel:".concat(t.phone),className:b.button,fullWidth:!0,startIcon:Object(g.jsx)(F.a,{}),children:t.phone}),t.add_phone?Object(g.jsx)(x.a,{color:"default",component:"a",href:"tel:".concat(t.add_phone),className:b.button,fullWidth:!0,startIcon:Object(g.jsx)(F.a,{}),children:t.add_phone}):null,Object(g.jsx)(x.a,{color:"default",component:"a",href:"mailto:".concat(t.email),className:b.button,fullWidth:!0,startIcon:Object(g.jsx)(q.a,{}),children:t.email})]})})})}),Object(g.jsxs)(r.a,{justifyContent:"space-between",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100px",children:[Object(g.jsx)(l.a,{variant:"caption",children:"Change Status"}),Object(g.jsx)(R.a,{name:"option",onChange:function(e){e.preventDefault(),e.currentTarget.blur(),"Completed"===e.target.value?K(!0):p(e.target.value)},select:!0,SelectProps:{native:!0},value:m,variant:"outlined",size:"small",children:je.map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))}),Object(g.jsx)(x.a,{variant:"contained",size:"small",disableElevation:!0,color:"primary",onClick:function(){return Q({job_status:m})},disabled:a.job_status===m,children:"Update"})]})]}),Object(g.jsxs)(H.a,{open:I,onClose:$,PaperComponent:be,"aria-labelledby":"draggable-dialog-title",children:[Object(g.jsx)(L.a,{id:"form-dialog-title",classes:{root:b.dialogTitle},children:Object(g.jsx)(P.a,{"aria-label":"close",className:b.closeButton,onClick:function(){return $()},children:Object(g.jsx)(ce.a,{})})}),Object(g.jsx)(V.a,{children:Object(g.jsx)(oe,{onClose:$,handleStatusUpdate:Q,setStatus:p,handleClose:$,init:o,users:s})})]})]}))},he=a(58),me=a.n(he),xe=a(193),pe=a(873),Oe=a(530),fe=a(622),ge=a.n(fe),ye=a(638),ve=a(353),_e=a(15),we=a.n(_e),Ce=we()(Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(g.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload"),Te=a(981),Ne=Object(ae.a)((function(e){return{root:{marginTop:e.spacing(4),width:"100%"},input:{display:"none"}}})),Se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return"".concat(parseFloat((e/Math.pow(a,r)).toFixed(n))," ").concat(i[r])};function Ie(e){var t=e.jobId,a=e.dispatch,i=Ne(),r=Object(n.useState)([]),s=Object(C.a)(r,2),o=s[0],c=s[1];function l(){return(l=Object(w.a)(_.a.mark((function e(t){var a,n,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n={maxSizeMB:.4,maxWidthOrHeight:800,useWebWorker:!0},e.prev=2,e.next=5,Object(Te.a)(a,n);case 5:i=e.sent,Object.assign(i,{path:a.path}),c(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var d=function(){var e=Object(w.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(J.a)(t,o));case 2:c([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:i.root,children:[Object(g.jsx)("input",{accept:"image/*",className:i.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){return l.apply(this,arguments)}}),Object(g.jsx)("label",{htmlFor:"contained-button-file",children:Object(g.jsx)(x.a,{variant:"outlined",color:"primary",component:"span",disableElevation:!0,fullWidth:!0,startIcon:Object(g.jsx)(Ce,{}),children:"Add photo to inventory"})}),o.name&&Object(g.jsx)("div",{children:Object(g.jsxs)(b.a,{className:i.list,children:[Object(g.jsxs)(u.a,{disableGutters:!0,children:[Object(g.jsx)(ye.a,{children:Object(g.jsx)(ge.a,{})}),Object(g.jsx)(ve.a,{primary:o.name,secondary:Se(o.size)})]}),Object(g.jsx)(u.a,{disableGutters:!0,children:Object(g.jsxs)("div",{className:i.actions,children:[Object(g.jsx)(x.a,{size:"small",onClick:function(){c([])},children:"Remove"}),Object(g.jsx)(x.a,{color:"secondary",size:"small",variant:"contained",disableElevation:!0,onClick:d,children:"Upload"})]})})]})})]})}var Me=a(982),ze=a.n(Me),ke=a(513);var We=function(e){var t=e.images,a=e.dispatch,i=Object(n.useState)(0),s=Object(C.a)(i,2),o=s[0],c=s[1],l=[];t.map((function(e){return l.push({src:e.photo.url,thumbnailWidth:3,thumbnailHeight:4,thumbnail:e.photo.url,id:e.id,nano:"https://www.urbansplash.co.uk/images/placeholder-1-1.jpg"}),null}));var d=0!==l.length?l[l.length-1].id:0;return l.map((function(e){return o===l.indexOf(e)&&(d=e.id),null})),Object(g.jsx)(r.a,{mt:1,children:Object(g.jsx)(ze.a,{images:l,enableLightbox:!0,enableImageSelection:!1,rowHeight:40,currentImageWillChange:function(e){c(e)},backdropClosesModal:!0,thumbnailStyle:function(){return{cursor:"pointer",width:"100%",height:"100%",marginTop:0,objectFit:"cover",objectPosition:"center","&:hover":{opacity:.5}}},customControls:[Object(g.jsx)(x.a,{color:"secondary",size:"small",startIcon:Object(g.jsx)(ke.a,{}),onClick:function(){return a(Object(J.f)(d))},disableElevation:!0,children:"Delete"},"deleteImage")]})})},Be=["job","dispatch"],De=Object(i.a)((function(e){return{root:{},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},headerDistance:{textAlign:"center",paddingBottom:e.spacing(1)},addInfoContainer:{display:"flex",flexDirection:"column",padding:"0px 15px"},addInfoTitle:{fontSize:"14px",color:e.palette.primary.main,textTransform:"uppercase",fontWeight:600},addInfoSubTitle:{backgroundColor:e.palette.background.level2,padding:"15px",wordWrap:"break-word",display:"flex",flexDirection:"column"},paragraph:{fontStyle:"italic",fontSize:12},margTop:{marginTop:6},crewNames:{color:e.palette.text.secondary}}}));var Ae=function(e){var t=e.job,a=e.dispatch,i=Object(T.a)(e,Be),s=De(),o=Object(xe.a)({googleMapsApiKey:"AIzaSyADEDKabHN5FBcOroOU1W7BzUam0Az8gGQ"}).isLoaded,d=Object(n.useState)(null),j=Object(C.a)(d,2),b=j[0],u=j[1],h=window.google=window.google?window.google:{},m=Object(n.useState)(null),x=Object(C.a)(m,2),p=x[0],O=x[1];Object(n.useEffect)((function(){t.id&&O(f())}),[t.id]);var f=function(){var e=t.origin.address+","+t.origin.city+","+t.origin.zip,a="";a=""===t.destination.address?t.origin.address+","+t.origin.city+","+t.origin.zip:t.destination.address+","+t.destination.city+","+t.destination.zip;var n=[];n=t.origin.add_address?[{location:t.origin.add_address}]:null;var i=Object(Oe.compose)(Object(Oe.withProps)({loadingElement:Object(g.jsx)("div",{style:{height:"100%"}}),containerElement:Object(g.jsx)("div",{style:{height:"30vh",width:"97%",margin:"auto"}}),mapElement:Object(g.jsx)("div",{style:{height:"100%"}})}),pe.withGoogleMap,Object(Oe.lifecycle)({componentDidMount:function(){var t=this;(new h.maps.DirectionsService).route({origin:e,destination:a,waypoints:n,travelMode:h.maps.TravelMode.DRIVING},(function(e,a){a===h.maps.DirectionsStatus.OK&&(t.setState({directions:e}),u(e.routes[0].legs[0].distance.text))}))}}))((function(e){return Object(g.jsx)(pe.GoogleMap,{defaultZoom:12,defaultCenter:new h.maps.LatLng(42.36,-71.06),defaultOptions:{mapTypeControl:!1,streetViewControl:!1,panControl:!1,scaleControl:!1,fullscreenControl:!1,scrollwheel:!1,styles:[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c4e5ff"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]},children:e.directions&&Object(g.jsx)(pe.DirectionsRenderer,{directions:e.directions})})}));return Object(g.jsx)(i,{google:h})};return Object(g.jsxs)(M.a,Object(N.a)(Object(N.a)({},i),{},{className:s.root,children:[Object(g.jsx)(z.a,{title:"Move Overview"}),o&&p,Object(g.jsxs)(k.a,{className:s.content,children:[Object(g.jsx)(r.a,{className:s.headerDistance,children:b}),Object(g.jsx)(c.a,{}),Object(g.jsx)(W.a,{children:Object(g.jsxs)(B.a,{children:[Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Move date:"}),Object(g.jsx)(A.a,{style:{fontWeight:700},children:me()(t.pick_up_date).format("dddd, MMMM DD, YYYY")})]}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Start time:"}),Object(g.jsx)(A.a,{style:{fontWeight:700},children:me()(t.pick_up_date).format("h A")})]}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:t.destination.address?"Moving from:":"Address:"}),Object(g.jsxs)(A.a,{style:{display:"flex",flexDirection:"column"},children:[t.origin.address,",",Object(g.jsxs)(l.a,{style:{fontWeight:600},variant:"body2",children:[t.origin.city,", ",t.origin.state,", ",t.origin.zip]}),t.origin.apt_number&&Object(g.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.origin.apt_number]}),Object(g.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["*",t.origin.floor?t.origin.floor:t.destination.floor]})]})]}),t.destination.address?Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Moving to:"}),Object(g.jsxs)(A.a,{style:{display:"flex",flexDirection:"column"},children:[t.destination.address,",",Object(g.jsxs)(l.a,{style:{fontWeight:600},variant:"body2",children:[t.destination.city,", ",t.destination.state,",",t.destination.zip]}),t.destination.apt_number&&Object(g.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.destination.apt_number]}),Object(g.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["*",t.destination.floor]})]})]}):null,Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{style:{padding:"0px"},children:Object(g.jsx)(c.a,{})}),Object(g.jsx)(A.a,{style:{padding:"0px"},children:Object(g.jsx)(c.a,{})})]}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Service:"}),Object(g.jsx)(A.a,{children:t.job_type})]}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Move size:"}),Object(g.jsx)(A.a,{style:{fontWeight:700},children:t.job_size})]}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{style:{padding:"0px"},children:Object(g.jsx)(c.a,{})}),Object(g.jsx)(A.a,{style:{padding:"0px"},children:Object(g.jsx)(c.a,{})})]}),Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Crew:"}),Object(g.jsxs)(A.a,{style:{fontWeight:700},children:[t.crew_size," movers"]})]}),!t.is_flat_rate&&Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Hourly rate:"}),Object(g.jsx)(A.a,{children:Object(g.jsxs)(l.a,{variant:"body1",color:"primary",style:{fontWeight:700},children:["$",t.job_rate,"/hr"]})})]}),"Completed"===t.job_status?Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Duration:"}),Object(g.jsx)(A.a,{children:Object(g.jsxs)(l.a,{variant:"body1",color:"secondary",style:{fontWeight:700},children:[t.job_duration||""," hours"]})})]}):!t.is_flat_rate&&Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Estimated time:"}),Object(g.jsx)(A.a,{children:Object(g.jsxs)(l.a,{variant:"body1",color:"secondary",style:{fontWeight:700},children:[t.estimated_time[0]," - ",t.estimated_time[1]," hours*"]})})]}),"Completed"===t.job_status||t.is_flat_rate?null:Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Travel time:"}),Object(g.jsx)(A.a,{children:Object(g.jsxs)("label",{children:[t.travel_time[0],"/",t.travel_time[1]," min* (from/to HQ)"]})})]}),"Completed"===t.job_status?Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Total:"}),Object(g.jsx)(A.a,{style:{fontWeight:600,fontSize:"18px"},children:Object(g.jsxs)("label",{children:["$",t.total_amount]})})]}):Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:t.is_flat_rate?"FLAT PRICE":"Estimated quote:"}),Object(g.jsx)(A.a,{style:{fontWeight:600,fontSize:"18px"},children:t.is_flat_rate?Object(g.jsxs)("label",{children:["$",t.estimated_quote[0]]}):Object(g.jsxs)("label",{children:["$",t.estimated_quote[0]," - $",t.estimated_quote[1]," "]})})]}),"Completed"===t.job_status&&Object(g.jsxs)(D.a,{children:[Object(g.jsx)(A.a,{children:"Crew:"}),Object(g.jsx)(A.a,{children:t.users.map((function(e,a){return Object(g.jsxs)("label",{className:s.crewNames,children:[e.first_name+" "+e.last_name,a===t.users.length-1?null:", "]},a)}))})]})]})}),Object(g.jsx)(c.a,{}),"Completed"===t.job_status?null:Object(g.jsxs)(r.a,{mt:2,className:s.addInfoContainer,children:[Object(g.jsxs)(l.a,{variant:"body2",className:s.paragraph,children:[Object(g.jsx)("span",{style:{color:"red",fontWeight:500,marginRight:"8px"},children:"NOTE:"}),Object(g.jsx)("span",{style:{fontWeight:700},children:"This quote is just an estimate and provided for your convinience only."}),"\xa0We give you a database average for generally similar moves. However, your final cost is based on hourly rate and actual time your move will take. Additional time may be required if your move involves long walks, narrow stares, furniture disassembly, bad weather conditions, etc."]}),Object(g.jsx)(l.a,{variant:"body2",className:s.paragraph,children:"* Total moving time consist of 2 hours minimum labour time plus fixed travel time."}),Object(g.jsx)(l.a,{variant:"body2",className:Object(S.a)(s.paragraph,s.margTop),children:"We accept cash, checks, credit cards. If you choose to pay with a credit cardor debit card, you will be charged a fee of 3% of the payment amount."})]}),Object(g.jsx)(r.a,{mt:4,className:s.addInfoContainer,children:Object(g.jsx)(r.a,{children:Object(g.jsx)(l.a,{className:s.addInfoTitle,children:"Additional Information:"})})}),Object(g.jsxs)(r.a,{className:s.addInfoContainer,children:[Object(g.jsxs)(r.a,{mt:2,className:s.addInfoSubTitle,children:[Object(g.jsx)(l.a,{variant:"body2",color:"textPrimary",children:t.additional_info}),t.images.length>0&&Object(g.jsx)(c.a,{}),Object(g.jsx)(We,{images:t.images,dispatch:a}),Object(g.jsx)(Ie,{jobId:t.id,dispatch:a})]}),"Completed"===t.job_status?null:Object(g.jsx)(l.a,{variant:"body2",style:{fontSize:12},className:s.margTop,children:"Long distance moves are FLAT RATE and REQUIRED the list of all furniture and approximate amount of boxes."})]})]})]}))},Ee=a(112),Re=a(221),He=a(1029),Le=a.n(He),Pe=a(1028),Ve=a.n(Pe),Ye=a(168),Fe=a(117),qe=we()(Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(g.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"DocumentText"),Ue=["customer","event","history"],Ge=Object(ae.a)((function(e){return{root:{},actionIcon:{marginRight:e.spacing(1)},cardHeader:{textAlign:"center"},button:{display:"flex",width:"100%",justifyContent:"flex-start",color:e.palette.text.secondary},arrow:{marginLeft:"auto",color:e.palette.text.secondary},menuBox:{flexDirection:"column",width:"100%"},menuBoxActive:{backgroundColor:e.palette.background.level2},statusBox:{display:"flex",alignItems:"center",marginTop:"-5px",padding:0,"& span ":{fontSize:10,backgroundColor:"transparent",fontWeight:400,padding:0}},topInfo:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flex:1}}}));var Je=function(e){var t=e.customer,a=e.event,i=e.history,s=Object(T.a)(e,Ue),o=Object(G.b)(),d=Ge(),j=Object(n.useRef)(null),b=Object(n.useState)(!1),u=Object(C.a)(b,2),h=u[0],m=u[1],O=Object(G.c)((function(e){return e.customers})).customerJobs;return Object(n.useEffect)((function(){o(Object(Ye.b)(t.id))}),[o,t.id]),O?Object(g.jsxs)(M.a,Object(N.a)(Object(N.a)({className:Object(S.a)(d.root)},s),{},{children:[Object(g.jsx)(z.a,{title:"HELPFUL LINKS",className:d.cardHeader,titleTypographyProps:{variant:"caption"}}),Object(g.jsx)(c.a,{}),Object(g.jsx)(k.a,{children:Object(g.jsxs)(r.a,{display:"flex",flexDirection:"column",alignItems:"flex-start",children:[Object(g.jsxs)(x.a,{className:d.button,component:Ee.a,onClick:function(){m(!0)},ref:j,children:[Object(g.jsx)(Ve.a,{className:d.actionIcon}),"My Moves History (",Object(g.jsx)("span",{style:{fontWeight:600},children:O.length}),")",Object(g.jsx)(p.a,{className:Object(S.a)(d.actionIcon,d.arrow)})]}),Object(g.jsx)(Re.a,{onClose:function(){m(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,getContentAnchorEl:null,anchorEl:j.current,open:h,PaperProps:{style:{maxHeight:288},className:d.popover},children:O.map((function(e,t){var n,s;return Object(g.jsx)(ee.a,{open:h,className:e.id===a.id?d.menuBoxActive:null,onClick:function(t){e.id!==a.id?i.push("/dashboard/jobs/".concat(e.id)):t.preventDefault()},children:Object(g.jsxs)(r.a,{display:"flex",className:d.menuBox,children:[Object(g.jsxs)(r.a,{className:d.topInfo,children:[Object(g.jsx)(r.a,{children:Object(g.jsx)(l.a,{variant:"body2",color:"textSecondary",children:me()(e.pick_up_date).format("MM/DD/YYYY")})}),Object(g.jsxs)(r.a,{className:d.topInfo,ml:1,children:[e.origin&&Object(g.jsx)(r.a,{children:Object(g.jsxs)(l.a,{variant:"body2",children:[e.origin.city,",",e.origin.state]})}),(null===(n=e.destination)||void 0===n?void 0:n.city)&&Object(g.jsx)(Fe.a,{style:{width:14,margin:"0 8px"},className:Object(S.a)(d.actionIcon,d.arrow)}),(null===(s=e.destination)||void 0===s?void 0:s.city)&&Object(g.jsx)(r.a,{children:Object(g.jsxs)(l.a,{variant:"body2",children:[e.destination.city,",",e.destination.state]})})]})]}),Object(g.jsx)(r.a,{className:d.statusBox,children:Object(g.jsxs)(l.a,{children:[Object(g.jsx)(U.a,{status:e.job_status}),e.job_duration?Object(g.jsxs)(l.a,{variant:"caption",color:"textSecondary",style:{marginLeft:4},children:[e.job_duration,"hr"]}):null]})}),Object(g.jsx)(c.a,{})]})},t)}))}),Object(g.jsxs)(x.a,{className:d.button,children:[Object(g.jsx)(Le.a,{className:d.actionIcon}),"Certificate of Insurance",Object(g.jsx)(p.a,{className:Object(S.a)(d.actionIcon,d.arrow)})]}),Object(g.jsxs)(x.a,{className:d.button,disabled:!a.receipt,children:[Object(g.jsx)(qe,{className:d.actionIcon}),"Moving Receipt",Object(g.jsx)(p.a,{className:Object(S.a)(d.actionIcon,d.arrow)})]}),Object(g.jsxs)(x.a,{className:d.button,children:[Object(g.jsx)(ge.a,{className:d.actionIcon}),"Bill of Lading",Object(g.jsx)(p.a,{className:Object(S.a)(d.actionIcon,d.arrow)})]})]})})]})):null},Ke=a(165),$e=Object(i.a)((function(e){return{root:{},grid:{marginTop:e.spacing(2)}}}));t.default=function(e){var t=e.match,a=e.history,i=$e(),j=t.params.id,b=Object(G.c)((function(e){return e.calendar})).event,u=Object(G.c)((function(e){return e.employees})).users,h=Object(G.b)();if(Object(n.useEffect)((function(){return h(Object(J.g)(j)),h(Object(Ke.c)()),function(){h(Object(J.b)())}}),[h,j]),!b)return null;var m={job_duration:b.estimated_time[0],total_amount:b.estimated_quote[0],job_status:"Completed",user_ids:[]};return Object(g.jsx)(d.a,{className:i.root,title:"Job Details",children:Object(g.jsx)(r.a,{sx:{backgroundColor:"background.default",minHeight:"100%",paddingY:8},children:Object(g.jsxs)(s.a,{maxWidth:!1,children:[Object(g.jsx)(y,{job:b,handleDeleteJob:function(e){}}),Object(g.jsxs)(o.a,{className:i.grid,container:!0,spacing:2,children:[Object(g.jsx)(o.a,{item:!0,md:4,xl:3,xs:12,children:Object(g.jsxs)(o.a,{container:!0,spacing:2,children:[Object(g.jsx)(o.a,{item:!0,xs:12,children:Object(g.jsx)(ue,{customer:b.customer,job:b,init:m,users:u})}),Object(g.jsx)(o.a,{item:!0,xs:12,children:Object(g.jsx)(Je,{customer:b.customer,event:b,history:a})})]})}),Object(g.jsx)(o.a,{item:!0,md:8,xl:9,xs:12,children:Object(g.jsx)(Ae,{job:b,dispatch:h})}),Object(g.jsx)(o.a,{item:!0,md:3,xs:12}),Object(g.jsx)(c.a,{style:{marginTop:40,width:"100%"}}),Object(g.jsxs)(o.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(g.jsx)(r.a,{mt:5,style:{width:"100%",maxWidth:700,textAlign:"center"},children:Object(g.jsx)(r.a,{children:Object(g.jsxs)(l.a,{variant:"body1",children:["Status provided by InsightMoving. Last updated on"," ",me()(null===b||void 0===b?void 0:b.updated_at).format("MMMM Do YYYY, h:mm:ss a")]})})}),Object(g.jsx)(r.a,{style:{width:"100%",maxWidth:700,textAlign:"center",fontStyle:"italic"},children:Object(g.jsx)(r.a,{mt:2,pb:10,children:Object(g.jsxs)(l.a,{variant:"body2",color:"textSecondary",children:[Object(g.jsx)("span",{style:{color:"red",marginRight:5,fontWeight:600},children:"NOTICE:"}),"InsightMoving authorizes you to use our order status system for your convinience only. Any other use of the system and information is strictly prohibited."]})})})]})]})]})})})}},416:function(e,t,a){"use strict";a(0);var n=a(5),i=a(16),r=a(10),s=a(3),o=a(20),c=a(222),l=a(1),d=["className","color","children"],j=Object(c.a)((function(e){return{root:{fontWeight:600,letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),borderRadius:4},primary:{color:e.palette.primary.main,backgroundColor:Object(o.a)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(o.a)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(o.a)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(o.a)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(o.a)(e.palette.warning.main,.08)}}}));function b(e){var t=e.className,a=e.color,o=e.children,c=Object(r.a)(e,d),b=j();return Object(l.jsx)("span",Object(n.a)(Object(n.a)({className:Object(s.a)(b.root,Object(i.a)({},b[a],a),t)},c),{},{children:o}))}b.defaultProps={className:"",color:"secondary"};var u=b;t.a=function(e){var t={Completed:{text:"Completed",color:"success"},Canceled:{text:"Canceled",color:"error"},"Needs Attention":{text:"Needs Attention",color:"warning"},Confirmed:{text:"Confirmed",color:"primary"}}[e.status],a=t.text,n=t.color;return Object(l.jsx)(u,{color:n,children:a})}},438:function(e,t,a){"use strict";var n=a(15),i=a.n(n),r=a(1),s=i()(Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(r.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),Object(r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"CurrencyDollar");t.a=s},485:function(e,t,a){"use strict";var n=a(15),i=a.n(n),r=a(1),s=i()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Users");t.a=s},513:function(e,t,a){"use strict";var n=a(15),i=a.n(n),r=a(1),s=i()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Trash");t.a=s}}]);