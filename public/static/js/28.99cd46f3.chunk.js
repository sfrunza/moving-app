(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[28],{2088:function(e,a,t){"use strict";t.r(a);var n=t(17),o=t(11),r=t(10),l=t(0),i=t.n(l),s=t(2),c=t(16),m=(t(111),t(31)),u=t.n(m),d=(t(241),t(8)),b=t(1571),f=t(59),p=t(415),v=t(6),g=t(1386),j=t(413),E=t(209),h=t(267),y=t(1572),x=t(1573),O=t(1574),S=t(1372),w=t(1373),_=t(65),k=t(210),N=t(1644),C=t(121),M=t(1620),T=t(1635),B=t(2073),I=t(2074),z=t(131),D=t(1387),F=t(1388),H=t(1389),R=t(1390),q=t(782),A=Object(f.a)((function(e){return{root:{},cell:{borderBottom:"none"},boxItem:{padding:"3px 15px"},name:{fontWeight:600}}}));var P=function(e){var a=e.className,t=e.onBack,c=e.onSubmit,m=e.formState,u=e.setFormState,d=e.jobType,b=e.typeFrom,f=e.typeTo,p=e.movingSize,v=e.origin,g=e.destination,E=A(),h=Object(l.useState)(0),y=Object(o.a)(h,2),x=y[0],O=y[1],S=Object(l.useState)([]),w=Object(o.a)(S,2),_=w[0],N=w[1],C=window.google=window.google?window.google:{},M=Object(l.useState)(),T=Object(o.a)(M,2),B=(T[0],T[1]),I=Object(l.useState)([]),z=Object(o.a)(I,2),P=(z[0],z[1]),W=Object(l.useState)(0),L=Object(o.a)(W,2),V=L[0],U=L[1],Y=Object(l.useState)(""),G=Object(o.a)(Y,2),$=G[0],J=G[1],Q=Object(l.useState)(""),K=Object(o.a)(Q,2),Z=K[0],X=K[1],ee={2:90,3:120,4:160},ae={};return ae="Moving"===d||"Moving with Storage"===d?{"Room or less (partial move)":60,"Studio apartment":120,"1 Bedroom apartment":180,"2 Bedroom apartment":240,"2 Bedroom House/Townhouse":300,"3+ Bedroom apartment":360,"3 Bedroom House/Townhouse":420,"4+ Bedroom House/Townhouse":480,"Office / Commercial space":300}:{"Room or less (partial move)":30,"Studio apartment":60,"1 Bedroom apartment":90,"2 Bedroom apartment":120,"2 Bedroom House/Townhouse":150,"3+ Bedroom apartment":180,"3 Bedroom House/Townhouse":210,"4+ Bedroom House/Townhouse":240,"Office / Commercial space":150},Object(l.useEffect)((function(){return O(function(e,a,t){for(var n=["Room or less (partial move)","Studio apartment","1 Bedroom apartment","2 Bedroom apartment","2 Bedroom House/Townhouse","3+ Bedroom apartment","3 Bedroom House/Townhouse","4+ Bedroom House/Townhouse","Office / Commercial space"],o=["elevator building","1st/Ground floor","2nd floor","private house","storage unit","3rd floor","4th floor"],r=[],l=2,i=0;i<n.length;i++)if(n[i]===e)for(var s=0;s<o.length;s++)if(o[s]===a)for(var c=0;c<o.length;c++)r.push([n[i],o[s],o[c]]),i>=3&&(c>4||s>4)&&(l=4),i>=1&&i<4&&(c<=5||s<=5)&&(l=3),i<3&&(c<5||s<5)&&(l=2),i>4&&(l=4),r[t]=l;return r[t]}(p,b,f)),console.log("crewSize effect"),function(){O(0)}}),[p,b,f]),Object(l.useEffect)((function(){return(new C.maps.DirectionsService).route({origin:v,destination:g,travelMode:C.maps.TravelMode.DRIVING},(function(e,a){if(a===C.maps.DirectionsStatus.OK){var t=10*Math.round(e.routes[0].legs[0].duration.value/60/10);return B(e.routes[0].legs[0].distance.text),U(t),null}})),console.log("timebetween effect"),function(){U(0)}}),[v,g]),Object(l.useEffect)((function(){return(new C.maps.DistanceMatrixService).getDistanceMatrix({origins:["02446"],destinations:[v,g],travelMode:"DRIVING",unitSystem:C.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},(function(e,a){if("OK"!==a)alert("Error was: "+a);else{var t="",n="",o=e.rows[0].elements;if(P(e.destinationAddresses),"ZERO_RESULTS"!==e.rows[0].elements[0].status&&"ZERO_RESULTS"!==e.rows[0].elements[1].status)return t=o[0].distance.value<2e4?20:10*Math.round(o[0].duration.value/60/10),n=o[1].distance.value<2e4?20:10*Math.round(o[1].duration.value/60/10),N([t,n]),null}})),console.log("traveltime effect"),function(){P([])}}),[v,g]),Object(l.useEffect)((function(){!function(){var e=(_[0]+_[1]+V+ae[p])/60,a=Math.floor(e),t=60*(e-a);Math.round(t)>30&&(a+=1);var o=a*ee[x],r=(a+2)*ee[x];J("Moving"===d||"Moving with Storage"===d?"".concat(a," - ").concat(a+2):"".concat(a," - ").concat(a+1)),X("$".concat(o," - $").concat(r)),u((function(e){return Object(n.a)(Object(n.a)({},e),{},{values:Object(n.a)(Object(n.a)({},e.values),{},{job:Object(n.a)(Object(n.a)({},e.values.job),{},{travel_time:"".concat(_[0]," / ").concat(_[1]),crew_size:x,job_rate:ee[x],estimated_time:"".concat(a," - ").concat(a+2),estimated_quote:"$".concat(o," - $").concat(r)})})})}))}()}),[_]),i.a.createElement("div",{className:Object(s.a)(E.root,a)},i.a.createElement(j.a,{mt:3,mb:3,display:"flex",flexDirection:"column"},i.a.createElement(j.a,{className:Object(s.a)(E.boxItem,E.name)},m.values.user.first_name+" "+m.values.user.last_name),i.a.createElement(j.a,{className:E.boxItem},m.values.user.email),i.a.createElement(j.a,{className:E.boxItem},function(e){var a=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return a?"("+a[1]+") "+a[2]+"-"+a[3]:null}(m.values.user.phone))),i.a.createElement(D.a,null,i.a.createElement(F.a,null,i.a.createElement(H.a,null,i.a.createElement(R.a,null,"Moving Date: "),i.a.createElement(R.a,{style:{fontWeight:"bold"}},m.values.job.pick_up_date)),null===m.values.job.delivery_date?null:i.a.createElement(H.a,null,i.a.createElement(R.a,null,"Delivery Date: "),i.a.createElement(R.a,{style:{fontWeight:"bold"}},m.values.job.delivery_date)),i.a.createElement(H.a,null,i.a.createElement(R.a,{className:E.cell},"Moving From: "),i.a.createElement(R.a,{className:E.cell},i.a.createElement(j.a,null,i.a.createElement(k.a,{style:{padding:"3px"}},m.values.origin.address)),i.a.createElement(j.a,{component:"div",display:"inline",style:{fontWeight:"bold"}},"*",m.values.origin.floor),i.a.createElement(j.a,{component:"div",display:"inline",ml:2},"Apt#",""===m.values.origin.apt_number?" unknown":" "+m.values.origin.apt_number))),i.a.createElement(H.a,null,i.a.createElement(R.a,null,"Moving To:"),i.a.createElement(R.a,null,i.a.createElement(j.a,null,i.a.createElement(k.a,{style:{padding:"3px"}},m.values.destination.address)),i.a.createElement(j.a,{component:"div",display:"inline",style:{fontWeight:"bold"}},"*",m.values.destination.floor),i.a.createElement(j.a,{component:"div",display:"inline",ml:2},"Apt#",""===m.values.destination.apt_number?" unknown":" "+m.values.destination.apt_number))),i.a.createElement(H.a,null,i.a.createElement(R.a,{className:E.cell},"Moving Type:"),i.a.createElement(R.a,{className:E.cell},m.values.job.job_type)),i.a.createElement(H.a,null,i.a.createElement(R.a,null,"Moving Size:"),i.a.createElement(R.a,{style:{fontWeight:600}},m.values.job.job_size)),i.a.createElement(H.a,null,i.a.createElement(R.a,{className:E.cell},"Crew:"),i.a.createElement(R.a,{className:E.cell,style:{fontWeight:600}},x," Movers")),i.a.createElement(H.a,null,i.a.createElement(R.a,{className:E.cell},"Rate:"),i.a.createElement(R.a,{className:E.cell,style:{color:q.a.A200,fontSize:"18px",fontWeight:"bold"}},i.a.createElement("label",null,"$ ",ee[x])," / hr ",i.a.createElement("label",{style:{color:"grey",fontSize:"12px",fontStyle:"italic",fontWeight:"normal"}}," - billed in 15 minutes increment"))),i.a.createElement(H.a,null,i.a.createElement(R.a,{className:E.cell},"Estimated Time:"),i.a.createElement(R.a,{className:E.cell,style:{color:"#FD7013",fontSize:"18px",fontWeight:"bold"}},i.a.createElement("label",null,$)," hours*")),i.a.createElement(H.a,null,i.a.createElement(R.a,{className:E.cell},"Travel Time:"),i.a.createElement(R.a,Object(r.a)({className:E.cell},"className",E.cell),i.a.createElement("label",null,"".concat(_[0],"min/").concat(_[1],"min")," ","(from/to HQ)"))),i.a.createElement(H.a,null,i.a.createElement(R.a,{className:E.cell},"Estimated Quote:"),i.a.createElement(R.a,{className:E.cell,style:{fontWeight:600,fontSize:"18px",color:"#FD7013"}},i.a.createElement("label",null,Z))))),i.a.createElement(j.a,{mt:3,display:"flex"},t&&i.a.createElement(k.a,{size:"large",variant:"outlined",onClick:function(){window.scrollTo(0,0),t()}},"Previous"),i.a.createElement(j.a,{flexGrow:1}),i.a.createElement(k.a,{color:"secondary",variant:"contained",size:"large",onClick:function(){window.scrollTo(0,0),c()}},"Sumbit")))},W=t(55),L=t.n(W),V=t(97),U=t(7),Y=t(87),G=t(213),$=t(5),J=t.n($),Q=(t(539),t(1361)),K=t(533),Z=t(857),X=t(858),ee=t(892),ae=t(1637),te=t(2061),ne=t.n(te),oe=t(2066),re=t.n(oe),le=t(1755),ie=t.n(le),se=[{key:"6",text:"Moving",value:"Moving"},{key:"1",text:"Moving with Storage",value:"Moving with Storage"},{key:"2",text:"Loading Help",value:"Loading Help"},{key:"3",text:"Unloading Help",value:"Unloading Help"},{key:"4",text:"Packing Only",value:"Packing Only"},{key:"5",text:"Inside Move",value:"Inside Move"}],ce=[{key:"room",text:"One Room or less (<1000 lbs)",value:"Room or less (partial move)"},{key:"studio",text:"Studio Apt.",value:"Studio apartment"},{key:"onebed",text:"1 Bedroom Apt.",value:"1 Bedroom apartment"},{key:"twobed",text:"2 Bedroom Apt.",value:"2 Bedroom apartment"},{key:"threebed",text:"3+ Bedroom Apt.",value:"3+ Bedroom apartment"},{key:"twohouse",text:"2 Bedroom House/Townhouse",value:"2 Bedroom House/Townhouse"},{key:"threehouse",text:"3 Bedroom House/Townhouse",value:"3 Bedroom House/Townhouse"},{key:"fourhouse",text:"4+ Bedroom House/Townhouse",value:"4+ Bedroom House/Townhouse"},{key:"commercial",text:"Office / Commercial Moving",value:"Office / Commercial space"}],me=[{key:"elv",text:"Elevator Bldg.",value:"elevator building"},{key:"grfloor",text:"No Stairs - Ground Floor",value:"1st/Ground floor"},{key:"2floor",text:"Stairs - 2nd Floor",value:"2nd floor"},{key:"3floor",text:"Stairs - 3rd Floor",value:"3rd floor"},{key:"4floor",text:"Stairs - 4th Floor",value:"4th floor"},{key:"5floor",text:"Stairs 5th or Higher - N/A",value:"Stairs 5th or Higher - N/A",disabled:!0},{key:"private",text:"Private House",value:"private house"},{key:"storage",text:"Storage Unit",value:"storage unit"}],ue=Object(f.a)((function(e){return{root:{},addTab:{marginLeft:e.spacing(2)},datePicker:{"& + &":{marginLeft:e.spacing(2)}},editor:{"& .ql-editor":{height:200}},flexConatiner:Object(r.a)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("xs"),{flexDirection:"column"}),flexItem:{flex:"0 0 47%"},flexItemFirst:Object(r.a)({flex:"0 0 65%"},e.breakpoints.down("xs"),{flex:"0 0 100%"}),flexItemSecond:{flex:"0 0 33%"},itemsContainerApt:Object(r.a)({flex:"0 0 30%"},e.breakpoints.down("xs"),{flex:"0 0 27%"}),itemsContainerType:Object(r.a)({flex:"0 0 65%"},e.breakpoints.down("xs"),{flex:"0 0 70%"}),addressContainer:{display:"flex",justifyContent:"space-between"},typeContainer:{flex:"0 0 48%",justifyContent:"space-evenly",display:"flex",flexDirection:"column"},itemsContainer:{justifyContent:"space-between",display:"flex"},disabled:{backgroundColor:"#efefef"},destination:Object(r.a)({},e.breakpoints.down("xs"),{marginTop:"32px"}),dateMtop:Object(r.a)({},e.breakpoints.down("xs"),{marginTop:"32px"}),icon:{position:"relative",top:"3px"}}}));var de=function(e){var a=e.className,t=e.onNext,o=e.formState,r=e.setFormState,l=Object(U.a)(e,["className","onNext","formState","setFormState"]),c=ue(),m=function(){return me.map((function(e,a){return"Stairs 5th or Higher - N/A"===e.value?i.a.createElement(Q.a,{key:e.key,value:e.value,disabled:!0},e.text):i.a.createElement(Q.a,{key:e.key,value:e.value},e.text)}))},u=function(e){var a=e.name,t=e.form,n=e.search;t.setFieldValue(a,n)},d=function(e){var a=e.field,t=e.form,n=a.name,o=!1,r="#fff";return"Loading Help"===t.values.job.job_type||"Packing Only"===t.values.job.job_type||"Inside Move"===t.values.job.job_type||"Moving"===t.values.job.job_type||"Moving with Storage"===t.values.job.job_type?o=!1:(o=!0,r="#efefef"),i.a.createElement(ne.a,{value:a.value,onChange:function(e){u({name:a.name,form:t,search:e})}},(function(e){var l=e.getInputProps,s=e.getSuggestionItemProps,m=e.suggestions,u=l({name:a.name,className:"form-input__field"});return i.a.createElement("div",{className:"autocomplete-root"},i.a.createElement(K.a,Object.assign({},u,{label:"Origin Address *",variant:"outlined",placeholder:"Type Full Address",style:{width:"100%",backgroundColor:r},error:!(!Object(G.c)(t.errors,n)||!Object(G.c)(t.touched,n)),disabled:o})),i.a.createElement("div",{className:"autocomplete-dropdown-container"},m.map((function(e,a){var t={backgroundColor:e.active?"#e0e0e0":"#fff",cursor:"pointer",padding:"10px",fontSize:"14px",borderBottom:"1px solid #b7b7b7",alignItems:"center",display:"flex"};return i.a.createElement("div",Object.assign({},s(e,{style:t}),{key:a}),i.a.createElement(re.a,{className:c.icon,key:a}),i.a.createElement("span",null,e.formattedSuggestion.mainText),","," ",e.formattedSuggestion.secondaryText)}))),0!=m.length?i.a.createElement("div",{style:{display:"flex",alignItems:"center",float:"right",justifyContent:"flex-end",marginTop:"5px"}},i.a.createElement("span",null,"powered by ")," ",i.a.createElement("img",{src:"https://cdn.worldvectorlogo.com/logos/google-2015.svg",style:{width:"17%",marginLeft:"5px"}})):null)}))},b=function(e){var a=e.field,t=e.form,n=a.name,o=!1,r="#fff";return"Unloading Help"===t.values.job.job_type||"Moving"===t.values.job.job_type||"Moving with Storage"===t.values.job.job_type?o=!1:(o=!0,r="#efefef"),i.a.createElement(ne.a,{value:a.value,onChange:function(e){u({name:a.name,form:t,search:e})}},(function(e){var l=e.getInputProps,s=e.getSuggestionItemProps,m=e.suggestions,u=l({name:a.name,className:"form-input__field"});return i.a.createElement("div",{className:"autocomplete-root"},i.a.createElement(K.a,Object.assign({},u,{label:"Destination Address *",variant:"outlined",placeholder:"Type Full Address",style:{width:"100%",backgroundColor:r},error:!(!Object(G.c)(t.errors,n)||!Object(G.c)(t.touched,n)),disabled:o})),i.a.createElement("div",{className:"autocomplete-dropdown-container"},m.map((function(e,a){var t={backgroundColor:e.active?"#e0e0e0":"#fff",cursor:"pointer",padding:"10px",fontSize:"14px",borderBottom:"1px solid #b7b7b7",alignItems:"center",display:"flex"};return i.a.createElement("div",Object.assign({},s(e,{style:t}),{key:a}),i.a.createElement(re.a,{className:c.icon,key:a}),i.a.createElement("span",null,e.formattedSuggestion.mainText),","," ",e.formattedSuggestion.secondaryText)}))),0!=m.length?i.a.createElement("div",{style:{display:"flex",alignItems:"center",float:"right",justifyContent:"flex-end",marginTop:"5px"}},i.a.createElement("span",null,"powered by ")," ",i.a.createElement("img",{src:"https://cdn.worldvectorlogo.com/logos/google-2015.svg",style:{width:"17%",marginLeft:"5px"}})):null)}))},f=function(e){var a=e.field,t=e.form,n=Object(U.a)(e,["field","form"]),o=t.touched,r=t.errors,l=a.name,s="";return s="job.pick_up_date"===l?"Move Date":"Delivery Date",i.a.createElement(ae.a,Object.assign({autoOk:!0,disableToolbar:!0,required:!0,variant:"inline",inputVariant:"outlined",label:s,format:"MMM DD YYYY",error:Object(G.c)(r,l)&&Object(G.c)(o,l),onChange:function(e){return t.setFieldValue(a.name,J()(e).format("MM/DD/YYYY"),!0)}},n,{maxDate:(new Date).setMonth((new Date).getMonth()+3),disablePast:!0,style:{width:"100%"}}))};function p(e){var a;return"Invalid date"!==e&&null!==e||(a="Required"),a}function v(e){var a;return""===e&&(a="Required"),a}return i.a.createElement(G.b,{initialValues:{job:o.values.job?o.values.job:{job_size:"",pick_up_date:null,delivery_date:null,job_type:"Moving",job_status:"Needs Attention",user_id:null},origin:o.values.origin?o.values.origin:{address:"",floor:"",apt_number:"",job_id:null},destination:o.values.destination?o.values.destination:{address:"",floor:"",apt_number:"",job_id:null}},validationSchema:Y.c().shape({job:Y.c().shape({job_size:Y.e().required("Required"),job_type:Y.e().required("Required")}),origin:Y.c().shape({floor:Y.e().required("Required"),address:Y.e().required("Required")}),destination:Y.c().shape({floor:Y.e().required("Required"),address:Y.e().required("Required")})}),validateOnChange:!0,onSubmit:function(){var e=Object(V.a)(L.a.mark((function e(a,l){var i,s,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=l.setErrors,s=l.setStatus,c=l.setSubmitting;try{r(Object(n.a)(Object(n.a)({},o),{},{values:Object(n.a)(Object(n.a)({},o.values),{},{job:a.job,origin:a.origin,destination:a.destination})})),window.scrollTo(0,0),t()}catch(m){i({submit:m.message}),s({success:!1}),c(!1)}case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var t=e.errors,n=e.handleBlur,o=e.handleChange,r=e.handleSubmit,u=(e.isSubmitting,e.setFieldValue,e.setFieldTouched,e.setFieldError,e.touched),g=e.resetForm,E=e.values,h=!1,y=!1,x="#fff",O="#fff";return"Loading Help"!==E.job.job_type&&"Packing Only"!==E.job.job_type&&"Inside Move"!==E.job.job_type||(y=!0,x="#efefef",E.destination=Object.assign(E.destination,E.origin),delete t.destination),"Unloading Help"===E.job.job_type&&(h=!0,O="#efefef",E.origin=Object.assign(E.origin,E.destination),delete t.origin),i.a.createElement("form",Object.assign({onSubmit:r,className:Object(s.a)(c.root,a)},l),i.a.createElement(_.a,{variant:"h3",color:"textPrimary"},"Lets get started. Step 1 of 3."),i.a.createElement(j.a,{mt:2},i.a.createElement(_.a,{variant:"subtitle1",color:"textSecondary"},"Request your move fast and free \u2014 no commitments or credit card required.")),i.a.createElement(j.a,{mt:4,className:c.flexConatiner},i.a.createElement(j.a,{className:c.flexItemFirst},i.a.createElement(Z.a,{variant:"outlined",style:{width:"100%"},error:Object(G.c)(t,"job.job_size")&&Object(G.c)(u,"job.job_size")},i.a.createElement(X.a,null,"Size of Move"),i.a.createElement(ee.a,{id:"job_size",label:"Size of Move",variant:"outlined",name:"job.job_size",value:E.job.job_size,onChange:o},ce.map((function(e,a){return i.a.createElement(Q.a,{key:e.key,value:e.value},e.text)}))))),i.a.createElement(j.a,{className:Object(s.a)(c.flexItemSecond,c.dateMtop)},i.a.createElement(G.a,{name:"job.pick_up_date",component:f,value:E.job.pick_up_date,validate:p}))),i.a.createElement(j.a,{mt:4,className:c.flexConatiner},i.a.createElement(j.a,{className:c.flexItemSecond},i.a.createElement(Z.a,{variant:"outlined",style:{width:"100%"},error:Object(G.c)(t,"job.job_type")&&Object(G.c)(u,"job.job_type")},i.a.createElement(X.a,null,"Type of Service"),i.a.createElement(ee.a,{id:"job_type",label:"Type of Service",variant:"outlined",name:"job.job_type",value:E.job.job_type,onChange:o},se.map((function(e,a){return i.a.createElement(Q.a,{key:e.key,value:e.value},e.text)}))))),i.a.createElement(j.a,{className:c.flexItemSecond},"Moving"===E.job.job_type||"Loading Help"===E.job.job_type||"Unloading Help"===E.job.job_type||"Packing Only"===E.job.job_type||"Inside Move"===E.job.job_type?i.a.createElement("div",null):i.a.createElement(G.a,{name:"job.delivery_date",component:f,value:E.job.delivery_date,validate:p,className:c.dateMtop}))),i.a.createElement(j.a,{mt:4,className:c.flexConatiner},i.a.createElement(j.a,{className:c.typeContainer},i.a.createElement(j.a,null,i.a.createElement(G.a,{name:"origin.address",value:E.origin.address,handleBlur:n,component:d,disabled:h,validate:v})),i.a.createElement(j.a,{className:c.itemsContainer,mt:4},i.a.createElement(j.a,{className:c.itemsContainerApt},i.a.createElement(K.a,{id:"origin.apt_number",label:"Apt #",defaultValue:"",variant:"outlined",name:"origin.apt_number",onChange:o,disabled:h,style:{width:"100%",backgroundColor:O}})),i.a.createElement(j.a,{className:c.itemsContainerType,style:{width:"100%"}},i.a.createElement(Z.a,{variant:"outlined",style:{width:"100%"},error:!(!Object(G.c)(t,"origin.floor")||!Object(G.c)(u,"origin.floor"))},i.a.createElement(X.a,null,"Select elevator/stairs..."),i.a.createElement(ee.a,{id:"origin.floor",defaultValue:"",label:"Select elevator/stairs...",variant:"outlined",name:"origin.floor",value:E.origin.floor,onChange:o,disabled:h,style:{backgroundColor:O}},m()))))),i.a.createElement(j.a,{className:Object(s.a)(c.destination,c.typeContainer)},i.a.createElement(j.a,null,i.a.createElement(G.a,{name:"destination.address",value:E.destination.address,handleBlur:n,component:b,validate:v})),i.a.createElement(j.a,{className:c.itemsContainer,mt:4},i.a.createElement(j.a,{className:c.itemsContainerApt},i.a.createElement(K.a,{id:"destination.apt_number",label:"Apt #",defaultValue:"",variant:"outlined",name:"destination.apt_number",onChange:o,disabled:y,style:{width:"100%",backgroundColor:x}})),i.a.createElement(j.a,{style:{width:"100%"},className:c.itemsContainerType},i.a.createElement(Z.a,{variant:"outlined",style:{width:"100%"},error:!(!Object(G.c)(t,"destination.floor")||!Object(G.c)(u,"destination.floor"))},i.a.createElement(X.a,null,"Select elevator/stairs..."),i.a.createElement(ee.a,{id:"destination.floor",defaultValue:"",label:"Select elevator/stairs...",variant:"outlined",name:"destination.floor",value:E.destination.floor,onChange:o,disabled:y,style:{backgroundColor:x}},m())))))),i.a.createElement(_.a,{variant:"body2",style:{fontSize:"12px"}},"*Please provide us with exact floor if stairs are involved."),i.a.createElement(j.a,{mt:6,display:"flex",alignItems:"center"},i.a.createElement(j.a,{flexGrow:1}),i.a.createElement(j.a,{style:{marginRight:"25px"}},i.a.createElement(k.a,{size:"small",onClick:function(){return g()},style:{textTransform:"none"}},i.a.createElement(ie.a,null),"Clear Form")),i.a.createElement(j.a,null,i.a.createElement(k.a,{color:"secondary",type:"submit",variant:"contained",size:"large"},"Next"))),i.a.createElement("div",null))}))},be=Object(f.a)((function(e){return{root:{},addTab:{marginLeft:e.spacing(2)},tag:{"& + &":{marginLeft:e.spacing(1)}},datePicker:{"& + &":{marginLeft:e.spacing(2)}},editor:{"& .ql-editor":{height:200}},flexConatiner:Object(r.a)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("xs"),{flexDirection:"column"}),flexItem:{flex:"0 0 47%"},flexItemSecond:Object(r.a)({flex:"0 0 47%"},e.breakpoints.down("xs"),{marginTop:"32px"})}}));var fe=function(e){var a=e.className,t=e.onBack,o=e.onNext,r=e.setFormState,l=e.formState,c=Object(U.a)(e,["className","onBack","onNext","setFormState","formState"]),m=be();return i.a.createElement(G.b,{initialValues:{user:l.values.user?l.values.user:{first_name:"",last_name:"",email:"",phone:"",customer:!0},job:l.values.job.additional_info?!l.values.job.additional_info:{additional_info:""}},validationSchema:Y.c().shape({user:Y.c().shape({first_name:Y.e().min(3,"Must be at least 3 characters").max(255).required("Required"),last_name:Y.e().min(3,"Must be at least 3 characters").max(255).required("Required"),email:Y.e().email("Invalid email").required("Required"),phone:Y.e().matches(/^(\d{3})(\d{3})(\d{4})$/,"Invalid phone number").required("Required")})}),onSubmit:function(){var e=Object(V.a)(L.a.mark((function e(a,t){var i,s,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.setErrors,s=t.setStatus,c=t.setSubmitting;try{r(Object(n.a)(Object(n.a)({},l),{},{values:Object(n.a)(Object(n.a)({},l.values),{},{user:Object(n.a)(Object(n.a)({},a.user),{},{password:a.user.phone,password_confirmation:a.user.phone,customer:!0}),job:Object(n.a)(Object(n.a)({},l.values.job),{},{additional_info:a.job.additional_info})})})),window.scrollTo(0,0),o(),s({success:!0}),c(!1)}catch(m){i({submit:m.message}),s({success:!1}),c(!1)}case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},(function(e){var n=e.errors,o=e.handleBlur,r=e.handleChange,l=e.handleSubmit,u=(e.isSubmitting,e.setFieldValue,e.setFieldTouched,e.touched),d=e.values,b=e.resetForm;return i.a.createElement("form",Object.assign({onSubmit:l,className:Object(s.a)(m.root,a)},c),i.a.createElement(_.a,{variant:"h3",color:"textPrimary"},"Contact Information."),i.a.createElement(j.a,{mt:4,className:m.flexConatiner},i.a.createElement(j.a,{className:m.flexItem},i.a.createElement(K.a,{error:Object(G.c)(n,"user.first_name")&&Object(G.c)(u,"user.first_name"),fullWidth:!0,label:"First Name*",name:"user.first_name",onBlur:o,onChange:r,value:d.user.first_name,variant:"outlined"})),i.a.createElement(j.a,{className:m.flexItemSecond},i.a.createElement(K.a,{error:Object(G.c)(n,"user.last_name")&&Object(G.c)(u,"user.last_name"),fullWidth:!0,label:"Last Name*",name:"user.last_name",onBlur:o,onChange:r,value:d.user.last_name,variant:"outlined"}))),i.a.createElement(j.a,{mt:4,className:m.flexConatiner},i.a.createElement(j.a,{className:m.flexItem},i.a.createElement(K.a,{error:Object(G.c)(n,"user.email")&&Object(G.c)(u,"user.email"),fullWidth:!0,helperText:u.email&&n.email,label:"Email*",name:"user.email",onBlur:o,onChange:r,value:d.user.email,variant:"outlined"})),i.a.createElement(j.a,{className:m.flexItemSecond},i.a.createElement(K.a,{error:Object(G.c)(n,"user.phone")&&Object(G.c)(u,"user.phone"),fullWidth:!0,helperText:u.phone&&n.phone,label:"Phone*",name:"user.phone",type:"number",onBlur:o,onChange:r,value:d.user.phone,variant:"outlined"}))),i.a.createElement(j.a,{mt:4},i.a.createElement(K.a,{id:"additional_info",label:"Additional Comments/Requests",variant:"outlined",name:"job.additional_info",placeholder:"Please include information on heavy, oversized or fragile items, narrow stairways or halls, long walk ways, extra stops, or anything else that may affect the moving time.",onChange:r,value:d.job.additional_info,style:{width:"100%"},multiline:!0,rows:4})),i.a.createElement(j.a,{mt:6,display:"flex",alignItems:"center"},t&&i.a.createElement(k.a,{onClick:t,size:"large",variant:"outlined"},"Previous"),i.a.createElement(j.a,{flexGrow:1}),i.a.createElement(j.a,{style:{marginRight:"25px"}},i.a.createElement(k.a,{size:"small",onClick:function(){return b()},style:{textTransform:"none"}},i.a.createElement(ie.a,null),"Clear Form")),i.a.createElement(j.a,null,i.a.createElement(k.a,{color:"secondary",type:"submit",variant:"contained",size:"large"},"Next"))))}))},pe=[{label:"Moving Details",icon:M.a},{label:"Contact Information",icon:T.a},{label:"Review Details",icon:B.a}],ve=(Object(d.a)((function(e){return{horizontal:{margin:"0px 2em",padding:0},line:{borderColor:e.palette.divider,borderBottomStyle:"solid",borderBottomWidth:"1px"}}}))(b.a),Object(f.a)((function(e){return{root:{},active:{backgroundColor:e.palette.secondary.main,boxShadow:e.shadows[10]},completed:{backgroundColor:e.palette.secondary.main}}})));function ge(e){var a,t=e.active,n=e.completed,o=e.icon,l=ve(),c=pe[o-1].icon;return i.a.createElement(p.a,{className:Object(s.a)(l.root,(a={},Object(r.a)(a,l.active,t),Object(r.a)(a,l.completed,n),a))},i.a.createElement(c,{size:"20"}))}var je=Object(f.a)((function(e){var a;return{root:{backgroundImage:"linear-gradient(to bottom, #663ab787, #663ab78c), url(https://images.unsplash.com/photo-1570129042283-dbebdfd894de?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2100&q=80)",backgroundSize:"cover",minHeight:"93.7vh"},paddingMobile:(a={},Object(r.a)(a,e.breakpoints.up("sm"),{padding:e.spacing(1,8)}),Object(r.a)(a,"padding","1px 4px 32px"),a),avatar:{backgroundColor:v.a.red[600]},itemsContainer:{flexDirection:"column",alignContent:"center",maxWidth:"747px",margin:"auto",padding:"2em 0em"},item:{width:"100%",maxWidth:"100%"},alert:{fontSize:"16px"},borderRadius:{borderRadius:e.spacing(1),marginBottom:24},stepper:Object(r.a)({},e.breakpoints.down("sm"),{padding:"24px 0px"})}}));a.default=function(){Object(C.a)();var e=je(),a=Object(l.useState)(0),t=Object(o.a)(a,2),r=t[0],s=t[1],m=Object(l.useState)(!1),d=Object(o.a)(m,2),b=d[0],f=d[1],v=Object(l.useState)(10),M=Object(o.a)(v,2),T=(M[0],M[1],Object(l.useState)({values:{},touched:{},isMovingDetailsValid:!1,isCustomerDetailsValid:!1,errors:{}})),B=Object(o.a)(T,2),D=B[0],F=B[1];i.a.useEffect((function(){F((function(e){return Object(n.a)({},e)}))}),[D.values]);var H=function(){s((function(e){return e+1}))},R=function(){s((function(e){return e-1}))};return console.log(D.values),i.a.createElement(z.a,{className:e.root,title:"Book"},i.a.createElement(g.a,{maxWidth:"md",className:e.paddingMobile},i.a.createElement(j.a,{mb:3}),b?i.a.createElement(S.a,null,i.a.createElement(w.a,null,i.a.createElement(j.a,{maxWidth:450,mx:"auto"},i.a.createElement(j.a,{display:"flex",justifyContent:"center"},i.a.createElement(p.a,{className:e.avatar},i.a.createElement(I.a,null))),i.a.createElement(j.a,{mt:2},i.a.createElement(_.a,{variant:"h3",color:"textPrimary",align:"center"},"You are all done!")),i.a.createElement(j.a,{mt:2},i.a.createElement(_.a,{variant:"subtitle1",color:"textSecondary",align:"center"},i.a.createElement(N.a,{severity:"info",className:e.alert},"An email has been sent to you with Login and Password to view your Moving Details!"))),i.a.createElement(j.a,{mt:2,display:"flex",justifyContent:"center"},i.a.createElement(k.a,{variant:"contained",color:"secondary",component:c.a,to:"/login"},"View your Moving Details"))))):i.a.createElement(E.a,{className:e.borderRadius},i.a.createElement(h.a,{container:!0,className:e.itemsContainer},i.a.createElement(h.a,{item:!0,xs:12,md:3,className:e.item},i.a.createElement(y.a,{activeStep:r,orientation:"horizontal",component:j.a,bgcolor:"transparent",className:e.stepper},pe.map((function(e){return i.a.createElement(x.a,{key:e.label},i.a.createElement(O.a,{StepIconComponent:ge},e.label))})))),i.a.createElement(h.a,{item:!0,xs:12,md:9,className:e.item},i.a.createElement(j.a,{p:3},0===r&&i.a.createElement(de,{onNext:H,setFormState:F,formState:D}),1===r&&i.a.createElement(fe,{onBack:R,onNext:H,setFormState:F,formState:D}),2===r&&i.a.createElement(P,{origin:D.values.origin.address,destination:D.values.destination.address,movingSize:D.values.job.job_size,typeFrom:D.values.origin.floor,typeTo:D.values.destination.floor,jobType:D.values.job.job_type,onBack:R,onSubmit:function(){f(!0);var e=D.values.user;u.a.post("api/v1/users",{user:e},{withCredentials:!0}).then((function(e){var a=e.data.user.id,t=D.values.job;t.user_id=a,u.a.post("api/v1/jobs",{job:t}).then((function(e){var a=e.data.job.id,t=D.values.origin,n=D.values.destination;t.job_id=a,n.job_id=a,u.a.post("api/v1/jobs/".concat(a,"/origins"),{origin:t}),u.a.post("api/v1/jobs/".concat(a,"/destinations"),{destination:n})})).catch((function(e){return console.log("api errors:",e)}))})).catch((function(e){return console.log("api errors:",e)}))},setFormState:F,formState:D})))))))}}}]);
//# sourceMappingURL=28.99cd46f3.chunk.js.map