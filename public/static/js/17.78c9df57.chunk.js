(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{405:function(e,t,a){"use strict";var n=a(5),c=a(10),r=a(0),s=a(423),i=a.n(s),o=a(303),l=a(1),j=["children"],d=Object(r.forwardRef)((function(e,t){var a=e.children,r=Object(c.a)(e,j);return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(l.jsx)(o.a,{ref:t,sx:{overflowX:"auto"},children:a}):Object(l.jsx)(i.a,Object(n.a)(Object(n.a)({ref:t},r),{},{children:a}))}));t.a=d},433:function(e,t,a){"use strict";var n=a(17),c=a.n(n),r=a(1),s=c()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus");t.a=s},434:function(e,t,a){"use strict";var n=a(17),c=a.n(n),r=a(1),s=c()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search");t.a=s},974:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(303),r=a(365),s=a(55),i=a(29),o=a(343),l=a(66),j=a(432),d=a(412),b=a(347),u=a(433),h=a(87),O=a(1);var x=function(){return Object(O.jsxs)(o.a,{container:!0,justifyContent:"space-between",spacing:3,children:[Object(O.jsxs)(o.a,{item:!0,children:[Object(O.jsx)(l.a,{color:"textPrimary",variant:"h5",children:"Customer list"}),Object(O.jsxs)(j.a,{"aria-label":"breadcrumb",separator:Object(O.jsx)(h.a,{fontSize:"small"}),style:{marginTop:8},children:[Object(O.jsx)(d.a,{color:"textPrimary",component:i.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(O.jsx)(l.a,{color:"textSecondary",variant:"subtitle2",children:"Customers"})]})]}),Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(c.a,{m:-1,children:Object(O.jsx)(b.a,{color:"primary",disabled:!0,disableElevation:!0,startIcon:Object(O.jsx)(u.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"New Appointment"})})})]})},m=a(5),f=a(39),p=a(10),v=a(3),g=a(405),w=a(219),y=a(7),P=a(368),C=a(344),S=a(382),k=a(362),z=a(130),N=a(371),A=a(372),I=a(369),R=a(373),_=a(387),E=a(964),L=a(300),M=a(477),B=a(167),H=a(434),q=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:null},D=["className","customers","events"];var F=Object(w.a)((function(e){return{root:{},queryField:{width:500},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:11,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.level2},bulkAction:{marginLeft:e.spacing(2)},avatar:{height:42,width:42,marginRight:e.spacing(1)},badge:{"& span":{right:"-12px"}},hoverIcon:{color:e.palette.text.secondary,"&:hover":{color:e.palette.primary.main}}}})),J=Object(y.a)((function(e){return{head:{backgroundColor:e.palette.background.level2,color:e.palette.text.secondary},body:{fontSize:14}}}))(P.a);function T(e){var t=e.className,a=e.customers,r=e.events,s=Object(p.a)(e,D),o=F(),j=Object(n.useState)(0),b=Object(f.a)(j,2),u=b[0],h=b[1],x=Object(n.useState)(10),w=Object(f.a)(x,2),y=w[0],T=w[1],W=Object(n.useState)(""),G=Object(f.a)(W,2),V=G[0],X=G[1],Y=function(e,t){return e.filter((function(e){var a=!0;if(t){var n=!1;["email","first_name","last_name"].forEach((function(a){null!=e[a]&&e[a].toLowerCase().includes(t.toLowerCase())&&(n=!0)})),n||(a=!1)}return a}))}(a,V),$=function(e,t,a){return e.slice(t*a,t*a+a)}(Y,u,y),K=function(e){var t=0;return r.map((function(a){return a.user.id===e.id&&(t+=1),null})),t};return Object(O.jsxs)(C.a,Object(m.a)(Object(m.a)({className:Object(v.a)(o.root,t)},s),{},{children:[Object(O.jsxs)(c.a,{p:2,minHeight:56,display:"flex",alignItems:"center",children:[Object(O.jsx)(S.a,{className:o.queryField,InputProps:{startAdornment:Object(O.jsx)(k.a,{position:"start",children:Object(O.jsx)(z.a,{fontSize:"small",color:"action",children:Object(O.jsx)(H.a,{})})})},onChange:function(e){e.persist(),X(e.target.value)},placeholder:"Search by Name or Email",value:V,size:"small",variant:"outlined"}),Object(O.jsx)(c.a,{flexGrow:1})]}),Object(O.jsx)(g.a,{children:Object(O.jsx)(c.a,{minWidth:1e3,children:Object(O.jsxs)(N.a,{children:[Object(O.jsx)(A.a,{children:Object(O.jsxs)(I.a,{children:[Object(O.jsx)(J,{children:"Name"}),Object(O.jsx)(J,{children:"Phone"}),Object(O.jsx)(J,{align:"right",children:"Actions"})]})}),Object(O.jsx)(R.a,{children:$.map((function(e){return Object(O.jsxs)(I.a,{hover:!0,children:[Object(O.jsx)(P.a,{children:Object(O.jsxs)(c.a,{display:"flex",alignItems:"center",children:[Object(O.jsx)(_.a,{className:o.avatar,src:e.avatar}),Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{color:"inherit",component:i.b,to:"/dashboard/customers/".concat(e.id),variant:"subtitle2",children:1===K(e)?e.first_name+" "+e.last_name:Object(O.jsx)(E.a,{badgeContent:K(e),color:"secondary",className:o.badge,children:e.first_name+" "+e.last_name})}),Object(O.jsx)(l.a,{color:"textSecondary",variant:"body2",children:e.email})]})]})}),Object(O.jsx)(P.a,{children:q(e.phone)}),Object(O.jsx)(P.a,{align:"right",children:Object(O.jsx)(L.a,{classes:{root:o.hoverIcon},component:i.b,to:"/dashboard/customers/".concat(e.id),children:Object(O.jsx)(B.a,{fontSize:"small"})})})]},e.id)}))})]})})}),Object(O.jsx)(M.a,{component:"div",count:Y.length,onPageChange:function(e,t){h(t)},onRowsPerPageChange:function(e){T(e.target.value)},page:u,rowsPerPage:y,rowsPerPageOptions:[5,10,25]})]}))}T.defaultProps={customers:[]};var W=T,G=a(22),V=a(165),X=a(160);t.default=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.customers})),a=t.customers,i=t.errors,o=Object(G.c)((function(e){return e.calendar})).events;return Object(n.useEffect)((function(){e(Object(V.c)()),e(Object(X.f)()),e(Object(V.a)())}),[e]),Object(O.jsx)(s.a,{title:"Customer List",children:Object(O.jsx)(c.a,{sx:{backgroundColor:"background.default",minHeight:"100%",paddingY:8},children:Object(O.jsxs)(r.a,{maxWidth:!1,children:[Object(O.jsx)(x,{}),i&&Object(O.jsx)(c.a,{mt:3,children:Object(O.jsx)("p",{children:i})}),a&&Object(O.jsx)(c.a,{mt:3,children:Object(O.jsx)(W,{customers:a,errors:i,events:o})})]})})})}}}]);