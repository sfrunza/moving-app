(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{411:function(e,t,a){"use strict";var c=a(5),r=a(9),n=a(0),i=a(422),s=a.n(i),o=a(307),l=a(1),j=["children"],d=Object(n.forwardRef)((function(e,t){var a=e.children,n=Object(r.a)(e,j);return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?Object(l.jsx)(o.a,{ref:t,sx:{overflowX:"auto"},children:a}):Object(l.jsx)(s.a,Object(c.a)(Object(c.a)({ref:t},n),{},{children:a}))}));t.a=d},433:function(e,t,a){"use strict";var c=a(15),r=a.n(c),n=a(1),i=r()(Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus");t.a=i},434:function(e,t,a){"use strict";var c=a(15),r=a.n(c),n=a(1),i=r()(Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search");t.a=i},871:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(307),n=a(371),i=a(48),s=a(27),o=a(346),l=a(62),j=a(390),d=a(383),b=a(352),h=a(433),u=a(64),O=a(1);var x=function(){return Object(O.jsxs)(o.a,{container:!0,justifyContent:"space-between",spacing:3,children:[Object(O.jsxs)(o.a,{item:!0,children:[Object(O.jsx)(l.a,{color:"textPrimary",variant:"h5",children:"Customer list"}),Object(O.jsxs)(j.a,{"aria-label":"breadcrumb",separator:Object(O.jsx)(u.a,{fontSize:"small"}),style:{marginTop:8},children:[Object(O.jsx)(d.a,{color:"textPrimary",component:s.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(O.jsx)(l.a,{color:"textSecondary",variant:"subtitle2",children:"Customers"})]})]}),Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(r.a,{m:-1,children:Object(O.jsx)(b.a,{color:"primary",disabled:!0,disableElevation:!0,startIcon:Object(O.jsx)(h.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"New Appointment"})})})]})},m=a(5),g=a(36),p=a(9),f=a(3),v=a(411),w=a(224),y=a(7),P=a(375),C=a(347),S=a(389),k=a(368),z=a(135),A=a(378),N=a(379),I=a(376),R=a(380),_=a(395),E=a(861),L=a(303),M=a(499),B=a(120),H=a(434),q=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:null},D=["className","customers"];var F=Object(w.a)((function(e){return{root:{},queryField:{width:500},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:11,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.level2},bulkAction:{marginLeft:e.spacing(2)},avatar:{height:42,width:42,marginRight:e.spacing(1)},badge:{"& span":{right:"-12px"}},hoverIcon:{color:e.palette.text.secondary,"&:hover":{color:e.palette.primary.main}}}})),J=Object(y.a)((function(e){return{head:{backgroundColor:e.palette.background.level2,color:e.palette.text.secondary},body:{fontSize:14}}}))(P.a);function T(e){var t=e.className,a=e.customers,n=Object(p.a)(e,D),i=F(),o=Object(c.useState)(0),j=Object(g.a)(o,2),b=j[0],h=j[1],u=Object(c.useState)(10),x=Object(g.a)(u,2),w=x[0],y=x[1],T=Object(c.useState)(""),W=Object(g.a)(T,2),G=W[0],V=W[1],X=function(e,t){return e.filter((function(e){var a=!0;if(t){var c=!1;["email","first_name","last_name"].forEach((function(a){null!=e[a]&&e[a].toLowerCase().includes(t.toLowerCase())&&(c=!0)})),c||(a=!1)}return a}))}(a,G),Y=function(e,t,a){return e.slice(t*a,t*a+a)}(X,b,w);return Object(O.jsxs)(C.a,Object(m.a)(Object(m.a)({className:Object(f.a)(i.root,t)},n),{},{children:[Object(O.jsxs)(r.a,{p:2,minHeight:56,display:"flex",alignItems:"center",children:[Object(O.jsx)(S.a,{className:i.queryField,InputProps:{startAdornment:Object(O.jsx)(k.a,{position:"start",children:Object(O.jsx)(z.a,{fontSize:"small",color:"action",children:Object(O.jsx)(H.a,{})})})},onChange:function(e){e.persist(),V(e.target.value)},placeholder:"Search by Name or Email",value:G,size:"small",variant:"outlined"}),Object(O.jsx)(r.a,{flexGrow:1})]}),Object(O.jsx)(v.a,{children:Object(O.jsx)(r.a,{minWidth:650,children:Object(O.jsxs)(A.a,{children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(I.a,{children:[Object(O.jsx)(J,{children:"Name"}),Object(O.jsx)(J,{children:"Phone"}),Object(O.jsx)(J,{align:"right",children:"Actions"})]})}),Object(O.jsx)(R.a,{children:Y.map((function(e){return Object(O.jsxs)(I.a,{hover:!0,style:{verticalAlign:"inherit"},children:[Object(O.jsx)(P.a,{children:Object(O.jsxs)(r.a,{display:"flex",alignItems:"center",children:[Object(O.jsx)(_.a,{className:i.avatar,src:e.avatar}),Object(O.jsxs)("div",{children:[Object(O.jsx)(d.a,{color:"inherit",component:s.b,to:"/dashboard/customers/".concat(e.id),variant:"subtitle2",children:e.jobs.length<2?e.first_name+" "+e.last_name:Object(O.jsx)(E.a,{badgeContent:e.jobs.length,color:"secondary",className:i.badge,children:e.first_name+" "+e.last_name})}),Object(O.jsx)(l.a,{color:"textSecondary",variant:"body2",children:e.email})]})]})}),Object(O.jsx)(P.a,{children:q(e.phone)}),Object(O.jsx)(P.a,{align:"right",children:Object(O.jsx)(L.a,{classes:{root:i.hoverIcon},component:s.b,to:"/dashboard/customers/".concat(e.id),children:Object(O.jsx)(B.a,{fontSize:"small"})})})]},e.id)}))})]})})}),Object(O.jsx)(M.a,{component:"div",count:X.length,onPageChange:function(e,t){h(t)},onRowsPerPageChange:function(e){y(e.target.value)},page:b,rowsPerPage:w,rowsPerPageOptions:[5,10,25]})]}))}T.defaultProps={customers:[]};var W=T,G=a(22),V=a(172);t.default=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.customers})),a=t.customers,s=t.errors;return Object(c.useEffect)((function(){e(Object(V.c)()),e(Object(V.a)())}),[e]),Object(O.jsx)(i.a,{title:"Customer List",children:Object(O.jsx)(r.a,{sx:{backgroundColor:"background.default",minHeight:"100%",paddingY:8},children:Object(O.jsxs)(n.a,{maxWidth:!1,children:[Object(O.jsx)(x,{}),s&&Object(O.jsx)(r.a,{mt:3,children:Object(O.jsx)("p",{children:s})}),a&&Object(O.jsx)(r.a,{mt:3,children:Object(O.jsx)(W,{customers:a,errors:s})})]})})})}}}]);