(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{406:function(e,t,a){"use strict";var n=a(5),o=a(14),r=a(10),i=(a(0),a(3)),c=a(21),s=a(219),l=a(1),d=["className","color","children"],j=Object(s.a)((function(e){return{root:{fontWeight:600,letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),borderRadius:4},primary:{color:e.palette.primary.main,backgroundColor:Object(c.a)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(c.a)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(c.a)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(c.a)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(c.a)(e.palette.warning.main,.08)}}}));function b(e){var t=e.className,a=e.color,c=e.children,s=Object(r.a)(e,d),b=j();return Object(l.jsx)("span",Object(n.a)(Object(n.a)({className:Object(i.a)(b.root,Object(o.a)({},b[a],a),t)},s),{},{children:c}))}b.defaultProps={className:"",color:"secondary"},t.a=b},413:function(e,t,a){"use strict";a(0);var n=a(406),o=a(1);t.a=function(e){var t={Completed:{text:"Completed",color:"success"},Canceled:{text:"Canceled",color:"error"},"Needs Attention":{text:"Needs Attention",color:"warning"},Confirmed:{text:"Confirmed",color:"primary"}}[e.status],a=t.text,r=t.color;return Object(o.jsx)(n.a,{color:r,children:a})}},478:function(e,t,a){"use strict";var n=a(17),o=a.n(n),r=a(1),i=o()(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Users");t.a=i},479:function(e,t,a){"use strict";var n=a(17),o=a.n(n),r=a(1),i=o()(Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(r.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),Object(r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"CurrencyDollar");t.a=i},973:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(301),r=a(303),i=a(365),c=a(343),s=a(364),l=a(66),d=a(55),j=a(29),b=a(432),u=a(412),m=a(347),h=a(87),x=a(168),p=a(1);var O=function(e){var t=e.job;return Object(p.jsxs)(c.a,{container:!0,justifyContent:"space-between",spacing:3,children:[Object(p.jsxs)(c.a,{item:!0,children:[Object(p.jsxs)(l.a,{color:"textPrimary",variant:"h5",children:["Request ID: ",t.id]}),Object(p.jsxs)(b.a,{"aria-label":"breadcrumb",separator:Object(p.jsx)(h.a,{fontSize:"small"}),style:{marginTop:8},children:[Object(p.jsx)(u.a,{color:"textPrimary",component:j.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(p.jsx)(u.a,{color:"textPrimary",component:j.b,to:"/dashboard/jobs",variant:"subtitle2",children:"Jobs"}),Object(p.jsx)(l.a,{color:"textSecondary",variant:"subtitle2",children:t.id})]})]}),Object(p.jsx)(c.a,{item:!0,children:Object(p.jsx)(r.a,{m:-1,children:Object(p.jsx)(m.a,{color:"primary",disableElevation:!0,startIcon:Object(p.jsx)(x.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"Edit"})})})]})},f=a(12),y=a.n(f),g=a(28),v=a(39),w=a(10),C=a(5),_=a(3),T=a(158),N=a(344),S=a(375),I=a(345),M=a(371),z=a(373),D=a(369),k=a(368),W=a(387),A=a(382),B=a(353),E=a(366),P=a(300),R=a(355),H=a(115),L=a(116),Y=a(90),q=a(413),F=a(22),J=a(160),U=a(62),V=a(221),G=a(360),K=a(380),$=a(979),Q=a(363),Z=a(361),X=a(219),ee=a(188),te=a(479),ae=a(478),ne=Object(X.a)((function(e){return{label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"},buttonsContainer:{marginTop:e.spacing(5),marginBottom:e.spacing(2),justifyContent:"space-between"}}})),oe=function(e){var t=e.setStatus,a=e.handleStatusUpdate,n=e.handleClose,o=e.users,r=e.init,i=ne(),s=[];o.map((function(e){var t=e.first_name+" "+e.last_name;return s.push(t),null}));var l=Object(U.b)({initialValues:r,validateOnMount:!0,enableReinitialize:!1,validate:function(e){return function(e){var t={};return(""===e.job_duration||""===e.job_duration)&&(t.job_duration="Required"),""===e.total_amount&&(t.total_amount="Required"),e.crew.length<2&&(t.crew="Min 2 movers"),t}(e)},onSubmit:function(e){t("Completed"),a(e),n()}});return Object(p.jsx)(V.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsxs)("form",{onSubmit:l.handleSubmit,children:[Object(p.jsxs)(c.a,{container:!0,spacing:2,children:[Object(p.jsxs)(c.a,{item:!0,xs:6,md:6,children:[Object(p.jsxs)("label",{htmlFor:"job_duration",className:i.label,children:[Object(p.jsx)(ee.a,{className:i.icon}),"Job Duration"]}),Object(p.jsx)(A.a,{fullWidth:!0,id:"job_duration",name:"job_duration",variant:"outlined",size:"small",type:"number",placeholder:"Duration",inputProps:{maxLength:5},value:l.values.job_duration||"",onChange:function(e){l.handleChange(e)},error:l.touched.job_duration&&Boolean(l.errors.job_duration),helperText:l.touched.job_duration&&l.errors.job_duration})]}),Object(p.jsxs)(c.a,{item:!0,xs:6,md:6,children:[Object(p.jsxs)("label",{htmlFor:"total_amount",className:i.label,children:[Object(p.jsx)(te.a,{className:i.icon}),"Total Amount"]}),Object(p.jsx)(A.a,{fullWidth:!0,id:"total_amount",name:"total_amount",variant:"outlined",size:"small",type:"number",placeholder:"Amount",inputProps:{maxLength:6,inputMode:"numeric"},value:l.values.total_amount||"",onChange:function(e){l.handleChange(e)},error:l.touched.total_amount&&Boolean(l.errors.total_amount),helperText:l.touched.total_amount&&l.errors.total_amount})]}),Object(p.jsxs)(c.a,{item:!0,xs:12,children:[Object(p.jsxs)("label",{htmlFor:"crew",className:i.label,children:[Object(p.jsx)(ae.a,{className:i.icon}),"Crew"]}),Object(p.jsxs)(G.a,{variant:"outlined",size:"small",placeholder:"Select",fullWidth:!0,error:l.touched.crew&&Boolean(l.errors.crew),children:[Object(p.jsx)(K.a,{id:"crew",variant:"outlined",placeholder:"Select",name:"crew",size:"small",multiple:!0,renderValue:function(e){return Object(p.jsx)("div",{className:i.chips,children:e.map((function(e){return Object(p.jsx)($.a,{label:e,className:i.chip},e)}))})},value:l.values.crew,onChange:l.handleChange,error:l.touched.crew&&Boolean(l.errors.crew),children:s.map((function(e){return Object(p.jsx)(Q.a,{value:e,children:e},e)}))}),l.touched.crew&&Boolean(l.errors.crew)?Object(p.jsx)(Z.a,{children:l.errors.crew}):null]})]})]}),Object(p.jsx)(c.a,{container:!0,spacing:2,classes:{root:i.buttonsContainer},children:Object(p.jsx)(c.a,{item:!0,xs:12,children:Object(p.jsx)(m.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",disableElevation:!0,children:"Save and Update"})})})]})})},re=a(171),ie=["user","job","className","users","init"],ce=Object(o.a)((function(e){return{root:{},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},name:{fontWeight:"bold",marginBottom:e.spacing(2),"&:hover":{textDecoration:"none"}},infoField:{display:"flex",flexDirection:"column",alignItems:"center"},button:{color:e.palette.text.secondary,"&:hover":{color:e.palette.primary.main}},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.text.secondary}}})),se=["Needs Attention","Confirmed","Canceled","Completed"];function le(e){return Object(p.jsx)(T.a,Object(C.a)({},e))}var de=function(e){var t=e.user,a=e.job,o=e.className,i=e.users,c=e.init,d=Object(w.a)(e,ie),b=ce(),u=Object(n.useState)(a.job_status),h=Object(v.a)(u,2),x=h[0],O=h[1],f=Object(H.b)().enqueueSnackbar,T=Object(F.b)(),U=Object(n.useState)(!1),V=Object(v.a)(U,2),G=V[0],K=V[1],$=function(){K(!1)},Q=function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(Object(J.i)(a.id,Object(C.a)(Object(C.a)({},t),{},{crew:void 0===t.crew?"{}":"{".concat(t.crew,"}")})));case 3:f("Status Changed",{variant:"success",anchorOrigin:{horizontal:"right",vertical:"top"}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(N.a,Object(C.a)(Object(C.a)({},d),{},{className:Object(_.a)(b.root,o),children:[Object(p.jsx)(S.a,{style:{textAlign:"center"},title:Object(p.jsx)(q.a,{status:a.job_status})}),Object(p.jsx)(s.a,{}),Object(p.jsxs)(I.a,{className:b.content,children:[Object(p.jsx)(M.a,{children:Object(p.jsx)(z.a,{style:{display:"flex",flexDirection:"column"},children:Object(p.jsx)(D.a,{children:Object(p.jsxs)(k.a,{className:b.infoField,children:[Object(p.jsx)(W.a,{style:{height:"60px",width:"60px",marginBottom:8}}),Object(p.jsxs)(l.a,{component:j.b,color:"textPrimary",to:"/dashboard/customers/".concat(t.id),className:b.name,children:[t.first_name," ",t.last_name]}),Object(p.jsx)(m.a,{color:"default",component:"a",href:"tel:".concat(t.phone),className:b.button,fullWidth:!0,startIcon:Object(p.jsx)(L.a,{}),children:t.phone}),t.add_phone?Object(p.jsx)(m.a,{color:"default",component:"a",href:"tel:".concat(t.add_phone),className:b.button,fullWidth:!0,startIcon:Object(p.jsx)(L.a,{}),children:t.add_phone}):null,Object(p.jsx)(m.a,{color:"default",component:"a",href:"mailto:".concat(t.email),className:b.button,fullWidth:!0,startIcon:Object(p.jsx)(Y.a,{}),children:t.email})]})})})}),Object(p.jsxs)(r.a,{justifyContent:"space-between",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100px",children:[Object(p.jsx)(l.a,{variant:"caption",children:"Change Status"}),Object(p.jsx)(A.a,{name:"option",onChange:function(e){e.preventDefault(),e.currentTarget.blur(),"Completed"===e.target.value?K(!0):O(e.target.value)},select:!0,SelectProps:{native:!0},value:x,variant:"outlined",size:"small",children:se.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))}),Object(p.jsx)(m.a,{variant:"contained",size:"small",disableElevation:!0,color:"primary",onClick:function(){return Q({job_status:x})},disabled:a.job_status===x,children:"Update"})]})]}),Object(p.jsxs)(B.a,{open:G,onClose:$,PaperComponent:le,"aria-labelledby":"draggable-dialog-title",children:[Object(p.jsx)(E.a,{id:"form-dialog-title",classes:{root:b.dialogTitle},children:Object(p.jsx)(P.a,{"aria-label":"close",className:b.closeButton,onClick:function(){return $()},children:Object(p.jsx)(re.a,{})})}),Object(p.jsx)(R.a,{children:Object(p.jsx)(oe,{onClose:$,handleStatusUpdate:Q,setStatus:O,handleClose:$,init:c,users:i})})]})]}))},je=a(56),be=a.n(je),ue=a(14),me=a(189),he=a(847),xe=a(523),pe=["job","className","images","setImages","handleDeleteImage","disableShadow","disableHeader","setJob","removeAddPickup"],Oe=Object(o.a)((function(e){return{root:{boxShadow:"none"},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},headerDistance:{textAlign:"center",paddingBottom:e.spacing(1)},addInfoContainer:{display:"flex",flexDirection:"column",padding:"0px 15px"},addInfoTitle:{fontSize:"14px",color:e.palette.secondary.main,textTransform:"uppercase",fontWeight:600},addInfoSubTitle:{backgroundColor:e.palette.background.level2,padding:"15px",wordWrap:"break-word",display:"flex",flexDirection:"column"},address:{textTransform:"uppercase",fontSize:14},paragraph:{fontStyle:"italic",fontSize:12},margTop:{marginTop:6},overMap:Object(ue.a)({display:"flex",width:"100%",justifyContent:"space-between",position:"relative",bottom:"6rem",left:"20%"},e.breakpoints.down("sm"),{left:"10%"}),overMapImg:{transition:"all .2s ease-in-out"},from:{}}}));var fe=function(e){var t=e.job,a=e.className,o=(e.images,e.setImages,e.handleDeleteImage,e.disableShadow),i=(e.disableHeader,e.setJob,e.removeAddPickup,Object(w.a)(e,pe)),c=Oe(),d=Object(me.a)({googleMapsApiKey:"AIzaSyADEDKabHN5FBcOroOU1W7BzUam0Az8gGQ"}).isLoaded,j=Object(n.useState)(null),b=Object(v.a)(j,2),u=b[0],m=b[1],h=window.google=window.google?window.google:{},x=Object(n.useState)(null),O=Object(v.a)(x,2),f=O[0],y=O[1];Object(n.useEffect)((function(){t.id&&y(g())}),[t.id]);var g=function(){var e=t.origin.address+","+t.origin.city+","+t.origin.zip,a="";a=""===t.destination.address?t.origin.address+","+t.origin.city+","+t.origin.zip:t.destination.address+","+t.destination.city+","+t.destination.zip;var n=[];n=t.origin.add_address?[{location:t.origin.add_address}]:null;var o=Object(xe.compose)(Object(xe.withProps)({loadingElement:Object(p.jsx)("div",{style:{height:"100%"}}),containerElement:Object(p.jsx)("div",{style:{height:"30vh",width:"97%",margin:"auto"}}),mapElement:Object(p.jsx)("div",{style:{height:"100%"}})}),he.withGoogleMap,Object(xe.lifecycle)({componentDidMount:function(){var t=this;(new h.maps.DirectionsService).route({origin:e,destination:a,waypoints:n,travelMode:h.maps.TravelMode.DRIVING},(function(e,a){a===h.maps.DirectionsStatus.OK&&(t.setState({directions:e}),m(e.routes[0].legs[0].distance.text))}))}}))((function(e){return Object(p.jsx)(he.GoogleMap,{defaultZoom:12,defaultCenter:new h.maps.LatLng(42.36,-71.06),defaultOptions:{mapTypeControl:!1,streetViewControl:!1,panControl:!1,scaleControl:!1,fullscreenControl:!1,scrollwheel:!1,styles:[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c4e5ff"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]},children:e.directions&&Object(p.jsx)(he.DirectionsRenderer,{directions:e.directions})})}));return Object(p.jsx)(o,{google:h})};return console.log(t.estimated_quote[0][0]),Object(p.jsxs)(N.a,Object(C.a)(Object(C.a)({},i),{},{className:Object(_.a)(o?c.root:{},a),children:[Object(p.jsx)(S.a,{title:"Move Overview"}),d&&f,Object(p.jsxs)(I.a,{className:c.content,children:[Object(p.jsx)(r.a,{className:c.headerDistance,children:u}),Object(p.jsx)(s.a,{}),Object(p.jsx)(M.a,{children:Object(p.jsxs)(z.a,{children:[Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Move date:"}),Object(p.jsx)(k.a,{style:{fontWeight:700},children:be()(t.pick_up_date).format("dddd, MMMM DD, YYYY")})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Arrival time:"}),Object(p.jsx)(k.a,{style:{fontWeight:700},children:be()(t.pick_up_date).format("h A")})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:t.destination.address?"Moving from:":"Address:"}),Object(p.jsxs)(k.a,{style:{display:"flex",flexDirection:"column"},children:[t.origin.address,",",Object(p.jsxs)(l.a,{style:{fontWeight:600},variant:"body2",children:[t.origin.city,", ",t.origin.state,", ",t.origin.zip]}),t.origin.apt_number&&Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.origin.apt_number]}),Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["*",t.origin.floor?t.origin.floor:t.destination.floor]})]})]}),t.destination.address?Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Moving to:"}),Object(p.jsxs)(k.a,{style:{display:"flex",flexDirection:"column"},children:[t.destination.address,",",Object(p.jsxs)(l.a,{style:{fontWeight:600},variant:"body2",children:[t.destination.city,", ",t.destination.state,",",t.destination.zip]}),t.destination.apt_number&&Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.destination.apt_number]}),Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["*",t.destination.floor]})]})]}):null,Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(s.a,{})}),Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(s.a,{})})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Service:"}),Object(p.jsx)(k.a,{children:t.job_type})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Move size:"}),Object(p.jsx)(k.a,{style:{fontWeight:700},children:t.job_size})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(s.a,{})}),Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(s.a,{})})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Crew:"}),Object(p.jsxs)(k.a,{style:{fontWeight:700},children:[t.crew_size," movers"]})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Hourly rate:"}),Object(p.jsx)(k.a,{children:Object(p.jsxs)(l.a,{variant:"body1",color:"primary",style:{fontWeight:700},children:["$",t.job_rate,"/hr"]})})]}),"Completed"===t.job_status?Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Duration:"}),Object(p.jsxs)(k.a,{style:{color:"#FD7013",fontSize:"18px",fontWeight:700},children:[Object(p.jsx)("label",{children:t.job_duration||""})," hours"]})]}):Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Estimated time:"}),Object(p.jsx)(k.a,{children:Object(p.jsxs)(l.a,{variant:"body1",color:"secondary",style:{fontWeight:700},children:[t.estimated_time[0]," - ",t.estimated_time[1]," hours*"]})})]}),"Completed"===t.job_status?null:Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Travel time:"}),Object(p.jsx)(k.a,{children:Object(p.jsxs)("label",{children:[t.travel_time[0],"/",t.travel_time[1]," min* (from/to HQ)"]})})]}),"Completed"===t.job_status?Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Total:"}),Object(p.jsx)(k.a,{style:{fontWeight:600,fontSize:"18px"},children:Object(p.jsxs)("label",{children:["$",t.total_amount]})})]}):Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Estimated quote:"}),Object(p.jsx)(k.a,{style:{fontWeight:600,fontSize:"18px"},children:Object(p.jsxs)("label",{children:["$",t.estimated_quote[0]," - $",t.estimated_quote[1]," "]})})]}),"Completed"===t.job_status&&Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Crew:"}),Object(p.jsx)(k.a,{children:t.crew.map((function(e,a){return Object(p.jsxs)("label",{children:[e,a===t.crew.length-1?null:", "]},a)}))})]})]})}),Object(p.jsx)(s.a,{}),"Completed"===t.job_status?null:Object(p.jsxs)(r.a,{mt:2,className:c.addInfoContainer,children:[Object(p.jsxs)(l.a,{variant:"body2",className:c.paragraph,children:[Object(p.jsx)("span",{style:{color:"red",fontWeight:500,marginRight:"8px"},children:"NOTE:"}),Object(p.jsx)("span",{style:{fontWeight:700},children:"This quote is just an estimate and provided for your convinience only."}),"\xa0We give you a database average for generally similar moves. However, your final cost is based on hourly rate and actual time your move will take. Additional time may be required if your move involves long walks, narrow stares, furniture disassembly, bad weather conditions, etc."]}),Object(p.jsx)(l.a,{variant:"body2",className:c.paragraph,children:"* Total moving time consist of 2 hours minimum labour time plus fixed travel time."}),Object(p.jsx)(l.a,{variant:"body2",className:Object(_.a)(c.paragraph,c.margTop),children:"We accept cash, checks, credit cards. If you choose to pay with a credit cardor debit card, you will be charged a fee of 3% of the payment amount."})]}),Object(p.jsx)(r.a,{mt:4,className:c.addInfoContainer,children:Object(p.jsx)(r.a,{children:Object(p.jsx)(l.a,{className:c.addInfoTitle,children:"Additional Information:"})})}),Object(p.jsxs)(r.a,{className:c.addInfoContainer,children:[Object(p.jsx)(r.a,{mt:2,className:c.addInfoSubTitle,children:Object(p.jsx)(l.a,{variant:"body2",color:"textPrimary",children:t.additional_info})}),"Completed"===t.job_status?null:Object(p.jsx)(l.a,{variant:"body2",style:{fontSize:12},className:c.margTop,children:"Long distance moves are FLAT RATE and REQUIRED the list of all furniture and approximate amount of boxes."})]})]})]}))},ye=a(112),ge=a(218),ve=a(956),we=a.n(ve),Ce=a(406),_e=a(957),Te=a.n(_e),Ne=a(955),Se=a.n(Ne),Ie=a(165),Me=a(167),ze=["user","event","history"],De=Object(X.a)((function(e){return{root:{},actionIcon:{marginRight:e.spacing(1)},cardHeader:{textAlign:"center"},button:{display:"flex",width:"100%",justifyContent:"flex-start",color:e.palette.text.secondary},arrow:{marginLeft:"auto",color:e.palette.text.secondary},menuBox:{flexDirection:"column",width:"100%"},menuBoxActive:{backgroundColor:e.palette.background.level2},statusBox:{display:"flex",alignItems:"center",marginTop:"-5px","& span ":{fontSize:"10px",backgroundColor:"transparent"}},topInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"}}}));function ke(e){var t={Completed:{text:"Completed",color:"primary"},Canceled:{text:"Canceled",color:"error"},"Needs Attention":{text:"Needs Attention",color:"warning"},Confirmed:{text:"Confirmed",color:"success"}}[e],a=t.text,n=t.color;return Object(p.jsx)(Ce.a,{color:n,children:a})}var We=function(e){var t=e.user,a=e.event,o=e.history,i=Object(w.a)(e,ze),c=Object(F.b)(),d=De(),j=Object(n.useRef)(null),b=Object(n.useState)(!1),u=Object(v.a)(b,2),x=u[0],O=u[1],f=Object(F.c)((function(e){return e.customers})).customerJobs;return Object(n.useEffect)((function(){c(Object(Ie.b)(t.id))}),[c,t.id]),f?Object(p.jsxs)(N.a,Object(C.a)(Object(C.a)({className:Object(_.a)(d.root)},i),{},{children:[Object(p.jsx)(S.a,{title:"HELPFUL LINKS",className:d.cardHeader,titleTypographyProps:{variant:"caption"}}),Object(p.jsx)(s.a,{}),Object(p.jsx)(I.a,{children:Object(p.jsxs)(r.a,{display:"flex",flexDirection:"column",alignItems:"flex-start",children:[Object(p.jsxs)(m.a,{className:d.button,component:ye.a,onClick:function(){O(!0)},ref:j,children:[Object(p.jsx)(Se.a,{className:d.actionIcon}),"My Moves History (",Object(p.jsx)("span",{style:{fontWeight:600},children:f.length}),")",Object(p.jsx)(h.a,{className:Object(_.a)(d.actionIcon,d.arrow)})]}),Object(p.jsx)(ge.a,{onClose:function(){O(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,getContentAnchorEl:null,anchorEl:j.current,open:x,PaperProps:{style:{maxHeight:288},className:d.popover},children:f.map((function(e,t){var n,i;return Object(p.jsx)(Q.a,{open:x,className:e.id===a.id?d.menuBoxActive:null,onClick:function(t){e.id!==a.id?o.push("/dashboard/jobs/".concat(e.id)):t.preventDefault()},children:Object(p.jsxs)(r.a,{display:"flex",className:d.menuBox,children:[Object(p.jsxs)(r.a,{className:d.topInfo,children:[Object(p.jsx)(r.a,{children:Object(p.jsx)(l.a,{variant:"body2",children:be()(e.pick_up_date).format("MM/DD/YYYY")})}),Object(p.jsxs)(r.a,{className:d.topInfo,ml:1,children:[e.origin&&Object(p.jsx)(r.a,{children:Object(p.jsxs)(l.a,{variant:"body2",children:[e.origin.city,",",e.origin.state]})}),(null===(n=e.destination)||void 0===n?void 0:n.city)&&Object(p.jsx)(Me.a,{style:{width:14,margin:"0 8px"},className:Object(_.a)(d.actionIcon,d.arrow)}),(null===(i=e.destination)||void 0===i?void 0:i.city)&&Object(p.jsx)(r.a,{children:Object(p.jsxs)(l.a,{variant:"body2",children:[e.destination.city,",",e.destination.state]})})]})]}),Object(p.jsx)(r.a,{className:d.statusBox,children:Object(p.jsxs)(l.a,{children:[ke(e.job_status),e.job_duration?Object(p.jsxs)(l.a,{variant:"caption",style:{marginLeft:4},children:[e.job_duration,"hr"]}):null]})}),Object(p.jsx)(s.a,{})]})},t)}))}),Object(p.jsxs)(m.a,{className:d.button,children:[Object(p.jsx)(we.a,{className:d.actionIcon}),"Certificate of Insurance",Object(p.jsx)(h.a,{className:Object(_.a)(d.actionIcon,d.arrow)})]}),Object(p.jsxs)(m.a,{className:d.button,children:[Object(p.jsx)(Te.a,{className:d.actionIcon}),"Bill of Lading",Object(p.jsx)(h.a,{className:Object(_.a)(d.actionIcon,d.arrow)})]})]})})]})):null},Ae=a(162),Be=Object(o.a)((function(e){return{root:{},grid:{marginTop:e.spacing(2)}}}));t.default=function(e){var t=e.match,a=e.history,o=Be(),j=t.params.id,b=Object(F.c)((function(e){return e.calendar})).event,u=Object(F.c)((function(e){return e.employees})).users,m=Object(F.b)();if(Object(n.useEffect)((function(){return m(Object(J.e)(j)),m(Object(Ae.e)()),function(){m(Object(J.a)())}}),[m,j]),!b)return null;var h={job_duration:b.estimated_time[0],total_amount:b.estimated_quote[0],job_status:"Completed",crew:b.crew};return Object(p.jsx)(d.a,{className:o.root,title:"Job Details",children:Object(p.jsx)(r.a,{sx:{backgroundColor:"background.default",minHeight:"100%",paddingY:8},children:Object(p.jsxs)(i.a,{maxWidth:!1,children:[Object(p.jsx)(O,{job:b,handleDeleteJob:function(e){}}),Object(p.jsxs)(c.a,{className:o.grid,container:!0,spacing:2,children:[Object(p.jsx)(c.a,{item:!0,md:4,xl:3,xs:12,children:Object(p.jsxs)(c.a,{container:!0,spacing:2,children:[Object(p.jsx)(c.a,{item:!0,xs:12,children:Object(p.jsx)(de,{user:b.user,job:b,init:h,users:u})}),Object(p.jsx)(c.a,{item:!0,xs:12,children:Object(p.jsx)(We,{user:b.user,event:b,history:a})})]})}),Object(p.jsx)(c.a,{item:!0,md:8,xl:9,xs:12,children:Object(p.jsx)(fe,{job:b})}),Object(p.jsx)(c.a,{item:!0,md:3,xs:12}),Object(p.jsx)(s.a,{style:{marginTop:40,width:"100%"}}),Object(p.jsxs)(c.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(p.jsx)(r.a,{mt:5,style:{width:"100%",maxWidth:700,textAlign:"center"},children:Object(p.jsx)(r.a,{children:Object(p.jsxs)(l.a,{variant:"body1",children:["Status provided by InsightMoving. Last updated on"," ",be()(null===b||void 0===b?void 0:b.updated_at).format("MMMM Do YYYY, h:mm:ss a")]})})}),Object(p.jsx)(r.a,{style:{width:"100%",maxWidth:700,textAlign:"center",fontStyle:"italic"},children:Object(p.jsx)(r.a,{mt:2,pb:10,children:Object(p.jsxs)(l.a,{variant:"body2",color:"textSecondary",children:[Object(p.jsx)("span",{style:{color:"red",marginRight:5,fontWeight:600},children:"NOTICE:"}),"InsightMoving authorizes you to use our order status system for your convinience only. Any other use of the system and information is strictly prohibited."]})})})]})]})]})})})}}}]);