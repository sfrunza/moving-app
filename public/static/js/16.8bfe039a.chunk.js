(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{415:function(e,t,a){"use strict";a(0);var n=a(5),i=a(15),o=a(10),s=a(3),r=a(20),c=a(221),l=a(1),d=["className","color","children"],j=Object(c.a)((function(e){return{root:{fontWeight:600,letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),borderRadius:4},primary:{color:e.palette.primary.main,backgroundColor:Object(r.a)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(r.a)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(r.a)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(r.a)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(r.a)(e.palette.warning.main,.08)}}}));function b(e){var t=e.className,a=e.color,r=e.children,c=Object(o.a)(e,d),b=j();return Object(l.jsx)("span",Object(n.a)(Object(n.a)({className:Object(s.a)(b.root,Object(i.a)({},b[a],a),t)},c),{},{children:r}))}b.defaultProps={className:"",color:"secondary"};var u=b;t.a=function(e){var t={Completed:{text:"Completed",color:"success"},Canceled:{text:"Canceled",color:"error"},"Needs Attention":{text:"Needs Attention",color:"warning"},Confirmed:{text:"Confirmed",color:"primary"}}[e.status],a=t.text,n=t.color;return Object(l.jsx)(u,{color:n,children:a})}},434:function(e,t,a){"use strict";var n=a(14),i=a.n(n),o=a(1),s=i()(Object(o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(o.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),Object(o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"CurrencyDollar");t.a=s},480:function(e,t,a){"use strict";var n=a(14),i=a.n(n),o=a(1),s=i()(Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(o.jsx)("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),"Users");t.a=s},974:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(303),o=a(305),s=a(367),r=a(345),c=a(366),l=a(62),d=a(57),j=a(26),b=a(386),u=a(379),m=a(349),h=a(75),x=a(169),p=a(1);var O=function(e){var t=e.job;return Object(p.jsxs)(r.a,{container:!0,justifyContent:"space-between",spacing:3,children:[Object(p.jsxs)(r.a,{item:!0,children:[Object(p.jsxs)(l.a,{color:"textPrimary",variant:"h5",children:["Request ID: ",t.id]}),Object(p.jsxs)(b.a,{"aria-label":"breadcrumb",separator:Object(p.jsx)(h.a,{fontSize:"small"}),style:{marginTop:8},children:[Object(p.jsx)(u.a,{color:"textPrimary",component:j.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(p.jsx)(u.a,{color:"textPrimary",component:j.b,to:"/dashboard/jobs",variant:"subtitle2",children:"Jobs"}),Object(p.jsx)(l.a,{color:"textSecondary",variant:"subtitle2",children:t.id})]})]}),Object(p.jsx)(r.a,{item:!0,children:Object(p.jsx)(o.a,{m:-1,children:Object(p.jsx)(m.a,{color:"primary",disableElevation:!0,startIcon:Object(p.jsx)(x.a,{fontSize:"small"}),style:{margin:8},variant:"contained",children:"Edit"})})})]})},f=a(16),y=a.n(f),g=a(30),v=a(39),_=a(10),C=a(5),w=a(3),T=a(160),N=a(346),S=a(377),I=a(347),M=a(373),z=a(375),D=a(371),k=a(370),W=a(391),A=a(385),B=a(355),E=a(368),P=a(302),R=a(357),L=a(115),H=a(116),Y=a(91),q=a(415),F=a(22),J=a(163),U=a(63),V=a(223),$=a(362),G=a(383),K=a(980),Q=a(365),Z=a(363),X=a(221),ee=a(191),te=a(434),ae=a(480),ne=Object(X.a)((function(e){return{label:{fontWeight:600,marginBottom:e.spacing(1),display:"inline-block",color:e.palette.text.secondary},icon:{marginRight:e.spacing(1),top:6,width:20,position:"relative"},buttonsContainer:{marginTop:e.spacing(5),marginBottom:e.spacing(2),justifyContent:"space-between"}}})),ie=function(e){var t=e.setStatus,a=e.handleStatusUpdate,n=e.handleClose,i=e.users,o=e.init,s=ne(),c=[];i.map((function(e){return c.push(e),null}));var l=Object(U.b)({initialValues:o,validateOnMount:!0,enableReinitialize:!1,validate:function(e){return function(e){var t={};return(""===e.job_duration||""===e.job_duration)&&(t.job_duration="Required"),""===e.total_amount&&(t.total_amount="Required"),e.user_ids.length<2&&(t.user_ids="Min 2 movers"),t}(e)},onSubmit:function(e){t("Completed"),a(e),n()}});return Object(p.jsx)(V.a,{in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(p.jsxs)("form",{onSubmit:l.handleSubmit,children:[Object(p.jsxs)(r.a,{container:!0,spacing:2,children:[Object(p.jsxs)(r.a,{item:!0,xs:6,md:6,children:[Object(p.jsxs)("label",{htmlFor:"job_duration",className:s.label,children:[Object(p.jsx)(ee.a,{className:s.icon}),"Job Duration"]}),Object(p.jsx)(A.a,{fullWidth:!0,id:"job_duration",name:"job_duration",variant:"outlined",size:"small",type:"number",placeholder:"Duration",inputProps:{maxLength:5},value:l.values.job_duration||"",onChange:function(e){l.handleChange(e)},error:l.touched.job_duration&&Boolean(l.errors.job_duration),helperText:l.touched.job_duration&&l.errors.job_duration})]}),Object(p.jsxs)(r.a,{item:!0,xs:6,md:6,children:[Object(p.jsxs)("label",{htmlFor:"total_amount",className:s.label,children:[Object(p.jsx)(te.a,{className:s.icon}),"Total Amount"]}),Object(p.jsx)(A.a,{fullWidth:!0,id:"total_amount",name:"total_amount",variant:"outlined",size:"small",type:"number",placeholder:"Amount",inputProps:{maxLength:6,inputMode:"numeric"},value:l.values.total_amount||"",onChange:function(e){l.handleChange(e)},error:l.touched.total_amount&&Boolean(l.errors.total_amount),helperText:l.touched.total_amount&&l.errors.total_amount})]}),Object(p.jsxs)(r.a,{item:!0,xs:12,children:[Object(p.jsxs)("label",{htmlFor:"user_ids",className:s.label,children:[Object(p.jsx)(ae.a,{className:s.icon}),"Crew"]}),Object(p.jsxs)($.a,{variant:"outlined",size:"small",placeholder:"Select",fullWidth:!0,error:l.touched.user_ids&&Boolean(l.errors.user_ids),children:[Object(p.jsx)(G.a,{id:"user_ids",variant:"outlined",placeholder:"Select",name:"user_ids",size:"small",multiple:!0,renderValue:function(e){return Object(p.jsx)("div",{className:s.chips,children:e.map((function(e,t){return Object(p.jsx)(K.a,{label:e.first_name+" "+e.last_name,className:s.chip},t)}))})},value:l.values.user_ids,onChange:l.handleChange,error:l.touched.user_ids&&Boolean(l.errors.user_ids),children:c.map((function(e,t){return Object(p.jsx)(Q.a,{value:e,children:e.first_name+" "+e.last_name},t)}))}),l.touched.user_ids&&Boolean(l.errors.user_ids)?Object(p.jsx)(Z.a,{children:l.errors.user_ids}):null]})]})]}),Object(p.jsx)(r.a,{container:!0,spacing:2,classes:{root:s.buttonsContainer},children:Object(p.jsx)(r.a,{item:!0,xs:12,children:Object(p.jsx)(m.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",disableElevation:!0,children:"Save and Update"})})})]})})},oe=a(173),se=["customer","job","className","users","init"],re=Object(i.a)((function(e){return{root:{},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},name:{fontWeight:"bold",marginBottom:e.spacing(2),"&:hover":{textDecoration:"none"}},infoField:{display:"flex",flexDirection:"column",alignItems:"center"},button:{color:e.palette.text.secondary,"&:hover":{color:e.palette.primary.main}},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.text.secondary}}})),ce=["Needs Attention","Confirmed","Canceled","Completed"];function le(e){return Object(p.jsx)(T.a,Object(C.a)({},e))}var de=function(e){var t=e.customer,a=e.job,i=e.className,s=e.users,r=e.init,d=Object(_.a)(e,se),b=re(),u=Object(n.useState)(a.job_status),h=Object(v.a)(u,2),x=h[0],O=h[1],f=Object(L.b)().enqueueSnackbar,T=Object(F.b)(),U=Object(n.useState)(!1),V=Object(v.a)(U,2),$=V[0],G=V[1],K=function(){G(!1)},Q=function(){var e=Object(g.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.user_ids&&(t.user_ids.map((function(e){return n.push(e.id),null})),t.user_ids=n),e.prev=2,e.next=5,T(Object(J.i)(a.id,Object(C.a)({},t)));case 5:f("Status Changed",{variant:"success",anchorOrigin:{horizontal:"right",vertical:"top"}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(N.a,Object(C.a)(Object(C.a)({},d),{},{className:Object(w.a)(b.root,i),children:[Object(p.jsx)(S.a,{style:{textAlign:"center"},title:Object(p.jsx)(q.a,{status:a.job_status})}),Object(p.jsx)(c.a,{}),Object(p.jsxs)(I.a,{className:b.content,children:[Object(p.jsx)(M.a,{children:Object(p.jsx)(z.a,{style:{display:"flex",flexDirection:"column"},children:Object(p.jsx)(D.a,{children:Object(p.jsxs)(k.a,{className:b.infoField,children:[Object(p.jsx)(W.a,{style:{height:"60px",width:"60px",marginBottom:8}}),Object(p.jsxs)(l.a,{component:j.b,color:"textPrimary",to:"/dashboard/customers/".concat(t.id),className:b.name,children:[t.first_name," ",t.last_name]}),Object(p.jsx)(m.a,{color:"default",component:"a",href:"tel:".concat(t.phone),className:b.button,fullWidth:!0,startIcon:Object(p.jsx)(H.a,{}),children:t.phone}),t.add_phone?Object(p.jsx)(m.a,{color:"default",component:"a",href:"tel:".concat(t.add_phone),className:b.button,fullWidth:!0,startIcon:Object(p.jsx)(H.a,{}),children:t.add_phone}):null,Object(p.jsx)(m.a,{color:"default",component:"a",href:"mailto:".concat(t.email),className:b.button,fullWidth:!0,startIcon:Object(p.jsx)(Y.a,{}),children:t.email})]})})})}),Object(p.jsxs)(o.a,{justifyContent:"space-between",display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100px",children:[Object(p.jsx)(l.a,{variant:"caption",children:"Change Status"}),Object(p.jsx)(A.a,{name:"option",onChange:function(e){e.preventDefault(),e.currentTarget.blur(),"Completed"===e.target.value?G(!0):O(e.target.value)},select:!0,SelectProps:{native:!0},value:x,variant:"outlined",size:"small",children:ce.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))}),Object(p.jsx)(m.a,{variant:"contained",size:"small",disableElevation:!0,color:"primary",onClick:function(){return Q({job_status:x})},disabled:a.job_status===x,children:"Update"})]})]}),Object(p.jsxs)(B.a,{open:$,onClose:K,PaperComponent:le,"aria-labelledby":"draggable-dialog-title",children:[Object(p.jsx)(E.a,{id:"form-dialog-title",classes:{root:b.dialogTitle},children:Object(p.jsx)(P.a,{"aria-label":"close",className:b.closeButton,onClick:function(){return K()},children:Object(p.jsx)(oe.a,{})})}),Object(p.jsx)(R.a,{children:Object(p.jsx)(ie,{onClose:K,handleStatusUpdate:Q,setStatus:O,handleClose:K,init:r,users:s})})]})]}))},je=a(58),be=a.n(je),ue=a(15),me=a(192),he=a(850),xe=a(524),pe=["job","className","images","setImages","handleDeleteImage","disableShadow","disableHeader","setJob","removeAddPickup"],Oe=Object(i.a)((function(e){return{root:{boxShadow:"none"},content:{padding:0,"& .MuiTableCell-root":{borderBottom:"none"}},headerDistance:{textAlign:"center",paddingBottom:e.spacing(1)},addInfoContainer:{display:"flex",flexDirection:"column",padding:"0px 15px"},addInfoTitle:{fontSize:"14px",color:e.palette.secondary.main,textTransform:"uppercase",fontWeight:600},addInfoSubTitle:{backgroundColor:e.palette.background.level2,padding:"15px",wordWrap:"break-word",display:"flex",flexDirection:"column"},address:{textTransform:"uppercase",fontSize:14},paragraph:{fontStyle:"italic",fontSize:12},margTop:{marginTop:6},overMap:Object(ue.a)({display:"flex",width:"100%",justifyContent:"space-between",position:"relative",bottom:"6rem",left:"20%"},e.breakpoints.down("sm"),{left:"10%"}),overMapImg:{transition:"all .2s ease-in-out"},from:{}}}));var fe=function(e){var t=e.job,a=e.className,i=(e.images,e.setImages,e.handleDeleteImage,e.disableShadow),s=(e.disableHeader,e.setJob,e.removeAddPickup,Object(_.a)(e,pe)),r=Oe(),d=Object(me.a)({googleMapsApiKey:"AIzaSyADEDKabHN5FBcOroOU1W7BzUam0Az8gGQ"}).isLoaded,j=Object(n.useState)(null),b=Object(v.a)(j,2),u=b[0],m=b[1],h=window.google=window.google?window.google:{},x=Object(n.useState)(null),O=Object(v.a)(x,2),f=O[0],y=O[1];Object(n.useEffect)((function(){t.id&&y(g())}),[t.id]);var g=function(){var e=t.origin.address+","+t.origin.city+","+t.origin.zip,a="";a=""===t.destination.address?t.origin.address+","+t.origin.city+","+t.origin.zip:t.destination.address+","+t.destination.city+","+t.destination.zip;var n=[];n=t.origin.add_address?[{location:t.origin.add_address}]:null;var i=Object(xe.compose)(Object(xe.withProps)({loadingElement:Object(p.jsx)("div",{style:{height:"100%"}}),containerElement:Object(p.jsx)("div",{style:{height:"30vh",width:"97%",margin:"auto"}}),mapElement:Object(p.jsx)("div",{style:{height:"100%"}})}),he.withGoogleMap,Object(xe.lifecycle)({componentDidMount:function(){var t=this;(new h.maps.DirectionsService).route({origin:e,destination:a,waypoints:n,travelMode:h.maps.TravelMode.DRIVING},(function(e,a){a===h.maps.DirectionsStatus.OK&&(t.setState({directions:e}),m(e.routes[0].legs[0].distance.text))}))}}))((function(e){return Object(p.jsx)(he.GoogleMap,{defaultZoom:12,defaultCenter:new h.maps.LatLng(42.36,-71.06),defaultOptions:{mapTypeControl:!1,streetViewControl:!1,panControl:!1,scaleControl:!1,fullscreenControl:!1,scrollwheel:!1,styles:[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c4e5ff"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]},children:e.directions&&Object(p.jsx)(he.DirectionsRenderer,{directions:e.directions})})}));return Object(p.jsx)(i,{google:h})};return Object(p.jsxs)(N.a,Object(C.a)(Object(C.a)({},s),{},{className:Object(w.a)(i?r.root:{},a),children:[Object(p.jsx)(S.a,{title:"Move Overview"}),d&&f,Object(p.jsxs)(I.a,{className:r.content,children:[Object(p.jsx)(o.a,{className:r.headerDistance,children:u}),Object(p.jsx)(c.a,{}),Object(p.jsx)(M.a,{children:Object(p.jsxs)(z.a,{children:[Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Move date:"}),Object(p.jsx)(k.a,{style:{fontWeight:700},children:be()(t.pick_up_date).format("dddd, MMMM DD, YYYY")})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Start time:"}),Object(p.jsx)(k.a,{style:{fontWeight:700},children:be()(t.pick_up_date).format("h A")})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:t.destination.address?"Moving from:":"Address:"}),Object(p.jsxs)(k.a,{style:{display:"flex",flexDirection:"column"},children:[t.origin.address,",",Object(p.jsxs)(l.a,{style:{fontWeight:600},variant:"body2",children:[t.origin.city,", ",t.origin.state,", ",t.origin.zip]}),t.origin.apt_number&&Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.origin.apt_number]}),Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["*",t.origin.floor?t.origin.floor:t.destination.floor]})]})]}),t.destination.address?Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Moving to:"}),Object(p.jsxs)(k.a,{style:{display:"flex",flexDirection:"column"},children:[t.destination.address,",",Object(p.jsxs)(l.a,{style:{fontWeight:600},variant:"body2",children:[t.destination.city,", ",t.destination.state,",",t.destination.zip]}),t.destination.apt_number&&Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["Apt #",t.destination.apt_number]}),Object(p.jsxs)(l.a,{variant:"caption",color:"textSecondary",children:["*",t.destination.floor]})]})]}):null,Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(c.a,{})}),Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(c.a,{})})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Service:"}),Object(p.jsx)(k.a,{children:t.job_type})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Move size:"}),Object(p.jsx)(k.a,{style:{fontWeight:700},children:t.job_size})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(c.a,{})}),Object(p.jsx)(k.a,{style:{padding:"0px"},children:Object(p.jsx)(c.a,{})})]}),Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Crew:"}),Object(p.jsxs)(k.a,{style:{fontWeight:700},children:[t.crew_size," movers"]})]}),!t.is_flat_rate&&Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Hourly rate:"}),Object(p.jsx)(k.a,{children:Object(p.jsxs)(l.a,{variant:"body1",color:"primary",style:{fontWeight:700},children:["$",t.job_rate,"/hr"]})})]}),"Completed"===t.job_status?Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Duration:"}),Object(p.jsxs)(k.a,{style:{color:"#FD7013",fontSize:"18px",fontWeight:700},children:[Object(p.jsx)("label",{children:t.job_duration||""})," hours"]})]}):!t.is_flat_rate&&Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Estimated time:"}),Object(p.jsx)(k.a,{children:Object(p.jsxs)(l.a,{variant:"body1",color:"secondary",style:{fontWeight:700},children:[t.estimated_time[0]," - ",t.estimated_time[1]," hours*"]})})]}),"Completed"===t.job_status||t.is_flat_rate?null:Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Travel time:"}),Object(p.jsx)(k.a,{children:Object(p.jsxs)("label",{children:[t.travel_time[0],"/",t.travel_time[1]," min* (from/to HQ)"]})})]}),"Completed"===t.job_status?Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Total:"}),Object(p.jsx)(k.a,{style:{fontWeight:600,fontSize:"18px"},children:Object(p.jsxs)("label",{children:["$",t.total_amount]})})]}):Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:t.is_flat_rate?"FLAT PRICE":"Estimated quote:"}),Object(p.jsx)(k.a,{style:{fontWeight:600,fontSize:"18px"},children:t.is_flat_rate?Object(p.jsxs)("label",{children:["$",t.estimated_quote[0]]}):Object(p.jsxs)("label",{children:["$",t.estimated_quote[0]," - $",t.estimated_quote[1]," "]})})]}),"Completed"===t.job_status&&Object(p.jsxs)(D.a,{children:[Object(p.jsx)(k.a,{children:"Crew:"}),Object(p.jsx)(k.a,{children:t.users.map((function(e,a){return Object(p.jsxs)("label",{children:[e.first_name+" "+e.last_name,a===t.users.length-1?null:", "]},a)}))})]})]})}),Object(p.jsx)(c.a,{}),"Completed"===t.job_status?null:Object(p.jsxs)(o.a,{mt:2,className:r.addInfoContainer,children:[Object(p.jsxs)(l.a,{variant:"body2",className:r.paragraph,children:[Object(p.jsx)("span",{style:{color:"red",fontWeight:500,marginRight:"8px"},children:"NOTE:"}),Object(p.jsx)("span",{style:{fontWeight:700},children:"This quote is just an estimate and provided for your convinience only."}),"\xa0We give you a database average for generally similar moves. However, your final cost is based on hourly rate and actual time your move will take. Additional time may be required if your move involves long walks, narrow stares, furniture disassembly, bad weather conditions, etc."]}),Object(p.jsx)(l.a,{variant:"body2",className:r.paragraph,children:"* Total moving time consist of 2 hours minimum labour time plus fixed travel time."}),Object(p.jsx)(l.a,{variant:"body2",className:Object(w.a)(r.paragraph,r.margTop),children:"We accept cash, checks, credit cards. If you choose to pay with a credit cardor debit card, you will be charged a fee of 3% of the payment amount."})]}),Object(p.jsx)(o.a,{mt:4,className:r.addInfoContainer,children:Object(p.jsx)(o.a,{children:Object(p.jsx)(l.a,{className:r.addInfoTitle,children:"Additional Information:"})})}),Object(p.jsxs)(o.a,{className:r.addInfoContainer,children:[Object(p.jsx)(o.a,{mt:2,className:r.addInfoSubTitle,children:Object(p.jsx)(l.a,{variant:"body2",color:"textPrimary",children:t.additional_info})}),"Completed"===t.job_status?null:Object(p.jsx)(l.a,{variant:"body2",style:{fontSize:12},className:r.margTop,children:"Long distance moves are FLAT RATE and REQUIRED the list of all furniture and approximate amount of boxes."})]})]})]}))},ye=a(112),ge=a(220),ve=a(959),_e=a.n(ve),Ce=a(960),we=a.n(Ce),Te=a(958),Ne=a.n(Te),Se=a(167),Ie=a(117),Me=["customer","event","history"],ze=Object(X.a)((function(e){return{root:{},actionIcon:{marginRight:e.spacing(1)},cardHeader:{textAlign:"center"},button:{display:"flex",width:"100%",justifyContent:"flex-start",color:e.palette.text.secondary},arrow:{marginLeft:"auto",color:e.palette.text.secondary},menuBox:{flexDirection:"column",width:"100%"},menuBoxActive:{backgroundColor:e.palette.background.level2},statusBox:{display:"flex",alignItems:"center",marginTop:"-5px","& span ":{fontSize:"10px",backgroundColor:"transparent"}},topInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"}}}));var De=function(e){var t=e.customer,a=e.event,i=e.history,s=Object(_.a)(e,Me),r=Object(F.b)(),d=ze(),j=Object(n.useRef)(null),b=Object(n.useState)(!1),u=Object(v.a)(b,2),x=u[0],O=u[1],f=Object(F.c)((function(e){return e.customers})).customerJobs;return Object(n.useEffect)((function(){r(Object(Se.b)(t.id))}),[r,t.id]),f?Object(p.jsxs)(N.a,Object(C.a)(Object(C.a)({className:Object(w.a)(d.root)},s),{},{children:[Object(p.jsx)(S.a,{title:"HELPFUL LINKS",className:d.cardHeader,titleTypographyProps:{variant:"caption"}}),Object(p.jsx)(c.a,{}),Object(p.jsx)(I.a,{children:Object(p.jsxs)(o.a,{display:"flex",flexDirection:"column",alignItems:"flex-start",children:[Object(p.jsxs)(m.a,{className:d.button,component:ye.a,onClick:function(){O(!0)},ref:j,children:[Object(p.jsx)(Ne.a,{className:d.actionIcon}),"My Moves History (",Object(p.jsx)("span",{style:{fontWeight:600},children:f.length}),")",Object(p.jsx)(h.a,{className:Object(w.a)(d.actionIcon,d.arrow)})]}),Object(p.jsx)(ge.a,{onClose:function(){O(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,getContentAnchorEl:null,anchorEl:j.current,open:x,PaperProps:{style:{maxHeight:288},className:d.popover},children:f.map((function(e,t){var n,s;return Object(p.jsx)(Q.a,{open:x,className:e.id===a.id?d.menuBoxActive:null,onClick:function(t){e.id!==a.id?i.push("/dashboard/jobs/".concat(e.id)):t.preventDefault()},children:Object(p.jsxs)(o.a,{display:"flex",className:d.menuBox,children:[Object(p.jsxs)(o.a,{className:d.topInfo,children:[Object(p.jsx)(o.a,{children:Object(p.jsx)(l.a,{variant:"body2",children:be()(e.pick_up_date).format("MM/DD/YYYY")})}),Object(p.jsxs)(o.a,{className:d.topInfo,ml:1,children:[e.origin&&Object(p.jsx)(o.a,{children:Object(p.jsxs)(l.a,{variant:"body2",children:[e.origin.city,",",e.origin.state]})}),(null===(n=e.destination)||void 0===n?void 0:n.city)&&Object(p.jsx)(Ie.a,{style:{width:14,margin:"0 8px"},className:Object(w.a)(d.actionIcon,d.arrow)}),(null===(s=e.destination)||void 0===s?void 0:s.city)&&Object(p.jsx)(o.a,{children:Object(p.jsxs)(l.a,{variant:"body2",children:[e.destination.city,",",e.destination.state]})})]})]}),Object(p.jsx)(o.a,{className:d.statusBox,children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(q.a,{status:e.job_status}),e.job_duration?Object(p.jsxs)(l.a,{variant:"caption",style:{marginLeft:4},children:[e.job_duration,"hr"]}):null]})}),Object(p.jsx)(c.a,{})]})},t)}))}),Object(p.jsxs)(m.a,{className:d.button,children:[Object(p.jsx)(_e.a,{className:d.actionIcon}),"Certificate of Insurance",Object(p.jsx)(h.a,{className:Object(w.a)(d.actionIcon,d.arrow)})]}),Object(p.jsxs)(m.a,{className:d.button,children:[Object(p.jsx)(we.a,{className:d.actionIcon}),"Bill of Lading",Object(p.jsx)(h.a,{className:Object(w.a)(d.actionIcon,d.arrow)})]})]})})]})):null},ke=a(164),We=Object(i.a)((function(e){return{root:{},grid:{marginTop:e.spacing(2)}}}));t.default=function(e){var t=e.match,a=e.history,i=We(),j=t.params.id,b=Object(F.c)((function(e){return e.calendar})).event,u=Object(F.c)((function(e){return e.employees})).users,m=Object(F.b)();if(Object(n.useEffect)((function(){return m(Object(J.e)(j)),m(Object(ke.c)()),function(){m(Object(J.a)())}}),[m,j]),!b)return null;var h={job_duration:b.estimated_time[0],total_amount:b.estimated_quote[0],job_status:"Completed",user_ids:[]};return Object(p.jsx)(d.a,{className:i.root,title:"Job Details",children:Object(p.jsx)(o.a,{sx:{backgroundColor:"background.default",minHeight:"100%",paddingY:8},children:Object(p.jsxs)(s.a,{maxWidth:!1,children:[Object(p.jsx)(O,{job:b,handleDeleteJob:function(e){}}),Object(p.jsxs)(r.a,{className:i.grid,container:!0,spacing:2,children:[Object(p.jsx)(r.a,{item:!0,md:4,xl:3,xs:12,children:Object(p.jsxs)(r.a,{container:!0,spacing:2,children:[Object(p.jsx)(r.a,{item:!0,xs:12,children:Object(p.jsx)(de,{customer:b.customer,job:b,init:h,users:u})}),Object(p.jsx)(r.a,{item:!0,xs:12,children:Object(p.jsx)(De,{customer:b.customer,event:b,history:a})})]})}),Object(p.jsx)(r.a,{item:!0,md:8,xl:9,xs:12,children:Object(p.jsx)(fe,{job:b})}),Object(p.jsx)(r.a,{item:!0,md:3,xs:12}),Object(p.jsx)(c.a,{style:{marginTop:40,width:"100%"}}),Object(p.jsxs)(r.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(p.jsx)(o.a,{mt:5,style:{width:"100%",maxWidth:700,textAlign:"center"},children:Object(p.jsx)(o.a,{children:Object(p.jsxs)(l.a,{variant:"body1",children:["Status provided by InsightMoving. Last updated on"," ",be()(null===b||void 0===b?void 0:b.updated_at).format("MMMM Do YYYY, h:mm:ss a")]})})}),Object(p.jsx)(o.a,{style:{width:"100%",maxWidth:700,textAlign:"center",fontStyle:"italic"},children:Object(p.jsx)(o.a,{mt:2,pb:10,children:Object(p.jsxs)(l.a,{variant:"body2",color:"textSecondary",children:[Object(p.jsx)("span",{style:{color:"red",marginRight:5,fontWeight:600},children:"NOTICE:"}),"InsightMoving authorizes you to use our order status system for your convinience only. Any other use of the system and information is strictly prohibited."]})})})]})]})]})})})}}}]);