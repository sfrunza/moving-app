(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[39],{1517:function(e,a,t){"use strict";a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},2336:function(e,a,t){"use strict";t.r(a);var n=t(26),l=t(0),r=t.n(l),c=t(111),o=t(1292),i=t(1407),s=t(93),u=t.n(s),m=t(199),p=t(494),d=t(30),g=t(15),E=t(4),b=t(1290),f=t(1412),v=t(1278),h=t(67),j=t(198),O=t(135),k=t(495),N=t.n(k),C=t(2298),S=t(2299),P=t(1497),w=Object(c.a)((function(e){return{root:{},action:{marginBottom:e.spacing(1),"& + &":{marginLeft:e.spacing(1)}},actionIcon:{marginRight:e.spacing(1)}}}));var y=function(e){var a=e.className,t=Object(d.a)(e,["className"]),n=w();return r.a.createElement(b.a,Object.assign({className:Object(E.a)(n.root,a),container:!0,justify:"space-between",spacing:3},t),r.a.createElement(b.a,{item:!0},r.a.createElement(f.a,{separator:r.a.createElement(N.a,{fontSize:"small"}),"aria-label":"breadcrumb"},r.a.createElement(v.a,{variant:"body1",color:"inherit",to:"/app",component:g.a},"Dashboard"),r.a.createElement(h.a,{variant:"body1",color:"textPrimary"},"Customers")),r.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"All Customers"),r.a.createElement(i.a,{mt:2},r.a.createElement(j.a,{className:n.action},r.a.createElement(O.a,{fontSize:"small",className:n.actionIcon},r.a.createElement(C.a,null)),"Import"),r.a.createElement(j.a,{className:n.action},r.a.createElement(O.a,{fontSize:"small",className:n.actionIcon},r.a.createElement(S.a,null)),"Export"))),r.a.createElement(b.a,{item:!0},r.a.createElement(j.a,{color:"secondary",variant:"contained",className:n.action},r.a.createElement(O.a,{fontSize:"small",className:n.actionIcon},r.a.createElement(P.a,null)),"New Customer")))},A=t(75),x=t(25),I=t(291),z=t.n(I),L=t(1294),R=t(1410),_=t(1405),B=t(1279),M=t(486),T=t(795),D=t(1419),q=t(1297),F=t(1421),H=t(1299),J=t(1300),W=t(1298),G=t(1413),U=t(376),$=t(1424),K=t(1493),Q=t(1489),V=t(1619),X=t(1517),Y=[{value:"all",label:"All"},{value:"acceptsMarketing",label:"Accepts Marketing"},{value:"isProspect",label:"Prospect"},{value:"isReturning",label:"Returning"}],Z=[{value:"updatedAt|desc",label:"Last update (newest first)"},{value:"updatedAt|asc",label:"Last update (oldest first)"},{value:"orders|desc",label:"Total orders (high to low)"},{value:"orders|asc",label:"Total orders (low to high)"}];function ee(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}function ae(e,a){var t=a.split("|"),l=Object(n.a)(t,2),r=l[0],c=function(e,a){return"desc"===e?function(e,t){return ee(e,t,a)}:function(e,t){return-ee(e,t,a)}}(l[1],r),o=e.map((function(e,a){return[e,a]}));return o.sort((function(e,a){var t=c(e[0],a[0]);return 0!==t?t:e[1]-a[1]})),o.map((function(e){return e[0]}))}var te=Object(c.a)((function(e){return{root:{},queryField:{width:500},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:6,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.default},bulkAction:{marginLeft:e.spacing(2)},avatar:{height:42,width:42,marginRight:e.spacing(1)}}}));function ne(e){var a=e.className,t=e.customers,c=Object(d.a)(e,["className","customers"]),o=te(),s=Object(l.useState)("all"),u=Object(n.a)(s,2),m=u[0],p=u[1],b=Object(l.useState)([]),f=Object(n.a)(b,2),h=f[0],k=f[1],N=Object(l.useState)(0),C=Object(n.a)(N,2),S=C[0],P=C[1],w=Object(l.useState)(10),y=Object(n.a)(w,2),I=y[0],ee=y[1],ne=Object(l.useState)(""),le=Object(n.a)(ne,2),re=le[0],ce=le[1],oe=Object(l.useState)(Z[0].value),ie=Object(n.a)(oe,2),se=ie[0],ue=ie[1],me=Object(l.useState)({isProspect:null,isReturning:null,acceptsMarketing:null}),pe=Object(n.a)(me,2),de=pe[0],ge=pe[1],Ee=function(e){k(e.target.checked?t.map((function(e){return e.id})):[])},be=function(e,a,t){return e.filter((function(e){var n=!0;if(a){var l=!1;["email","first_name","last_name"].forEach((function(t){e[t].toLowerCase().includes(a.toLowerCase())&&(l=!0)})),l||(n=!1)}return Object.keys(t).forEach((function(a){var l=t[a];l&&e[a]!==l&&(n=!1)})),n}))}(t,re,de),fe=function(e,a,t){return e.slice(a*t,a*t+t)}(ae(be,se),S,I),ve=h.length>0,he=h.length>0&&h.length<t.length,je=h.length===t.length;return r.a.createElement(L.a,Object.assign({className:Object(E.a)(o.root,a)},c),r.a.createElement(R.a,{onChange:function(e,a){var t=Object(x.a)(Object(x.a)({},de),{},{isProspect:null,isReturning:null,acceptsMarketing:null});"all"!==a&&(t[a]=!0),ge(t),k([]),p(a)},scrollButtons:"auto",textColor:"secondary",value:m,variant:"scrollable"},Y.map((function(e){return r.a.createElement(_.a,{key:e.value,value:e.value,label:e.label})}))),r.a.createElement(B.a,null),r.a.createElement(i.a,{p:2,minHeight:56,display:"flex",alignItems:"center"},r.a.createElement(M.a,{className:o.queryField,InputProps:{startAdornment:r.a.createElement(T.a,{position:"start"},r.a.createElement(O.a,{fontSize:"small",color:"action"},r.a.createElement(K.a,null)))},onChange:function(e){e.persist(),ce(e.target.value)},placeholder:"Search customers",value:re,variant:"outlined"}),r.a.createElement(i.a,{flexGrow:1}),r.a.createElement(M.a,{label:"Sort By",name:"sort",onChange:function(e){e.persist(),ue(e.target.value)},select:!0,SelectProps:{native:!0},value:se,variant:"outlined"},Z.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),ve&&r.a.createElement("div",{className:o.bulkOperations},r.a.createElement("div",{className:o.bulkActions},r.a.createElement(D.a,{checked:je,indeterminate:he,onChange:Ee}),r.a.createElement(j.a,{variant:"outlined",className:o.bulkAction},"Delete"),r.a.createElement(j.a,{variant:"outlined",className:o.bulkAction},"Edit"))),r.a.createElement(z.a,null,r.a.createElement(i.a,{minWidth:700},r.a.createElement(q.a,null,r.a.createElement(F.a,null,r.a.createElement(H.a,null,r.a.createElement(J.a,{padding:"checkbox"},r.a.createElement(D.a,{checked:je,indeterminate:he,onChange:Ee})),r.a.createElement(J.a,null,"Name"),r.a.createElement(J.a,null,"Email"),r.a.createElement(J.a,null,"Phone"),r.a.createElement(J.a,{align:"right"},"Actions"))),r.a.createElement(W.a,null,fe.map((function(e){var a=h.includes(e.id);return r.a.createElement(H.a,{hover:!0,key:e.id,selected:a},r.a.createElement(J.a,{padding:"checkbox"},r.a.createElement(D.a,{checked:a,onChange:function(a){return t=e.id,void(h.includes(t)?k((function(e){return e.filter((function(e){return e!==t}))})):k((function(e){return[].concat(Object(A.a)(e),[t])})));var t},value:a})),r.a.createElement(J.a,null,r.a.createElement(i.a,{display:"flex",alignItems:"center"},r.a.createElement(G.a,{className:o.avatar,src:e.avatar},Object(X.a)(e.first_name+" "+e.last_name)),r.a.createElement("div",null,r.a.createElement(v.a,{color:"inherit",component:g.a,to:"/app/management/customers/1",variant:"h6"},e.first_name," ",e.last_name)))),r.a.createElement(J.a,null,e.email),r.a.createElement(J.a,null,function(e){var a=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return a?"("+a[1]+") "+a[2]+"-"+a[3]:null}(e.phone)),r.a.createElement(J.a,{align:"right"},r.a.createElement(U.a,{component:g.a,to:"/app/management/customers/1/edit"},r.a.createElement(O.a,{fontSize:"small"},r.a.createElement(Q.a,null))),r.a.createElement(U.a,{component:g.a,to:"/app/management/customers/1"},r.a.createElement(O.a,{fontSize:"small"},r.a.createElement(V.a,null)))))})))))),r.a.createElement($.a,{component:"div",count:be.length,onChangePage:function(e,a){P(a)},onChangeRowsPerPage:function(e){ee(e.target.value)},page:S,rowsPerPage:I,rowsPerPageOptions:[5,10,25]}))}ne.defaultProps={customers:[]};var le=ne,re=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=re(),a=Object(p.a)(),t=Object(l.useState)(null),c=Object(n.a)(t,2),s=c[0],d=c[1],g=Object(l.useCallback)((function(){u.a.get("/api/v1/customers.json").then((function(e){a.current&&d(e.data)}))}),[a]);return Object(l.useEffect)((function(){g()}),[g]),s?r.a.createElement(m.a,{className:e.root,title:"Customer List"},r.a.createElement(o.a,{maxWidth:!1},r.a.createElement(y,null),s&&r.a.createElement(i.a,{mt:3},r.a.createElement(le,{customers:s})))):null}}}]);
//# sourceMappingURL=39.117e18af.chunk.js.map